<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STIR: stir::QuadraticPrior&lt; elemT &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">STIR
   &#160;<span id="projectnumber">5.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacestir.html">stir</a></li><li class="navelem"><a class="el" href="classstir_1_1QuadraticPrior.html">QuadraticPrior</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classstir_1_1QuadraticPrior-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">stir::QuadraticPrior&lt; elemT &gt; Class Template Reference<div class="ingroups"><a class="el" href="group__STIR.html">STIR</a> &raquo; <a class="el" href="group__STIR__library.html">STIR library</a> &raquo; <a class="el" href="group__recon__buildblock.html">Reconstruction building blocks</a> &raquo; <a class="el" href="group__GeneralisedObjectiveFunction.html">Objective functions for iterative estimation of variables</a> &raquo; <a class="el" href="group__priors.html">Priors and penalties for MAP</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>A class in the <a class="el" href="classstir_1_1GeneralisedPrior.html" title="A base class for &#39;generalised&#39; priors, i.e. priors for which at least a &#39;gradient&#39; is defined...">GeneralisedPrior</a> hierarchy. This implements a quadratic Gibbs prior.  
 <a href="classstir_1_1QuadraticPrior.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="QuadraticPrior_8h_source.html">stir/recon_buildblock/QuadraticPrior.h</a>&quot;</code></p>
<div class="dynheader">
Inheritance diagram for stir::QuadraticPrior&lt; elemT &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classstir_1_1QuadraticPrior__inherit__graph.png" border="0" usemap="#stir_1_1QuadraticPrior_3_01elemT_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="stir_1_1QuadraticPrior_3_01elemT_01_4_inherit__map" id="stir_1_1QuadraticPrior_3_01elemT_01_4_inherit__map">
<area shape="rect" id="node7" href="classstir_1_1QuadraticPrior.html" title="stir::QuadraticPrior\l\&lt; float \&gt;" alt="" coords="1387,95,1517,137"/>
<area shape="rect" id="node2" href="classstir_1_1RegisteredParsingObject.html" title="stir::RegisteredParsingObject\l\&lt; QuadraticPrior\&lt; elemT \&gt;\l, GeneralisedPrior\&lt; DiscretisedDensity\l\&lt; 3, elemT \&gt; \&gt;, PriorWithParabolicSurrogate\l\&lt; DiscretisedDensity\&lt; 3, elemT \&gt; \&gt; \&gt;" alt="" coords="824,73,1105,159"/>
<area shape="rect" id="node3" href="classstir_1_1PriorWithParabolicSurrogate.html" title="stir::PriorWithParabolic\lSurrogate\&lt; DiscretisedDensity\l\&lt; 3, elemT \&gt; \&gt;" alt="" coords="337,41,539,97"/>
<area shape="rect" id="node4" href="classstir_1_1GeneralisedPrior.html" title="stir::GeneralisedPrior\l\&lt; DiscretisedDensity\&lt;\l 3, elemT \&gt; \&gt;" alt="" coords="7,5,160,61"/>
<area shape="rect" id="node5" href="classstir_1_1PriorWithParabolicSurrogate.html" title="this class implements priors with a parabolic surrogate curvature " alt="" coords="5,86,161,127"/>
<area shape="rect" id="node6" href="classstir_1_1RegisteredParsingObject.html" title="Parent class for all leaves in a RegisteredObject hierarchy that do parsing of parameter files..." alt="" coords="341,142,535,183"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a626ff086d6a9b545333f14e99843d917"><td class="memItemLeft" align="right" valign="top"><a id="a626ff086d6a9b545333f14e99843d917"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1QuadraticPrior.html#a626ff086d6a9b545333f14e99843d917">QuadraticPrior</a> ()</td></tr>
<tr class="memdesc:a626ff086d6a9b545333f14e99843d917"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor. <br /></td></tr>
<tr class="separator:a626ff086d6a9b545333f14e99843d917"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad41a1a239697ea97a4dddd069b96451"><td class="memItemLeft" align="right" valign="top"><a id="aad41a1a239697ea97a4dddd069b96451"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1QuadraticPrior.html#aad41a1a239697ea97a4dddd069b96451">QuadraticPrior</a> (const bool <a class="el" href="classstir_1_1QuadraticPrior.html#a8055943dd3c836e6d94efd32e70ebb07">only_2D</a>, float penalization_factor)</td></tr>
<tr class="memdesc:aad41a1a239697ea97a4dddd069b96451"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs it explicitly. <br /></td></tr>
<tr class="separator:aad41a1a239697ea97a4dddd069b96451"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ef2eba59cb73c4bd41cb2a7dabd7c79"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1QuadraticPrior.html#a7ef2eba59cb73c4bd41cb2a7dabd7c79">parabolic_surrogate_curvature_depends_on_argument</a> () const</td></tr>
<tr class="memdesc:a7ef2eba59cb73c4bd41cb2a7dabd7c79"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function that allows skipping some computations if the curvature is independent of the <code>current_estimate</code>.  <a href="#a7ef2eba59cb73c4bd41cb2a7dabd7c79">More...</a><br /></td></tr>
<tr class="separator:a7ef2eba59cb73c4bd41cb2a7dabd7c79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae117fd111f7bf1652a8df695412968d3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1QuadraticPrior.html#ae117fd111f7bf1652a8df695412968d3">is_convex</a> () const</td></tr>
<tr class="memdesc:ae117fd111f7bf1652a8df695412968d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates if the prior is a smooth convex function.  <a href="#ae117fd111f7bf1652a8df695412968d3">More...</a><br /></td></tr>
<tr class="separator:ae117fd111f7bf1652a8df695412968d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f6ad894c01b826c2846e9255d6b8ff1"><td class="memItemLeft" align="right" valign="top"><a id="a6f6ad894c01b826c2846e9255d6b8ff1"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1QuadraticPrior.html#a6f6ad894c01b826c2846e9255d6b8ff1">compute_value</a> (const <a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &amp;current_image_estimate)</td></tr>
<tr class="memdesc:a6f6ad894c01b826c2846e9255d6b8ff1"><td class="mdescLeft">&#160;</td><td class="mdescRight">compute the value of the function <br /></td></tr>
<tr class="separator:a6f6ad894c01b826c2846e9255d6b8ff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dc50b7f8caf38874c0d8610950822a7"><td class="memItemLeft" align="right" valign="top"><a id="a5dc50b7f8caf38874c0d8610950822a7"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1QuadraticPrior.html#a5dc50b7f8caf38874c0d8610950822a7">compute_gradient</a> (<a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &amp;prior_gradient, const <a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &amp;current_image_estimate)</td></tr>
<tr class="memdesc:a5dc50b7f8caf38874c0d8610950822a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">compute gradient <br /></td></tr>
<tr class="separator:a5dc50b7f8caf38874c0d8610950822a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae95158d59c032a23cf29566455aa4394"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1QuadraticPrior.html#ae95158d59c032a23cf29566455aa4394">parabolic_surrogate_curvature</a> (<a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &amp;parabolic_surrogate_curvature, const <a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &amp;current_image_estimate)</td></tr>
<tr class="memdesc:ae95158d59c032a23cf29566455aa4394"><td class="mdescLeft">&#160;</td><td class="mdescRight">compute the parabolic surrogate for the prior  <a href="#ae95158d59c032a23cf29566455aa4394">More...</a><br /></td></tr>
<tr class="separator:ae95158d59c032a23cf29566455aa4394"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14774caf63fb2471fe1681fe22776042"><td class="memItemLeft" align="right" valign="top"><a id="a14774caf63fb2471fe1681fe22776042"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>compute_Hessian</b> (<a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &amp;prior_Hessian_for_single_densel, const <a class="el" href="classstir_1_1BasicCoordinate.html">BasicCoordinate</a>&lt; 3, int &gt; &amp;coords, const <a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &amp;current_image_estimate) const</td></tr>
<tr class="separator:a14774caf63fb2471fe1681fe22776042"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8816ac6b42ea57f17c31a5af3523c2c5"><td class="memItemLeft" align="right" valign="top"><a id="a8816ac6b42ea57f17c31a5af3523c2c5"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1QuadraticPrior.html#a8816ac6b42ea57f17c31a5af3523c2c5">add_multiplication_with_approximate_Hessian</a> (<a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &amp;output, const <a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &amp;input) const</td></tr>
<tr class="memdesc:a8816ac6b42ea57f17c31a5af3523c2c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call accumulate_Hessian_times_input. <br /></td></tr>
<tr class="separator:a8816ac6b42ea57f17c31a5af3523c2c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdec9f6ada4511aca419377910587723"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1QuadraticPrior.html#afdec9f6ada4511aca419377910587723">accumulate_Hessian_times_input</a> (<a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &amp;output, const <a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &amp;current_estimate, const <a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &amp;input) const</td></tr>
<tr class="memdesc:afdec9f6ada4511aca419377910587723"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the multiplication of the hessian of the prior multiplied by the input. For the quadratic function, the hessian of the prior is 1. Therefore this will return the weights multiplied by the input.  <a href="#afdec9f6ada4511aca419377910587723">More...</a><br /></td></tr>
<tr class="separator:afdec9f6ada4511aca419377910587723"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0886208c647b0d89399b0b32889a776"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstir_1_1Array.html">Array</a>&lt; 3, float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1QuadraticPrior.html#ae0886208c647b0d89399b0b32889a776">get_weights</a> () const</td></tr>
<tr class="memdesc:ae0886208c647b0d89399b0b32889a776"><td class="mdescLeft">&#160;</td><td class="mdescRight">get penalty weights for the neighbourhood  <a href="#ae0886208c647b0d89399b0b32889a776">More...</a><br /></td></tr>
<tr class="separator:ae0886208c647b0d89399b0b32889a776"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ace19c146b6226cc20ce661970e1218"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1QuadraticPrior.html#a6ace19c146b6226cc20ce661970e1218">set_weights</a> (const <a class="el" href="classstir_1_1Array.html">Array</a>&lt; 3, float &gt; &amp;)</td></tr>
<tr class="memdesc:a6ace19c146b6226cc20ce661970e1218"><td class="mdescLeft">&#160;</td><td class="mdescRight">set penalty weights for the neighbourhood  <a href="#a6ace19c146b6226cc20ce661970e1218">More...</a><br /></td></tr>
<tr class="separator:a6ace19c146b6226cc20ce661970e1218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33bd28eeff1d8311d71f83ed9b8428e1"><td class="memItemLeft" align="right" valign="top">shared_ptr&lt; const <a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1QuadraticPrior.html#a33bd28eeff1d8311d71f83ed9b8428e1">get_kappa_sptr</a> () const</td></tr>
<tr class="memdesc:a33bd28eeff1d8311d71f83ed9b8428e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">get current kappa image  <a href="#a33bd28eeff1d8311d71f83ed9b8428e1">More...</a><br /></td></tr>
<tr class="separator:a33bd28eeff1d8311d71f83ed9b8428e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00194c63b28532ee88c69958e7919b60"><td class="memItemLeft" align="right" valign="top"><a id="a00194c63b28532ee88c69958e7919b60"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1QuadraticPrior.html#a00194c63b28532ee88c69958e7919b60">set_kappa_sptr</a> (const shared_ptr&lt; const <a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &gt; &amp;)</td></tr>
<tr class="memdesc:a00194c63b28532ee88c69958e7919b60"><td class="mdescLeft">&#160;</td><td class="mdescRight">set kappa image <br /></td></tr>
<tr class="separator:a00194c63b28532ee88c69958e7919b60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13acbe0458d20b90c59d8de24f308053"><td class="memItemLeft" align="right" valign="top"><a id="a13acbe0458d20b90c59d8de24f308053"></a>
virtual <a class="el" href="classstir_1_1Succeeded.html">Succeeded</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1QuadraticPrior.html#a13acbe0458d20b90c59d8de24f308053">set_up</a> (shared_ptr&lt; const <a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &gt; const &amp;target_sptr)</td></tr>
<tr class="memdesc:a13acbe0458d20b90c59d8de24f308053"><td class="mdescLeft">&#160;</td><td class="mdescRight">Has to be called before using this object. <br /></td></tr>
<tr class="separator:a13acbe0458d20b90c59d8de24f308053"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7edf64cb8735092553c2f7b46d9d398d"><td class="memTemplParams" colspan="2"><a id="a7edf64cb8735092553c2f7b46d9d398d"></a>
template&lt;&gt; </td></tr>
<tr class="memitem:a7edf64cb8735092553c2f7b46d9d398d"><td class="memTemplItemLeft" align="right" valign="top">const char *const&#160;</td><td class="memTemplItemRight" valign="bottom"><b>registered_name</b></td></tr>
<tr class="separator:a7edf64cb8735092553c2f7b46d9d398d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classstir_1_1RegisteredParsingObject"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classstir_1_1RegisteredParsingObject')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classstir_1_1RegisteredParsingObject.html">stir::RegisteredParsingObject&lt; QuadraticPrior&lt; elemT &gt;, GeneralisedPrior&lt; DiscretisedDensity&lt; 3, elemT &gt; &gt;, PriorWithParabolicSurrogate&lt; DiscretisedDensity&lt; 3, elemT &gt; &gt; &gt;</a></td></tr>
<tr class="memitem:a05ad8de71bcd308445ce21e189d3bd7b inherit pub_methods_classstir_1_1RegisteredParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="a05ad8de71bcd308445ce21e189d3bd7b"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredParsingObject.html#a05ad8de71bcd308445ce21e189d3bd7b">get_registered_name</a> () const</td></tr>
<tr class="memdesc:a05ad8de71bcd308445ce21e189d3bd7b inherit pub_methods_classstir_1_1RegisteredParsingObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns Derived::registered_name. <br /></td></tr>
<tr class="separator:a05ad8de71bcd308445ce21e189d3bd7b inherit pub_methods_classstir_1_1RegisteredParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf76fa19f100f1e941e92f6e0abd78ec inherit pub_methods_classstir_1_1RegisteredParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="abf76fa19f100f1e941e92f6e0abd78ec"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredParsingObject.html#abf76fa19f100f1e941e92f6e0abd78ec">parameter_info</a> ()</td></tr>
<tr class="memdesc:abf76fa19f100f1e941e92f6e0abd78ec inherit pub_methods_classstir_1_1RegisteredParsingObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string with all parameters and their values, in a form suitable for parsing again. <br /></td></tr>
<tr class="separator:abf76fa19f100f1e941e92f6e0abd78ec inherit pub_methods_classstir_1_1RegisteredParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classstir_1_1GeneralisedPrior"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classstir_1_1GeneralisedPrior')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classstir_1_1GeneralisedPrior.html">stir::GeneralisedPrior&lt; DiscretisedDensity&lt; 3, elemT &gt; &gt;</a></td></tr>
<tr class="memitem:a206246d1c692b3da0033258d2cb01a29 inherit pub_methods_classstir_1_1GeneralisedPrior"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1GeneralisedPrior.html#a206246d1c692b3da0033258d2cb01a29">compute_Hessian</a> (<a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &amp;prior_Hessian_for_single_densel, const <a class="el" href="classstir_1_1BasicCoordinate.html">BasicCoordinate</a>&lt; 3, int &gt; &amp;coords, const <a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &amp;current_image_estimate) const</td></tr>
<tr class="memdesc:a206246d1c692b3da0033258d2cb01a29 inherit pub_methods_classstir_1_1GeneralisedPrior"><td class="mdescLeft">&#160;</td><td class="mdescRight">This computes a single row of the Hessian.  <a href="classstir_1_1GeneralisedPrior.html#a206246d1c692b3da0033258d2cb01a29">More...</a><br /></td></tr>
<tr class="separator:a206246d1c692b3da0033258d2cb01a29 inherit pub_methods_classstir_1_1GeneralisedPrior"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2efe6c08bb8a78a607dff1f4d25a6ef7 inherit pub_methods_classstir_1_1GeneralisedPrior"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1GeneralisedPrior.html#a2efe6c08bb8a78a607dff1f4d25a6ef7">add_multiplication_with_approximate_Hessian</a> (<a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &amp;output, const <a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &amp;input) const</td></tr>
<tr class="memdesc:a2efe6c08bb8a78a607dff1f4d25a6ef7 inherit pub_methods_classstir_1_1GeneralisedPrior"><td class="mdescLeft">&#160;</td><td class="mdescRight">This should compute the multiplication of the Hessian with a vector and add it to <em>output</em>.  <a href="classstir_1_1GeneralisedPrior.html#a2efe6c08bb8a78a607dff1f4d25a6ef7">More...</a><br /></td></tr>
<tr class="separator:a2efe6c08bb8a78a607dff1f4d25a6ef7 inherit pub_methods_classstir_1_1GeneralisedPrior"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab85f4e40ea3146102a9e8d5ef16c0601 inherit pub_methods_classstir_1_1GeneralisedPrior"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1GeneralisedPrior.html#ab85f4e40ea3146102a9e8d5ef16c0601">accumulate_Hessian_times_input</a> (<a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &amp;output, const <a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &amp;current_estimate, const <a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &amp;input) const</td></tr>
<tr class="memdesc:ab85f4e40ea3146102a9e8d5ef16c0601 inherit pub_methods_classstir_1_1GeneralisedPrior"><td class="mdescLeft">&#160;</td><td class="mdescRight">This should compute the multiplication of the Hessian with a vector and add it to <em>output</em>.  <a href="classstir_1_1GeneralisedPrior.html#ab85f4e40ea3146102a9e8d5ef16c0601">More...</a><br /></td></tr>
<tr class="separator:ab85f4e40ea3146102a9e8d5ef16c0601 inherit pub_methods_classstir_1_1GeneralisedPrior"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43132c540fa2a0dee2bb080b2fb4e49a inherit pub_methods_classstir_1_1GeneralisedPrior"><td class="memItemLeft" align="right" valign="top"><a id="a43132c540fa2a0dee2bb080b2fb4e49a"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>get_penalisation_factor</b> () const</td></tr>
<tr class="separator:a43132c540fa2a0dee2bb080b2fb4e49a inherit pub_methods_classstir_1_1GeneralisedPrior"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b95a0a3ad198a11a4b1f518d4d3af0c inherit pub_methods_classstir_1_1GeneralisedPrior"><td class="memItemLeft" align="right" valign="top"><a id="a2b95a0a3ad198a11a4b1f518d4d3af0c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>set_penalisation_factor</b> (float new_penalisation_factor)</td></tr>
<tr class="separator:a2b95a0a3ad198a11a4b1f518d4d3af0c inherit pub_methods_classstir_1_1GeneralisedPrior"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a474f091d513540f3e1f66084dc021173 inherit pub_methods_classstir_1_1GeneralisedPrior"><td class="memItemLeft" align="right" valign="top"><a id="a474f091d513540f3e1f66084dc021173"></a>
virtual <a class="el" href="classstir_1_1Succeeded.html">Succeeded</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1GeneralisedPrior.html#a474f091d513540f3e1f66084dc021173">set_up</a> (shared_ptr&lt; const <a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &gt; const &amp;target_sptr)</td></tr>
<tr class="memdesc:a474f091d513540f3e1f66084dc021173 inherit pub_methods_classstir_1_1GeneralisedPrior"><td class="mdescLeft">&#160;</td><td class="mdescRight">Has to be called before using this object. <br /></td></tr>
<tr class="separator:a474f091d513540f3e1f66084dc021173 inherit pub_methods_classstir_1_1GeneralisedPrior"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classstir_1_1ParsingObject"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classstir_1_1ParsingObject')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classstir_1_1ParsingObject.html">stir::ParsingObject</a></td></tr>
<tr class="memitem:a15b8a585ba2b09674b823446bf8481bf inherit pub_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="a15b8a585ba2b09674b823446bf8481bf"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ParsingObject</b> (const <a class="el" href="classstir_1_1ParsingObject.html">ParsingObject</a> &amp;)</td></tr>
<tr class="separator:a15b8a585ba2b09674b823446bf8481bf inherit pub_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20920a86db3428de6fd40381ef50aba4 inherit pub_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="a20920a86db3428de6fd40381ef50aba4"></a>
<a class="el" href="classstir_1_1ParsingObject.html">ParsingObject</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classstir_1_1ParsingObject.html">ParsingObject</a> &amp;)</td></tr>
<tr class="separator:a20920a86db3428de6fd40381ef50aba4 inherit pub_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a268a7806a6ad7c78ec43f21582627163 inherit pub_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="a268a7806a6ad7c78ec43f21582627163"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>ask_parameters</b> ()</td></tr>
<tr class="separator:a268a7806a6ad7c78ec43f21582627163 inherit pub_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8597c63ee9c4e5c927117daf35f2b129 inherit pub_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="a8597c63ee9c4e5c927117daf35f2b129"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>parse</b> (std::istream &amp;f)</td></tr>
<tr class="separator:a8597c63ee9c4e5c927117daf35f2b129 inherit pub_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedc5f10739c1dfb78fecd33c74d7d643 inherit pub_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="aedc5f10739c1dfb78fecd33c74d7d643"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>parse</b> (const char *const filename)</td></tr>
<tr class="separator:aedc5f10739c1dfb78fecd33c74d7d643 inherit pub_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a24c5d04e378d6b8064befdac835b3301"><td class="memItemLeft" align="right" valign="top"><a id="a24c5d04e378d6b8064befdac835b3301"></a>
static const char *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1QuadraticPrior.html#a24c5d04e378d6b8064befdac835b3301">registered_name</a></td></tr>
<tr class="memdesc:a24c5d04e378d6b8064befdac835b3301"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name which will be used when parsing a <a class="el" href="classstir_1_1GeneralisedPrior.html" title="A base class for &#39;generalised&#39; priors, i.e. priors for which at least a &#39;gradient&#39; is defined...">GeneralisedPrior</a> object. <br /></td></tr>
<tr class="separator:a24c5d04e378d6b8064befdac835b3301"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a88bbb9f8318746eb7d89778c37954f43"><td class="memItemLeft" align="right" valign="top"><a id="a88bbb9f8318746eb7d89778c37954f43"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1QuadraticPrior.html#a88bbb9f8318746eb7d89778c37954f43">check</a> (<a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; const &amp;current_image_estimate) const</td></tr>
<tr class="memdesc:a88bbb9f8318746eb7d89778c37954f43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check that the prior is ready to be used. <br /></td></tr>
<tr class="separator:a88bbb9f8318746eb7d89778c37954f43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e9a0c997e0d65ae548b1963870d893a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1QuadraticPrior.html#a6e9a0c997e0d65ae548b1963870d893a">set_defaults</a> ()</td></tr>
<tr class="memdesc:a6e9a0c997e0d65ae548b1963870d893a"><td class="mdescLeft">&#160;</td><td class="mdescRight">sets value for penalisation factor  <a href="#a6e9a0c997e0d65ae548b1963870d893a">More...</a><br /></td></tr>
<tr class="separator:a6e9a0c997e0d65ae548b1963870d893a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37b10adcbb8d61d25b0e8944ff1a64a9"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1QuadraticPrior.html#a37b10adcbb8d61d25b0e8944ff1a64a9">initialise_keymap</a> ()</td></tr>
<tr class="memdesc:a37b10adcbb8d61d25b0e8944ff1a64a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">sets key for penalisation factor  <a href="#a37b10adcbb8d61d25b0e8944ff1a64a9">More...</a><br /></td></tr>
<tr class="separator:a37b10adcbb8d61d25b0e8944ff1a64a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5630b6c7ade1c80185a150e1b3fd5ac7"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1QuadraticPrior.html#a5630b6c7ade1c80185a150e1b3fd5ac7">post_processing</a> ()</td></tr>
<tr class="memdesc:a5630b6c7ade1c80185a150e1b3fd5ac7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This will be called at the end of the parsing.  <a href="#a5630b6c7ade1c80185a150e1b3fd5ac7">More...</a><br /></td></tr>
<tr class="separator:a5630b6c7ade1c80185a150e1b3fd5ac7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classstir_1_1GeneralisedPrior"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classstir_1_1GeneralisedPrior')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classstir_1_1GeneralisedPrior.html">stir::GeneralisedPrior&lt; DiscretisedDensity&lt; 3, elemT &gt; &gt;</a></td></tr>
<tr class="memitem:a6c3b6f203ad7f47a159be6a5edb7ee65 inherit pro_methods_classstir_1_1GeneralisedPrior"><td class="memItemLeft" align="right" valign="top"><a id="a6c3b6f203ad7f47a159be6a5edb7ee65"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1GeneralisedPrior.html#a6c3b6f203ad7f47a159be6a5edb7ee65">check</a> (<a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; const &amp;current_estimate) const</td></tr>
<tr class="memdesc:a6c3b6f203ad7f47a159be6a5edb7ee65 inherit pro_methods_classstir_1_1GeneralisedPrior"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check that the prior is ready to be used. <br /></td></tr>
<tr class="separator:a6c3b6f203ad7f47a159be6a5edb7ee65 inherit pro_methods_classstir_1_1GeneralisedPrior"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classstir_1_1ParsingObject"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classstir_1_1ParsingObject')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classstir_1_1ParsingObject.html">stir::ParsingObject</a></td></tr>
<tr class="memitem:ad8e81786834c010c96c31bce2bac3f6d inherit pro_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ParsingObject.html#ad8e81786834c010c96c31bce2bac3f6d">set_key_values</a> ()</td></tr>
<tr class="memdesc:ad8e81786834c010c96c31bce2bac3f6d inherit pro_methods_classstir_1_1ParsingObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">This will be called before parsing or parameter_info is called.  <a href="classstir_1_1ParsingObject.html#ad8e81786834c010c96c31bce2bac3f6d">More...</a><br /></td></tr>
<tr class="separator:ad8e81786834c010c96c31bce2bac3f6d inherit pro_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a8055943dd3c836e6d94efd32e70ebb07"><td class="memItemLeft" align="right" valign="top"><a id="a8055943dd3c836e6d94efd32e70ebb07"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1QuadraticPrior.html#a8055943dd3c836e6d94efd32e70ebb07">only_2D</a></td></tr>
<tr class="memdesc:a8055943dd3c836e6d94efd32e70ebb07"><td class="mdescLeft">&#160;</td><td class="mdescRight">can be set during parsing to restrict the weights to the 2D case <br /></td></tr>
<tr class="separator:a8055943dd3c836e6d94efd32e70ebb07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ee8220859019f5b89ca2d84b5db8d96"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1QuadraticPrior.html#a3ee8220859019f5b89ca2d84b5db8d96">gradient_filename_prefix</a></td></tr>
<tr class="memdesc:a3ee8220859019f5b89ca2d84b5db8d96"><td class="mdescLeft">&#160;</td><td class="mdescRight">filename prefix for outputing the gradient whenever <a class="el" href="classstir_1_1QuadraticPrior.html#a5dc50b7f8caf38874c0d8610950822a7" title="compute gradient ">compute_gradient()</a> is called.  <a href="#a3ee8220859019f5b89ca2d84b5db8d96">More...</a><br /></td></tr>
<tr class="separator:a3ee8220859019f5b89ca2d84b5db8d96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1646ee82569e71a4453c4531a8cb6e66"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstir_1_1Array.html">Array</a>&lt; 3, float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1QuadraticPrior.html#a1646ee82569e71a4453c4531a8cb6e66">weights</a></td></tr>
<tr class="memdesc:a1646ee82569e71a4453c4531a8cb6e66"><td class="mdescLeft">&#160;</td><td class="mdescRight">penalty weights  <a href="#a1646ee82569e71a4453c4531a8cb6e66">More...</a><br /></td></tr>
<tr class="separator:a1646ee82569e71a4453c4531a8cb6e66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a300ec0543c6b201f0f52ff9217a0306b"><td class="memItemLeft" align="right" valign="top"><a id="a300ec0543c6b201f0f52ff9217a0306b"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1QuadraticPrior.html#a300ec0543c6b201f0f52ff9217a0306b">kappa_filename</a></td></tr>
<tr class="memdesc:a300ec0543c6b201f0f52ff9217a0306b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filename for the <img class="formulaInl" alt="$\kappa$" src="form_73.png"/> image that will be read by <a class="el" href="classstir_1_1QuadraticPrior.html#a5630b6c7ade1c80185a150e1b3fd5ac7" title="This will be called at the end of the parsing. ">post_processing()</a> <br /></td></tr>
<tr class="separator:a300ec0543c6b201f0f52ff9217a0306b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classstir_1_1GeneralisedPrior"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classstir_1_1GeneralisedPrior')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classstir_1_1GeneralisedPrior.html">stir::GeneralisedPrior&lt; DiscretisedDensity&lt; 3, elemT &gt; &gt;</a></td></tr>
<tr class="memitem:abc351b677ce31d811ee7469a34ffb1ad inherit pro_attribs_classstir_1_1GeneralisedPrior"><td class="memItemLeft" align="right" valign="top"><a id="abc351b677ce31d811ee7469a34ffb1ad"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>penalisation_factor</b></td></tr>
<tr class="separator:abc351b677ce31d811ee7469a34ffb1ad inherit pro_attribs_classstir_1_1GeneralisedPrior"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49d5df563631aff00ed2d9a1aacde110 inherit pro_attribs_classstir_1_1GeneralisedPrior"><td class="memItemLeft" align="right" valign="top"><a id="a49d5df563631aff00ed2d9a1aacde110"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_already_set_up</b></td></tr>
<tr class="separator:a49d5df563631aff00ed2d9a1aacde110 inherit pro_attribs_classstir_1_1GeneralisedPrior"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classstir_1_1ParsingObject"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classstir_1_1ParsingObject')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classstir_1_1ParsingObject.html">stir::ParsingObject</a></td></tr>
<tr class="memitem:ac53aef0f7ecd5dbb6204239b14e657f8 inherit pro_attribs_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="ac53aef0f7ecd5dbb6204239b14e657f8"></a>
<a class="el" href="classstir_1_1KeyParser.html">KeyParser</a>&#160;</td><td class="memItemRight" valign="bottom"><b>parser</b></td></tr>
<tr class="separator:ac53aef0f7ecd5dbb6204239b14e657f8 inherit pro_attribs_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_methods_classstir_1_1RegisteredParsingObject"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classstir_1_1RegisteredParsingObject')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classstir_1_1RegisteredParsingObject.html">stir::RegisteredParsingObject&lt; QuadraticPrior&lt; elemT &gt;, GeneralisedPrior&lt; DiscretisedDensity&lt; 3, elemT &gt; &gt;, PriorWithParabolicSurrogate&lt; DiscretisedDensity&lt; 3, elemT &gt; &gt; &gt;</a></td></tr>
<tr class="memitem:a4efc30dcaf35a1029c6bd099acb3f6a4 inherit pub_static_methods_classstir_1_1RegisteredParsingObject"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classstir_1_1GeneralisedPrior.html">GeneralisedPrior</a>&lt; <a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredParsingObject.html#a4efc30dcaf35a1029c6bd099acb3f6a4">read_from_stream</a> (std::istream *)</td></tr>
<tr class="memdesc:a4efc30dcaf35a1029c6bd099acb3f6a4 inherit pub_static_methods_classstir_1_1RegisteredParsingObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new object (of type Derived) by parsing the istream.  <a href="classstir_1_1RegisteredParsingObject.html#a4efc30dcaf35a1029c6bd099acb3f6a4">More...</a><br /></td></tr>
<tr class="separator:a4efc30dcaf35a1029c6bd099acb3f6a4 inherit pub_static_methods_classstir_1_1RegisteredParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_classstir_1_1RegisteredObject"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classstir_1_1RegisteredObject')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classstir_1_1RegisteredObject.html">stir::RegisteredObject&lt; GeneralisedPrior&lt; DiscretisedDensity&lt; 3, elemT &gt; &gt; &gt;</a></td></tr>
<tr class="memitem:aa32357a52b98c87a1c38a162355c874e inherit pub_static_methods_classstir_1_1RegisteredObject"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classstir_1_1GeneralisedPrior.html">GeneralisedPrior</a>&lt; <a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredObject.html#aa32357a52b98c87a1c38a162355c874e">read_registered_object</a> (std::istream *in, const std::string &amp;registered_name)</td></tr>
<tr class="memdesc:aa32357a52b98c87a1c38a162355c874e inherit pub_static_methods_classstir_1_1RegisteredObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new object (of a type derived from Root, its actual type determined by the registered_name parameter) by parsing the istream.  <a href="classstir_1_1RegisteredObject.html#aa32357a52b98c87a1c38a162355c874e">More...</a><br /></td></tr>
<tr class="separator:aa32357a52b98c87a1c38a162355c874e inherit pub_static_methods_classstir_1_1RegisteredObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20ba04aadc52e375e5e97961ddb8f5e1 inherit pub_static_methods_classstir_1_1RegisteredObject"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classstir_1_1GeneralisedPrior.html">GeneralisedPrior</a>&lt; <a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredObject.html#a20ba04aadc52e375e5e97961ddb8f5e1">ask_type_and_parameters</a> ()</td></tr>
<tr class="memdesc:a20ba04aadc52e375e5e97961ddb8f5e1 inherit pub_static_methods_classstir_1_1RegisteredObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">ask the user for the type, and then calls read_registered_object(0, type)  <a href="classstir_1_1RegisteredObject.html#a20ba04aadc52e375e5e97961ddb8f5e1">More...</a><br /></td></tr>
<tr class="separator:a20ba04aadc52e375e5e97961ddb8f5e1 inherit pub_static_methods_classstir_1_1RegisteredObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7946572a60fac083300e2baaf650d6b8 inherit pub_static_methods_classstir_1_1RegisteredObject"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredObject.html#a7946572a60fac083300e2baaf650d6b8">list_registered_names</a> (std::ostream &amp;stream)</td></tr>
<tr class="memdesc:a7946572a60fac083300e2baaf650d6b8 inherit pub_static_methods_classstir_1_1RegisteredObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">List all possible registered names to the stream.  <a href="classstir_1_1RegisteredObject.html#a7946572a60fac083300e2baaf650d6b8">More...</a><br /></td></tr>
<tr class="separator:a7946572a60fac083300e2baaf650d6b8 inherit pub_static_methods_classstir_1_1RegisteredObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_types_classstir_1_1RegisteredObject"><td colspan="2" onclick="javascript:toggleInherit('pro_types_classstir_1_1RegisteredObject')"><img src="closed.png" alt="-"/>&#160;Protected Types inherited from <a class="el" href="classstir_1_1RegisteredObject.html">stir::RegisteredObject&lt; GeneralisedPrior&lt; DiscretisedDensity&lt; 3, elemT &gt; &gt; &gt;</a></td></tr>
<tr class="memitem:a4497941e1fe3ec79b7a75085d75488fb inherit pro_types_classstir_1_1RegisteredObject"><td class="memItemLeft" align="right" valign="top"><a id="a4497941e1fe3ec79b7a75085d75488fb"></a>
typedef <a class="el" href="classstir_1_1GeneralisedPrior.html">GeneralisedPrior</a>&lt; <a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &gt; *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredObject.html#a4497941e1fe3ec79b7a75085d75488fb">RootFactory</a>) (std::istream *)</td></tr>
<tr class="memdesc:a4497941e1fe3ec79b7a75085d75488fb inherit pro_types_classstir_1_1RegisteredObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">The type of a root factory is a function, taking an istream* as argument, and returning a Root*. <br /></td></tr>
<tr class="separator:a4497941e1fe3ec79b7a75085d75488fb inherit pro_types_classstir_1_1RegisteredObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6dc41fd8a2cb0a5e1118aa32df98711 inherit pro_types_classstir_1_1RegisteredObject"><td class="memItemLeft" align="right" valign="top"><a id="aa6dc41fd8a2cb0a5e1118aa32df98711"></a>
typedef <a class="el" href="classstir_1_1FactoryRegistry.html">FactoryRegistry</a>&lt; std::string, <a class="el" href="classstir_1_1RegisteredObject.html#a4497941e1fe3ec79b7a75085d75488fb">RootFactory</a>, <a class="el" href="structstir_1_1interfile__less.html">interfile_less</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredObject.html#aa6dc41fd8a2cb0a5e1118aa32df98711">RegistryType</a></td></tr>
<tr class="memdesc:aa6dc41fd8a2cb0a5e1118aa32df98711 inherit pro_types_classstir_1_1RegisteredObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">The type of the registry. <br /></td></tr>
<tr class="separator:aa6dc41fd8a2cb0a5e1118aa32df98711 inherit pro_types_classstir_1_1RegisteredObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_static_methods_classstir_1_1RegisteredObject"><td colspan="2" onclick="javascript:toggleInherit('pro_static_methods_classstir_1_1RegisteredObject')"><img src="closed.png" alt="-"/>&#160;Static Protected Member Functions inherited from <a class="el" href="classstir_1_1RegisteredObject.html">stir::RegisteredObject&lt; GeneralisedPrior&lt; DiscretisedDensity&lt; 3, elemT &gt; &gt; &gt;</a></td></tr>
<tr class="memitem:a480c831d74fb41ff32787a908a07bbd3 inherit pro_static_methods_classstir_1_1RegisteredObject"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classstir_1_1RegisteredObject.html#aa6dc41fd8a2cb0a5e1118aa32df98711">RegistryType</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredObject.html#a480c831d74fb41ff32787a908a07bbd3">registry</a> ()</td></tr>
<tr class="memdesc:a480c831d74fb41ff32787a908a07bbd3 inherit pro_static_methods_classstir_1_1RegisteredObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">Static function returning the registry.  <a href="classstir_1_1RegisteredObject.html#a480c831d74fb41ff32787a908a07bbd3">More...</a><br /></td></tr>
<tr class="separator:a480c831d74fb41ff32787a908a07bbd3 inherit pro_static_methods_classstir_1_1RegisteredObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename elemT&gt;<br />
class stir::QuadraticPrior&lt; elemT &gt;</h3>

<p>A class in the <a class="el" href="classstir_1_1GeneralisedPrior.html" title="A base class for &#39;generalised&#39; priors, i.e. priors for which at least a &#39;gradient&#39; is defined...">GeneralisedPrior</a> hierarchy. This implements a quadratic Gibbs prior. </p>
<p>The gradient of the prior is computed as follows:</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ g_r = \sum_dr w_{dr} (\lambda_r - \lambda_{r+dr}) * \kappa_r * \kappa_{r+dr} \]" src="form_119.png"/>
</p>
<p> where <img class="formulaInl" alt="$\lambda$" src="form_8.png"/> is the image and <img class="formulaInl" alt="$r$" src="form_70.png"/> and <img class="formulaInl" alt="$dr$" src="form_71.png"/> are indices and the sum is over the neighbourhood where the weights <img class="formulaInl" alt="$w_{dr}$" src="form_72.png"/> are non-zero.</p>
<p>The <img class="formulaInl" alt="$\kappa$" src="form_73.png"/> image can be used to have spatially-varying penalties such as in Jeff Fessler's papers. It should have identical dimensions to the image for which the penalty is computed. If <img class="formulaInl" alt="$\kappa$" src="form_73.png"/> is not set, this class will effectively use 1 for all <img class="formulaInl" alt="$\kappa$" src="form_73.png"/>'s.</p>
<p>By default, a 3x3 or 3x3x3 neigbourhood is used where the weights are set to x-voxel_size divided by the Euclidean distance between the points.</p>
<dl class="section user"><dt>Parsing</dt><dd>These are the keywords that can be used in addition to the ones in GeneralPrior. <pre class="fragment">Quadratic Prior Parameters:=
; next defaults to 0, set to 1 for 2D inverse Euclidean weights, 0 for 3D 
only 2D:= 0
; next can be used to set weights explicitly. Needs to be a 3D array (of floats).
' value of only_2D is ignored
; following example uses 2D 'nearest neighbour' penalty
; weights:={{{0,1,0},{1,0,1},{0,1,0}}}
; use next parameter to specify an image with penalisation factors (a la Fessler)
; see class documentation for more info
; kappa filename:=
; use next parameter to get gradient images at every subiteration
; see class documentation
gradient filename prefix:= 
END Quadratic Prior Parameters:=
</pre> </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a7ef2eba59cb73c4bd41cb2a7dabd7c79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ef2eba59cb73c4bd41cb2a7dabd7c79">&#9670;&nbsp;</a></span>parabolic_surrogate_curvature_depends_on_argument()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename elemT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool <a class="el" href="classstir_1_1QuadraticPrior.html">stir::QuadraticPrior</a>&lt; elemT &gt;::parabolic_surrogate_curvature_depends_on_argument </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A function that allows skipping some computations if the curvature is independent of the <code>current_estimate</code>. </p>
<p>Defaults to return <code>true</code>, but can be overloaded by the derived class. </p>

<p>Reimplemented from <a class="el" href="classstir_1_1PriorWithParabolicSurrogate.html#afbc8134a31dfec8c479693e6b1eec652">stir::PriorWithParabolicSurrogate&lt; DiscretisedDensity&lt; 3, elemT &gt; &gt;</a>.</p>

</div>
</div>
<a id="ae117fd111f7bf1652a8df695412968d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae117fd111f7bf1652a8df695412968d3">&#9670;&nbsp;</a></span>is_convex()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename elemT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classstir_1_1QuadraticPrior.html">stir::QuadraticPrior</a>&lt; elemT &gt;::is_convex </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Indicates if the prior is a smooth convex function. </p>
<p>If true, the prior is expected to have 0th, 1st and 2nd order behaviour implemented. </p>

<p>Implements <a class="el" href="classstir_1_1GeneralisedPrior.html#abee515b047f392c5c03b0a5e4bcd5853">stir::GeneralisedPrior&lt; DiscretisedDensity&lt; 3, elemT &gt; &gt;</a>.</p>

</div>
</div>
<a id="ae95158d59c032a23cf29566455aa4394"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae95158d59c032a23cf29566455aa4394">&#9670;&nbsp;</a></span>parabolic_surrogate_curvature()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename elemT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classstir_1_1QuadraticPrior.html">stir::QuadraticPrior</a>&lt; elemT &gt;::parabolic_surrogate_curvature </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &amp;&#160;</td>
          <td class="paramname"><em>parabolic_surrogate_curvature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &amp;&#160;</td>
          <td class="paramname"><em>current_image_estimate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>compute the parabolic surrogate for the prior </p>
<p>in the case of quadratic priors this will just be the sum of weighting coefficients </p>

<p>Implements <a class="el" href="classstir_1_1PriorWithParabolicSurrogate.html#a4232cfdb50d0f5485938b7c2b87b9e1f">stir::PriorWithParabolicSurrogate&lt; DiscretisedDensity&lt; 3, elemT &gt; &gt;</a>.</p>

</div>
</div>
<a id="afdec9f6ada4511aca419377910587723"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdec9f6ada4511aca419377910587723">&#9670;&nbsp;</a></span>accumulate_Hessian_times_input()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename elemT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classstir_1_1QuadraticPrior.html">stir::QuadraticPrior</a>&lt; elemT &gt;::accumulate_Hessian_times_input </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &amp;&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &amp;&#160;</td>
          <td class="paramname"><em>current_estimate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &amp;&#160;</td>
          <td class="paramname"><em>input</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute the multiplication of the hessian of the prior multiplied by the input. For the quadratic function, the hessian of the prior is 1. Therefore this will return the weights multiplied by the input. </p>
<p>At this point, we have j = [z][y][x] </p>

</div>
</div>
<a id="ae0886208c647b0d89399b0b32889a776"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0886208c647b0d89399b0b32889a776">&#9670;&nbsp;</a></span>get_weights()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename elemT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstir_1_1Array.html">Array</a>&lt; 3, float &gt; <a class="el" href="classstir_1_1QuadraticPrior.html">stir::QuadraticPrior</a>&lt; elemT &gt;::get_weights </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get penalty weights for the neighbourhood </p>
<p>get penalty weights for the neigbourhood </p>

</div>
</div>
<a id="a6ace19c146b6226cc20ce661970e1218"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ace19c146b6226cc20ce661970e1218">&#9670;&nbsp;</a></span>set_weights()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename elemT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classstir_1_1QuadraticPrior.html">stir::QuadraticPrior</a>&lt; elemT &gt;::set_weights </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classstir_1_1Array.html">Array</a>&lt; 3, float &gt; &amp;&#160;</td>
          <td class="paramname"><em>w</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>set penalty weights for the neighbourhood </p>
<p>set penalty weights for the neigbourhood </p>

</div>
</div>
<a id="a33bd28eeff1d8311d71f83ed9b8428e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33bd28eeff1d8311d71f83ed9b8428e1">&#9670;&nbsp;</a></span>get_kappa_sptr()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename elemT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">shared_ptr&lt; const <a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, elemT &gt; &gt; <a class="el" href="classstir_1_1QuadraticPrior.html">stir::QuadraticPrior</a>&lt; elemT &gt;::get_kappa_sptr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get current kappa image </p>
<dl class="section warning"><dt>Warning</dt><dd>As this function returns a shared_ptr, this is dangerous. You should not modify the image by manipulating the image refered to by this pointer. Unpredictable results will occur. </dd></dl>

</div>
</div>
<a id="a6e9a0c997e0d65ae548b1963870d893a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e9a0c997e0d65ae548b1963870d893a">&#9670;&nbsp;</a></span>set_defaults()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename elemT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classstir_1_1QuadraticPrior.html">stir::QuadraticPrior</a>&lt; elemT &gt;::set_defaults </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>sets value for penalisation factor </p>
<p>Has to be called by set_defaults in the leaf-class </p>

<p>Reimplemented from <a class="el" href="classstir_1_1GeneralisedPrior.html#a45c5fac9239c1ddef8a456b948e20a7f">stir::GeneralisedPrior&lt; DiscretisedDensity&lt; 3, elemT &gt; &gt;</a>.</p>

</div>
</div>
<a id="a37b10adcbb8d61d25b0e8944ff1a64a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37b10adcbb8d61d25b0e8944ff1a64a9">&#9670;&nbsp;</a></span>initialise_keymap()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename elemT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classstir_1_1QuadraticPrior.html">stir::QuadraticPrior</a>&lt; elemT &gt;::initialise_keymap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>sets key for penalisation factor </p>
<p>Has to be called by initialise_keymap in the leaf-class </p>

<p>Reimplemented from <a class="el" href="classstir_1_1GeneralisedPrior.html#aea8e3c13ab763890ec89b6780b8ab1a4">stir::GeneralisedPrior&lt; DiscretisedDensity&lt; 3, elemT &gt; &gt;</a>.</p>

</div>
</div>
<a id="a5630b6c7ade1c80185a150e1b3fd5ac7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5630b6c7ade1c80185a150e1b3fd5ac7">&#9670;&nbsp;</a></span>post_processing()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename elemT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classstir_1_1QuadraticPrior.html">stir::QuadraticPrior</a>&lt; elemT &gt;::post_processing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This will be called at the end of the parsing. </p>
<dl class="section return"><dt>Returns</dt><dd>false if everything OK, true if not </dd></dl>

<p>Reimplemented from <a class="el" href="classstir_1_1ParsingObject.html#a76911426e945844fe3429191db43af77">stir::ParsingObject</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a3ee8220859019f5b89ca2d84b5db8d96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ee8220859019f5b89ca2d84b5db8d96">&#9670;&nbsp;</a></span>gradient_filename_prefix</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename elemT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classstir_1_1QuadraticPrior.html">stir::QuadraticPrior</a>&lt; elemT &gt;::gradient_filename_prefix</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>filename prefix for outputing the gradient whenever <a class="el" href="classstir_1_1QuadraticPrior.html#a5dc50b7f8caf38874c0d8610950822a7" title="compute gradient ">compute_gradient()</a> is called. </p>
<p>An internal counter is used to keep track of the number of times the gradient is computed. The filename will be constructed by concatenating gradient_filename_prefix and the counter. </p>

</div>
</div>
<a id="a1646ee82569e71a4453c4531a8cb6e66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1646ee82569e71a4453c4531a8cb6e66">&#9670;&nbsp;</a></span>weights</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename elemT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstir_1_1Array.html">Array</a>&lt;3,float&gt; <a class="el" href="classstir_1_1QuadraticPrior.html">stir::QuadraticPrior</a>&lt; elemT &gt;::weights</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>penalty weights </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000165">Todo:</a></b></dt><dd>This member is mutable at present because some const functions initialise it. That initialisation should be moved to a new <a class="el" href="classstir_1_1QuadraticPrior.html#a13acbe0458d20b90c59d8de24f308053" title="Has to be called before using this object. ">set_up()</a> function. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/sirfuser/devel/STIRdistrib/STIR/src/include/stir/recon_buildblock/<a class="el" href="QuadraticPrior_8h_source.html">QuadraticPrior.h</a></li>
<li>/home/sirfuser/devel/STIRdistrib/STIR/src/recon_buildblock/<a class="el" href="QuadraticPrior_8cxx.html">QuadraticPrior.cxx</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Jan 14 2023 14:18:20 for STIR by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
