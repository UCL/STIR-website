<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STIR: stir::LmToProjData Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">STIR
   &#160;<span id="projectnumber">4.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacestir.html">stir</a></li><li class="navelem"><a class="el" href="classstir_1_1LmToProjData.html">LmToProjData</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classstir_1_1LmToProjData-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">stir::LmToProjData Class Reference<div class="ingroups"><a class="el" href="group__STIR.html">STIR</a> &raquo; <a class="el" href="group__STIR__library.html">STIR library</a> &raquo; <a class="el" href="group__listmode.html">Support classes for reading list mode data</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This class is used to bin listmode data to projection data, i.e. (3d) sinograms.  
 <a href="classstir_1_1LmToProjData.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="LmToProjData_8h_source.html">stir/listmode/LmToProjData.h</a>&quot;</code></p>
<div class="dynheader">
Inheritance diagram for stir::LmToProjData:</div>
<div class="dyncontent">
<div class="center"><img src="classstir_1_1LmToProjData__inherit__graph.png" border="0" usemap="#stir_1_1LmToProjData_inherit__map" alt="Inheritance graph"/></div>
<map name="stir_1_1LmToProjData_inherit__map" id="stir_1_1LmToProjData_inherit__map">
<area shape="rect" id="node4" href="classstir_1_1LmToProjDataWithMC.html" title="Class for binning list mode files with motion correction. " alt="" coords="7,229,198,256"/>
<area shape="rect" id="node2" href="classstir_1_1LmToProjDataAbstract.html" title="This class is the abstract base class fir binning listmode data to projection data, i.e. (3d) sinograms. " alt="" coords="5,80,200,107"/>
<area shape="rect" id="node3" href="classstir_1_1ParsingObject.html" title="A base class for objects that want to be able to parse parameter files. " alt="" coords="33,5,173,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8464c5d5f48a2ac0a883811292352d33"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1LmToProjData.html#a8464c5d5f48a2ac0a883811292352d33">LmToProjData</a> (const char *const par_filename)</td></tr>
<tr class="memdesc:a8464c5d5f48a2ac0a883811292352d33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor taking a filename for a parameter file.  <a href="#a8464c5d5f48a2ac0a883811292352d33">More...</a><br /></td></tr>
<tr class="separator:a8464c5d5f48a2ac0a883811292352d33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf3a3858bc3404aeef247c1e8e21cfdf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1LmToProjData.html#abf3a3858bc3404aeef247c1e8e21cfdf">LmToProjData</a> ()</td></tr>
<tr class="memdesc:abf3a3858bc3404aeef247c1e8e21cfdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#abf3a3858bc3404aeef247c1e8e21cfdf">More...</a><br /></td></tr>
<tr class="separator:abf3a3858bc3404aeef247c1e8e21cfdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fda6fc329f339135ab3e585b334c4f3"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classstir_1_1Succeeded.html">Succeeded</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1LmToProjData.html#a1fda6fc329f339135ab3e585b334c4f3">set_up</a> ()</td></tr>
<tr class="memdesc:a1fda6fc329f339135ab3e585b334c4f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform various checks.  <a href="#a1fda6fc329f339135ab3e585b334c4f3">More...</a><br /></td></tr>
<tr class="separator:a1fda6fc329f339135ab3e585b334c4f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a751ec1351febc5123dce868be5d0afec"><td class="memItemLeft" align="right" valign="top"><a id="a751ec1351febc5123dce868be5d0afec"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1LmToProjData.html#a751ec1351febc5123dce868be5d0afec">process_data</a> ()</td></tr>
<tr class="memdesc:a751ec1351febc5123dce868be5d0afec"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function does the actual work. <br /></td></tr>
<tr class="separator:a751ec1351febc5123dce868be5d0afec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Functions to get/set parameters</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>This can be used as alternative to the parsing mechanism. </p><dl class="section warning"><dt>Warning</dt><dd>Be careful with setting shared pointers. If you modify the objects in one place, all objects that use the shared pointer will be affected. </dd></dl>
</div></td></tr>
<tr class="memitem:ab0bf59705cb69bf718436136cde8ed52"><td class="memItemLeft" align="right" valign="top"><a id="ab0bf59705cb69bf718436136cde8ed52"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>set_template_proj_data_info_sptr</b> (shared_ptr&lt; <a class="el" href="classstir_1_1ProjDataInfo.html">ProjDataInfo</a> &gt;)</td></tr>
<tr class="separator:ab0bf59705cb69bf718436136cde8ed52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef753d74390423ba263add07282d99cc"><td class="memItemLeft" align="right" valign="top"><a id="aef753d74390423ba263add07282d99cc"></a>
shared_ptr&lt; <a class="el" href="classstir_1_1ProjDataInfo.html">ProjDataInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>get_template_proj_data_info_sptr</b> ()</td></tr>
<tr class="separator:aef753d74390423ba263add07282d99cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b22b6d743c282a28d73460248963c40"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1LmToProjData.html#a3b22b6d743c282a28d73460248963c40">set_input_data</a> (const shared_ptr&lt; <a class="el" href="classstir_1_1ExamData.html">ExamData</a> &gt; &amp;)</td></tr>
<tr class="memdesc:a3b22b6d743c282a28d73460248963c40"><td class="mdescLeft">&#160;</td><td class="mdescRight">set input data  <a href="#a3b22b6d743c282a28d73460248963c40">More...</a><br /></td></tr>
<tr class="separator:a3b22b6d743c282a28d73460248963c40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a521461e2f00f8af099227c6a19c8499a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1LmToProjData.html#a521461e2f00f8af099227c6a19c8499a">set_input_data</a> (const std::string &amp;filename)</td></tr>
<tr class="memdesc:a521461e2f00f8af099227c6a19c8499a"><td class="mdescLeft">&#160;</td><td class="mdescRight">set input data  <a href="#a521461e2f00f8af099227c6a19c8499a">More...</a><br /></td></tr>
<tr class="separator:a521461e2f00f8af099227c6a19c8499a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c47c7604f90e6d00b59d9d9379adeb2"><td class="memItemLeft" align="right" valign="top"><a id="a3c47c7604f90e6d00b59d9d9379adeb2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>set_output_filename_prefix</b> (const std::string &amp;)</td></tr>
<tr class="separator:a3c47c7604f90e6d00b59d9d9379adeb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02534aa43184762ada72fe166b0d08b4"><td class="memItemLeft" align="right" valign="top"><a id="a02534aa43184762ada72fe166b0d08b4"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>get_output_filename_prefix</b> () const</td></tr>
<tr class="separator:a02534aa43184762ada72fe166b0d08b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5919ac1cf147fdc119550aa2f8fd8cb8"><td class="memItemLeft" align="right" valign="top"><a id="a5919ac1cf147fdc119550aa2f8fd8cb8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>set_store_prompts</b> (bool)</td></tr>
<tr class="separator:a5919ac1cf147fdc119550aa2f8fd8cb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4b8318f6fe4bfdefcfc6b10fc716f65"><td class="memItemLeft" align="right" valign="top"><a id="ac4b8318f6fe4bfdefcfc6b10fc716f65"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>get_store_prompts</b> () const</td></tr>
<tr class="separator:ac4b8318f6fe4bfdefcfc6b10fc716f65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77dab00f6df47ce5bc70e4e17c2f077d"><td class="memItemLeft" align="right" valign="top"><a id="a77dab00f6df47ce5bc70e4e17c2f077d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>set_store_delayeds</b> (bool)</td></tr>
<tr class="separator:a77dab00f6df47ce5bc70e4e17c2f077d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a029564bb0939fb4c10314777d6af0e83"><td class="memItemLeft" align="right" valign="top"><a id="a029564bb0939fb4c10314777d6af0e83"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>get_store_delayeds</b> () const</td></tr>
<tr class="separator:a029564bb0939fb4c10314777d6af0e83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45bf1646632620d0311d23fbfd9b48e4"><td class="memItemLeft" align="right" valign="top"><a id="a45bf1646632620d0311d23fbfd9b48e4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>set_num_segments_in_memory</b> (int)</td></tr>
<tr class="separator:a45bf1646632620d0311d23fbfd9b48e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a329835c3e7cc20ff6637b27409ed3bc7"><td class="memItemLeft" align="right" valign="top"><a id="a329835c3e7cc20ff6637b27409ed3bc7"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>get_num_segments_in_memory</b> () const</td></tr>
<tr class="separator:a329835c3e7cc20ff6637b27409ed3bc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a83c442a71980895e71b289b24cd401"><td class="memItemLeft" align="right" valign="top"><a id="a2a83c442a71980895e71b289b24cd401"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>set_num_events_to_store</b> (long int)</td></tr>
<tr class="separator:a2a83c442a71980895e71b289b24cd401"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaf6720332baa3d2a00391b3281ddcb0"><td class="memItemLeft" align="right" valign="top"><a id="afaf6720332baa3d2a00391b3281ddcb0"></a>
long int&#160;</td><td class="memItemRight" valign="bottom"><b>get_num_events_to_store</b> () const</td></tr>
<tr class="separator:afaf6720332baa3d2a00391b3281ddcb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ee4cdec6ddfd6279fc2518d68feb691"><td class="memItemLeft" align="right" valign="top"><a id="a5ee4cdec6ddfd6279fc2518d68feb691"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>set_time_frame_definitions</b> (const <a class="el" href="classstir_1_1TimeFrameDefinitions.html">TimeFrameDefinitions</a> &amp;)</td></tr>
<tr class="separator:a5ee4cdec6ddfd6279fc2518d68feb691"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5482cb12789def7b2837c922d6702132"><td class="memItemLeft" align="right" valign="top"><a id="a5482cb12789def7b2837c922d6702132"></a>
const <a class="el" href="classstir_1_1TimeFrameDefinitions.html">TimeFrameDefinitions</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>get_time_frame_definitions</b> () const</td></tr>
<tr class="separator:a5482cb12789def7b2837c922d6702132"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classstir_1_1LmToProjDataAbstract"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classstir_1_1LmToProjDataAbstract')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classstir_1_1LmToProjDataAbstract.html">stir::LmToProjDataAbstract</a></td></tr>
<tr class="memitem:a8d9968b7858b6677200f55602d1b6dfc inherit pub_methods_classstir_1_1LmToProjDataAbstract"><td class="memItemLeft" align="right" valign="top"><a id="a8d9968b7858b6677200f55602d1b6dfc"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1LmToProjDataAbstract.html#a8d9968b7858b6677200f55602d1b6dfc">~LmToProjDataAbstract</a> ()</td></tr>
<tr class="memdesc:a8d9968b7858b6677200f55602d1b6dfc inherit pub_methods_classstir_1_1LmToProjDataAbstract"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br /></td></tr>
<tr class="separator:a8d9968b7858b6677200f55602d1b6dfc inherit pub_methods_classstir_1_1LmToProjDataAbstract"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classstir_1_1ParsingObject"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classstir_1_1ParsingObject')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classstir_1_1ParsingObject.html">stir::ParsingObject</a></td></tr>
<tr class="memitem:a15b8a585ba2b09674b823446bf8481bf inherit pub_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="a15b8a585ba2b09674b823446bf8481bf"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ParsingObject</b> (const <a class="el" href="classstir_1_1ParsingObject.html">ParsingObject</a> &amp;)</td></tr>
<tr class="separator:a15b8a585ba2b09674b823446bf8481bf inherit pub_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20920a86db3428de6fd40381ef50aba4 inherit pub_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="a20920a86db3428de6fd40381ef50aba4"></a>
<a class="el" href="classstir_1_1ParsingObject.html">ParsingObject</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classstir_1_1ParsingObject.html">ParsingObject</a> &amp;)</td></tr>
<tr class="separator:a20920a86db3428de6fd40381ef50aba4 inherit pub_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a268a7806a6ad7c78ec43f21582627163 inherit pub_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="a268a7806a6ad7c78ec43f21582627163"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>ask_parameters</b> ()</td></tr>
<tr class="separator:a268a7806a6ad7c78ec43f21582627163 inherit pub_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf7dc9a4725e6e6673b5cf36f8433a0b inherit pub_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="acf7dc9a4725e6e6673b5cf36f8433a0b"></a>
virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><b>parameter_info</b> ()</td></tr>
<tr class="separator:acf7dc9a4725e6e6673b5cf36f8433a0b inherit pub_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8597c63ee9c4e5c927117daf35f2b129 inherit pub_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="a8597c63ee9c4e5c927117daf35f2b129"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>parse</b> (std::istream &amp;f)</td></tr>
<tr class="separator:a8597c63ee9c4e5c927117daf35f2b129 inherit pub_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedc5f10739c1dfb78fecd33c74d7d643 inherit pub_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="aedc5f10739c1dfb78fecd33c74d7d643"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>parse</b> (const char *const filename)</td></tr>
<tr class="separator:aedc5f10739c1dfb78fecd33c74d7d643 inherit pub_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aeead7806727335ed5eb5dd084b9f9bf9"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1LmToProjData.html#aeead7806727335ed5eb5dd084b9f9bf9">start_new_time_frame</a> (const unsigned int new_frame_num)</td></tr>
<tr class="memdesc:aeead7806727335ed5eb5dd084b9f9bf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">will be called when a new time frame starts  <a href="#aeead7806727335ed5eb5dd084b9f9bf9">More...</a><br /></td></tr>
<tr class="separator:aeead7806727335ed5eb5dd084b9f9bf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f3a8e5e8c5c0ba7c6b5f45a93b809b9"><td class="memItemLeft" align="right" valign="top"><a id="a2f3a8e5e8c5c0ba7c6b5f45a93b809b9"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1LmToProjData.html#a2f3a8e5e8c5c0ba7c6b5f45a93b809b9">process_new_time_event</a> (const <a class="el" href="classstir_1_1ListTime.html">ListTime</a> &amp;)</td></tr>
<tr class="memdesc:a2f3a8e5e8c5c0ba7c6b5f45a93b809b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">will be called after a new timing event is found in the file <br /></td></tr>
<tr class="separator:a2f3a8e5e8c5c0ba7c6b5f45a93b809b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b260985d647a3809f0e8648f2ab6652"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1LmToProjData.html#a4b260985d647a3809f0e8648f2ab6652">get_bin_from_event</a> (<a class="el" href="classstir_1_1Bin.html">Bin</a> &amp;bin, const <a class="el" href="classstir_1_1ListEvent.html">ListEvent</a> &amp;) const</td></tr>
<tr class="memdesc:a4b260985d647a3809f0e8648f2ab6652"><td class="mdescLeft">&#160;</td><td class="mdescRight">will be called to get the bin for a coincidence event  <a href="#a4b260985d647a3809f0e8648f2ab6652">More...</a><br /></td></tr>
<tr class="separator:a4b260985d647a3809f0e8648f2ab6652"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ff58620224faa4d1017bb2b6115bcd5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1LmToProjData.html#a0ff58620224faa4d1017bb2b6115bcd5">get_compression_count</a> (const <a class="el" href="classstir_1_1Bin.html">Bin</a> &amp;bin) const</td></tr>
<tr class="memdesc:a0ff58620224faa4d1017bb2b6115bcd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function that should return the number of uncompressed bins in the current bin.  <a href="#a0ff58620224faa4d1017bb2b6115bcd5">More...</a><br /></td></tr>
<tr class="separator:a0ff58620224faa4d1017bb2b6115bcd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14d0c47b27430d067114de40a9da5ee5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1LmToProjData.html#a14d0c47b27430d067114de40a9da5ee5">do_post_normalisation</a> (<a class="el" href="classstir_1_1Bin.html">Bin</a> &amp;bin) const</td></tr>
<tr class="memdesc:a14d0c47b27430d067114de40a9da5ee5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes a post-normalisation factor (if any) for this bin.  <a href="#a14d0c47b27430d067114de40a9da5ee5">More...</a><br /></td></tr>
<tr class="separator:a14d0c47b27430d067114de40a9da5ee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">parsing functions</div></td></tr>
<tr class="memitem:a680efb30618ef1345bf15e25701f04b2"><td class="memItemLeft" align="right" valign="top"><a id="a680efb30618ef1345bf15e25701f04b2"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1LmToProjData.html#a680efb30618ef1345bf15e25701f04b2">set_defaults</a> ()</td></tr>
<tr class="memdesc:a680efb30618ef1345bf15e25701f04b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set defaults before parsing. <br /></td></tr>
<tr class="separator:a680efb30618ef1345bf15e25701f04b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6328fe181490901bc2417a616c3efed"><td class="memItemLeft" align="right" valign="top"><a id="ae6328fe181490901bc2417a616c3efed"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1LmToProjData.html#ae6328fe181490901bc2417a616c3efed">initialise_keymap</a> ()</td></tr>
<tr class="memdesc:ae6328fe181490901bc2417a616c3efed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise all keywords. <br /></td></tr>
<tr class="separator:ae6328fe181490901bc2417a616c3efed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a82d1fa90b34e2ca3a896b53db3957d"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1LmToProjData.html#a8a82d1fa90b34e2ca3a896b53db3957d">post_processing</a> ()</td></tr>
<tr class="memdesc:a8a82d1fa90b34e2ca3a896b53db3957d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This will be called at the end of the parsing.  <a href="#a8a82d1fa90b34e2ca3a896b53db3957d">More...</a><br /></td></tr>
<tr class="separator:a8a82d1fa90b34e2ca3a896b53db3957d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classstir_1_1ParsingObject"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classstir_1_1ParsingObject')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classstir_1_1ParsingObject.html">stir::ParsingObject</a></td></tr>
<tr class="memitem:ad8e81786834c010c96c31bce2bac3f6d inherit pro_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ParsingObject.html#ad8e81786834c010c96c31bce2bac3f6d">set_key_values</a> ()</td></tr>
<tr class="memdesc:ad8e81786834c010c96c31bce2bac3f6d inherit pro_methods_classstir_1_1ParsingObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">This will be called before parsing or parameter_info is called.  <a href="classstir_1_1ParsingObject.html#ad8e81786834c010c96c31bce2bac3f6d">More...</a><br /></td></tr>
<tr class="separator:ad8e81786834c010c96c31bce2bac3f6d inherit pro_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:af7322865f39e71392660bdbd42cb6124"><td class="memItemLeft" align="right" valign="top"><a id="af7322865f39e71392660bdbd42cb6124"></a>
shared_ptr&lt; <a class="el" href="classstir_1_1ListModeData.html">ListModeData</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1LmToProjData.html#af7322865f39e71392660bdbd42cb6124">lm_data_ptr</a></td></tr>
<tr class="memdesc:af7322865f39e71392660bdbd42cb6124"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the actual data. <br /></td></tr>
<tr class="separator:af7322865f39e71392660bdbd42cb6124"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac927c1d5e0b8e8f6a10f090dec599ff5"><td class="memItemLeft" align="right" valign="top"><a id="ac927c1d5e0b8e8f6a10f090dec599ff5"></a>
<a class="el" href="classstir_1_1TimeFrameDefinitions.html">TimeFrameDefinitions</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1LmToProjData.html#ac927c1d5e0b8e8f6a10f090dec599ff5">frame_defs</a></td></tr>
<tr class="memdesc:ac927c1d5e0b8e8f6a10f090dec599ff5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time frames. <br /></td></tr>
<tr class="separator:ac927c1d5e0b8e8f6a10f090dec599ff5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38c877c670ad64207ed747c4f025e54a"><td class="memItemLeft" align="right" valign="top"><a id="a38c877c670ad64207ed747c4f025e54a"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1LmToProjData.html#a38c877c670ad64207ed747c4f025e54a">current_time</a></td></tr>
<tr class="memdesc:a38c877c670ad64207ed747c4f025e54a"><td class="mdescLeft">&#160;</td><td class="mdescRight">stores the time (in secs) recorded in the previous timing event <br /></td></tr>
<tr class="separator:a38c877c670ad64207ed747c4f025e54a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af69b2e3a258909e969958dbd609fb941"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1LmToProjData.html#af69b2e3a258909e969958dbd609fb941">current_frame_num</a></td></tr>
<tr class="memdesc:af69b2e3a258909e969958dbd609fb941"><td class="mdescLeft">&#160;</td><td class="mdescRight">stores the current frame number  <a href="#af69b2e3a258909e969958dbd609fb941">More...</a><br /></td></tr>
<tr class="separator:af69b2e3a258909e969958dbd609fb941"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9124e90e0b4f6b4e89f7ebc60ca71329"><td class="memItemLeft" align="right" valign="top">shared_ptr&lt; <a class="el" href="classstir_1_1ProjDataInfo.html">ProjDataInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1LmToProjData.html#a9124e90e0b4f6b4e89f7ebc60ca71329">proj_data_info_cyl_uncompressed_ptr</a></td></tr>
<tr class="memdesc:a9124e90e0b4f6b4e89f7ebc60ca71329"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal variable that will be used for pre-normalisation.  <a href="#a9124e90e0b4f6b4e89f7ebc60ca71329">More...</a><br /></td></tr>
<tr class="separator:a9124e90e0b4f6b4e89f7ebc60ca71329"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a184b3776db20afa3578e4c9ae916f6d8"><td class="memItemLeft" align="right" valign="top"><a id="a184b3776db20afa3578e4c9ae916f6d8"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1LmToProjData.html#a184b3776db20afa3578e4c9ae916f6d8">do_time_frame</a></td></tr>
<tr class="memdesc:a184b3776db20afa3578e4c9ae916f6d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">variable that will be set according to if we are using time frames or num_events_to_store <br /></td></tr>
<tr class="separator:a184b3776db20afa3578e4c9ae916f6d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a289d2d1b2cf9e8affc89e557969a1e12"><td class="memItemLeft" align="right" valign="top"><a id="a289d2d1b2cf9e8affc89e557969a1e12"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1LmToProjData.html#a289d2d1b2cf9e8affc89e557969a1e12">delayed_increment</a></td></tr>
<tr class="memdesc:a289d2d1b2cf9e8affc89e557969a1e12"><td class="mdescLeft">&#160;</td><td class="mdescRight">A variable that will be set to 1,0 or -1, according to store_prompts and store_delayeds. <br /></td></tr>
<tr class="separator:a289d2d1b2cf9e8affc89e557969a1e12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8150f29e60d7241b70af575fe1a578a"><td class="memItemLeft" align="right" valign="top"><a id="ae8150f29e60d7241b70af575fe1a578a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1LmToProjData.html#ae8150f29e60d7241b70af575fe1a578a">_already_setup</a></td></tr>
<tr class="memdesc:ae8150f29e60d7241b70af575fe1a578a"><td class="mdescLeft">&#160;</td><td class="mdescRight">an internal bool variable to check if the object has been set-up or not <br /></td></tr>
<tr class="separator:ae8150f29e60d7241b70af575fe1a578a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">parsing variables</div></td></tr>
<tr class="memitem:a604f7aabd81b9a12ee0baaeafc69889c"><td class="memItemLeft" align="right" valign="top"><a id="a604f7aabd81b9a12ee0baaeafc69889c"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>input_filename</b></td></tr>
<tr class="separator:a604f7aabd81b9a12ee0baaeafc69889c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80fea83b300225e97bc8d496e3b75bc5"><td class="memItemLeft" align="right" valign="top"><a id="a80fea83b300225e97bc8d496e3b75bc5"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>output_filename_prefix</b></td></tr>
<tr class="separator:a80fea83b300225e97bc8d496e3b75bc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbf2ff7edea718b90b0216c9694eed51"><td class="memItemLeft" align="right" valign="top"><a id="abbf2ff7edea718b90b0216c9694eed51"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>template_proj_data_name</b></td></tr>
<tr class="separator:abbf2ff7edea718b90b0216c9694eed51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab16313e8fe97b4fcfc9fe9d254de63e0"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1LmToProjData.html#ab16313e8fe97b4fcfc9fe9d254de63e0">frame_definition_filename</a></td></tr>
<tr class="memdesc:ab16313e8fe97b4fcfc9fe9d254de63e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">frame definitions  <a href="#ab16313e8fe97b4fcfc9fe9d254de63e0">More...</a><br /></td></tr>
<tr class="separator:ab16313e8fe97b4fcfc9fe9d254de63e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aa622d1188baa6dde35573e31ce652c"><td class="memItemLeft" align="right" valign="top"><a id="a8aa622d1188baa6dde35573e31ce652c"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>do_pre_normalisation</b></td></tr>
<tr class="separator:a8aa622d1188baa6dde35573e31ce652c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6931bcddaf6fb584d03c1d99cc6295a7"><td class="memItemLeft" align="right" valign="top"><a id="a6931bcddaf6fb584d03c1d99cc6295a7"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>store_prompts</b></td></tr>
<tr class="separator:a6931bcddaf6fb584d03c1d99cc6295a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bea5b46eb7426d2dcf024fcbf6b3d1b"><td class="memItemLeft" align="right" valign="top"><a id="a5bea5b46eb7426d2dcf024fcbf6b3d1b"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>store_delayeds</b></td></tr>
<tr class="separator:a5bea5b46eb7426d2dcf024fcbf6b3d1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e2fc89963e22b6af0b3b99f8c51f918"><td class="memItemLeft" align="right" valign="top"><a id="a5e2fc89963e22b6af0b3b99f8c51f918"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>num_segments_in_memory</b></td></tr>
<tr class="separator:a5e2fc89963e22b6af0b3b99f8c51f918"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe964199924e0609978fb1fc1b99c621"><td class="memItemLeft" align="right" valign="top"><a id="abe964199924e0609978fb1fc1b99c621"></a>
long int&#160;</td><td class="memItemRight" valign="bottom"><b>num_events_to_store</b></td></tr>
<tr class="separator:abe964199924e0609978fb1fc1b99c621"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefefe04b83e00e54097501e62d087ced"><td class="memItemLeft" align="right" valign="top"><a id="aefefe04b83e00e54097501e62d087ced"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>max_segment_num_to_process</b></td></tr>
<tr class="separator:aefefe04b83e00e54097501e62d087ced"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc69ffd2fd47a404b171ad75beef10b8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1LmToProjData.html#abc69ffd2fd47a404b171ad75beef10b8">interactive</a></td></tr>
<tr class="memdesc:abc69ffd2fd47a404b171ad75beef10b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Toggle readable output on stdout or actual projdata.  <a href="#abc69ffd2fd47a404b171ad75beef10b8">More...</a><br /></td></tr>
<tr class="separator:abc69ffd2fd47a404b171ad75beef10b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27ebd16d61c72ea16d9b0e676f6191cc"><td class="memItemLeft" align="right" valign="top"><a id="a27ebd16d61c72ea16d9b0e676f6191cc"></a>
shared_ptr&lt; <a class="el" href="classstir_1_1ProjDataInfo.html">ProjDataInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>template_proj_data_info_ptr</b></td></tr>
<tr class="separator:a27ebd16d61c72ea16d9b0e676f6191cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e0e6a7dd52ed03e2feab8ae5c1297f9"><td class="memItemLeft" align="right" valign="top"><a id="a3e0e6a7dd52ed03e2feab8ae5c1297f9"></a>
shared_ptr&lt; <a class="el" href="classstir_1_1BinNormalisation.html">BinNormalisation</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1LmToProjData.html#a3e0e6a7dd52ed03e2feab8ae5c1297f9">normalisation_ptr</a></td></tr>
<tr class="memdesc:a3e0e6a7dd52ed03e2feab8ae5c1297f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This will be used for pre-normalisation. <br /></td></tr>
<tr class="separator:a3e0e6a7dd52ed03e2feab8ae5c1297f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78da0e7c48436602fc504feed6e2da4c"><td class="memItemLeft" align="right" valign="top"><a id="a78da0e7c48436602fc504feed6e2da4c"></a>
shared_ptr&lt; <a class="el" href="classstir_1_1BinNormalisation.html">BinNormalisation</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1LmToProjData.html#a78da0e7c48436602fc504feed6e2da4c">post_normalisation_ptr</a></td></tr>
<tr class="memdesc:a78da0e7c48436602fc504feed6e2da4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This will be used for post-normalisation. <br /></td></tr>
<tr class="separator:a78da0e7c48436602fc504feed6e2da4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classstir_1_1ParsingObject"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classstir_1_1ParsingObject')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classstir_1_1ParsingObject.html">stir::ParsingObject</a></td></tr>
<tr class="memitem:ac53aef0f7ecd5dbb6204239b14e657f8 inherit pro_attribs_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="ac53aef0f7ecd5dbb6204239b14e657f8"></a>
<a class="el" href="classstir_1_1KeyParser.html">KeyParser</a>&#160;</td><td class="memItemRight" valign="bottom"><b>parser</b></td></tr>
<tr class="separator:ac53aef0f7ecd5dbb6204239b14e657f8 inherit pro_attribs_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class is used to bin listmode data to projection data, i.e. (3d) sinograms. </p>
<p>It provides the basic machinery to go through a list mode data file, and write projection data for each time frame.</p>
<p>The class can parse its parameters from an input file. This has the following format:</p>
<pre class="fragment">lm_to_projdata Parameters:=

input file := some_lm_file
output filename prefix := my_favorite_name_for_the_projdata

; parameters that determine the sizes etc of the output

  template_projdata := some_projdata_file
  ; the next can be used to use a smaller number of segments than given 
  ; in the template
  maximum absolute segment number to process := 

; parameters for saying which events will be stored

  ; time frames (see TimeFrameDefinitions doc for format)
  frame_definition file := frames.fdef
  ; or a total number of events (if  larger than 0, frame definitions will be ignored)
  ; note that this normally counts the total of prompts-delayeds (see below)
  num_events_to_store := -1

; parameters relating to prompts and delayeds

  ; with the default values, prompts will be added and delayed subtracted
  ; to give the usual estimate of the trues.

  ; store the prompts (value should be 1 or 0)
  store prompts := 1  ;default
  ; what to do if it's a delayed event
  store delayeds := 1  ;default


; parameters related to normalisation
; default settings mean no normalisation
; Use with care!

  ; in pre normalisation, each event will contribute its 
  ; 'normalisation factor' to the bin
  ; in post normalisation, an average factor for the bin will be used
  do pre normalisation  := 0 ; default is 0
  ; type of pre-normalisation (see BinNormalisation doc)
  Bin Normalisation type for pre-normalisation := None ; default
  ; type of post-normalisation (see BinNormalisation doc)
  Bin Normalisation type for post-normalisation := None ; default

; miscellaneous parameters

  ; list each event on stdout and do not store any files (use only for testing!)
  ; has to be 0 or 1
  List event coordinates := 0

  ; if you're short of RAM (i.e. a single projdata does not fit into memory),
  ; you can use this to process the list mode data in multiple passes.
  num_segments_in_memory := -1

End := 
</pre><p>Hopefully the only thing that needs explaining are the parameters related to prompts and delayeds. These are used to allow different ways of processing the data. There are really only 3 useful cases:</p>
<ul>
<li>
'online' subtraction of delayeds<br />
 This is the default, and adds prompts but subtracts delayeds. <div class="fragment"><div class="line">store prompts := 1 </div><div class="line">store delayeds := 1</div></div><!-- fragment -->  </li>
<li>
<p class="startli">store prompts only<br />
 Use </p><div class="fragment"><div class="line">store prompts := 1 </div><div class="line">store delayeds := 0</div></div><!-- fragment --><p class="endli"></p>
</li>
<li>
store delayeds only<br />
 Use <div class="fragment"><div class="line">store prompts := 0 </div><div class="line">store delayeds := 1</div></div><!-- fragment --> Note that now the delayted events will be <b>added</b>, not subtracted.  </li>
</ul>
<dl class="section user"><dt>Notes for developers</dt><dd></dd></dl>
<p>The class provides several virtual functions. If a derived class overloads these, the default behaviour might change. For example, <a class="el" href="classstir_1_1LmToProjData.html#a4b260985d647a3809f0e8648f2ab6652" title="will be called to get the bin for a coincidence event ">get_bin_from_event()</a> might do motion correction.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000074">Todo:</a></b></dt><dd><p class="startdd">Currently, there is no support for gating or energy windows. This could in principle be added by a derived class, but it would be better to do it here. </p>
<p>Timing info or so for <a class="el" href="classstir_1_1LmToProjData.html#a4b260985d647a3809f0e8648f2ab6652" title="will be called to get the bin for a coincidence event ">get_bin_from_event()</a> for rotating scanners etc. </p>
<p class="enddd">There is overlap between the normalisation and the current treatment of bin.get_bin_value(). This is really because we should be using something like a EventNormalisation class for pre-normalisation.</p>
</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classstir_1_1ListModeData.html" title="The base class for reading list mode data. ">ListModeData</a> for more <a class="el" href="group__buildblock.html#ga58339978ae5e7a02db3ba4d82bff5ab6" title="Use this function for writing informational messages. ">info</a> on list mode data. </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8464c5d5f48a2ac0a883811292352d33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8464c5d5f48a2ac0a883811292352d33">&#9670;&nbsp;</a></span>LmToProjData() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">stir::LmToProjData::LmToProjData </td>
          <td>(</td>
          <td class="paramtype">const char *const&#160;</td>
          <td class="paramname"><em>par_filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor taking a filename for a parameter file. </p>
<p>Will attempt to open and parse the file. </p>

<p class="reference">References <a class="el" href="group__buildblock.html#ga19b3ad285f04d613640a497f868b385f">stir::error()</a>.</p>

</div>
</div>
<a id="abf3a3858bc3404aeef247c1e8e21cfdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf3a3858bc3404aeef247c1e8e21cfdf">&#9670;&nbsp;</a></span>LmToProjData() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">stir::LmToProjData::LmToProjData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor. </p>
<dl class="section warning"><dt>Warning</dt><dd>leaves parameters ill-defined. Set them by parsing. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3b22b6d743c282a28d73460248963c40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b22b6d743c282a28d73460248963c40">&#9670;&nbsp;</a></span>set_input_data() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void stir::LmToProjData::set_input_data </td>
          <td>(</td>
          <td class="paramtype">const shared_ptr&lt; <a class="el" href="classstir_1_1ExamData.html">ExamData</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>v</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>set input data </p>
<p>will throw of the input data is not of type <code><a class="el" href="classstir_1_1ListModeData.html" title="The base class for reading list mode data. ">ListModeData</a></code> </p>

</div>
</div>
<a id="a521461e2f00f8af099227c6a19c8499a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a521461e2f00f8af099227c6a19c8499a">&#9670;&nbsp;</a></span>set_input_data() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void stir::LmToProjData::set_input_data </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>set input data </p>
<p>will throw of the input data is not of type <code><a class="el" href="classstir_1_1ListModeData.html" title="The base class for reading list mode data. ">ListModeData</a></code> </p>

</div>
</div>
<a id="a1fda6fc329f339135ab3e585b334c4f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fda6fc329f339135ab3e585b334c4f3">&#9670;&nbsp;</a></span>set_up()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstir_1_1Succeeded.html">Succeeded</a> stir::LmToProjData::set_up </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Perform various checks. </p>
<p>Note: this is currently called by <a class="el" href="classstir_1_1LmToProjData.html#a8a82d1fa90b34e2ca3a896b53db3957d" title="This will be called at the end of the parsing. ">post_processing()</a>. This will change in version 5.0 </p>

<p>Reimplemented from <a class="el" href="classstir_1_1LmToProjDataAbstract.html#af4751990877c3b8fde40e01b94a3fd81">stir::LmToProjDataAbstract</a>.</p>

<p>Reimplemented in <a class="el" href="classstir_1_1LmToProjDataWithMC.html#afaa831b96815928b4f7666279c7e3bfb">stir::LmToProjDataWithMC</a>.</p>

<p class="reference">References <a class="el" href="group__buildblock.html#ga19b3ad285f04d613640a497f868b385f">stir::error()</a>.</p>

</div>
</div>
<a id="aeead7806727335ed5eb5dd084b9f9bf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeead7806727335ed5eb5dd084b9f9bf9">&#9670;&nbsp;</a></span>start_new_time_frame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void stir::LmToProjData::start_new_time_frame </td>
          <td>(</td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>new_frame_num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>will be called when a new time frame starts </p>
<p>The frame numbers start from 1. </p>

<p>Reimplemented in <a class="el" href="classstir_1_1LmToProjDataWithMC.html#a7fc13246caa4a6a1969f52e50e1c73e4">stir::LmToProjDataWithMC</a>.</p>

</div>
</div>
<a id="a4b260985d647a3809f0e8648f2ab6652"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b260985d647a3809f0e8648f2ab6652">&#9670;&nbsp;</a></span>get_bin_from_event()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void stir::LmToProjData::get_bin_from_event </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classstir_1_1Bin.html">Bin</a> &amp;&#160;</td>
          <td class="paramname"><em>bin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classstir_1_1ListEvent.html">ListEvent</a> &amp;&#160;</td>
          <td class="paramname"><em>event</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>will be called to get the bin for a coincidence event </p>
<p>If bin.get_bin_value()&lt;=0, the event will be ignored. Otherwise, the value will be used as a bin-normalisation factor (on top of anything done by normalisation_ptr). </p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000075">Todo:</a></b></dt><dd>Would need timing info or so for e.g. time dependent normalisation or angle info for a rotating scanner. </dd></dl>

<p class="reference">References <a class="el" href="classstir_1_1Bin.html#a9a4701eee8d1a61ac1a9f860b577feee">stir::Bin::axial_pos_num()</a>, <a class="el" href="classstir_1_1Bin.html#a50a74430151a74b2914f510bd37e6899">stir::Bin::get_bin_value()</a>, <a class="el" href="classstir_1_1Bin.html#a78e11f7873d3c640d9b5033ef22cb650">stir::Bin::segment_num()</a>, <a class="el" href="classstir_1_1Bin.html#af34309374c1942f4a554f01eab3ef6e0">stir::Bin::set_bin_value()</a>, <a class="el" href="classstir_1_1Bin.html#a6d551b76c16bdf18d25e914b463a9db7">stir::Bin::tangential_pos_num()</a>, <a class="el" href="classstir_1_1Bin.html#ad02c03e0365496afa18689b2ed7f6394">stir::Bin::view_num()</a>, and <a class="el" href="group__buildblock.html#ga45e27d9de6cdc69c146e791a825a20da">stir::warning()</a>.</p>

</div>
</div>
<a id="a0ff58620224faa4d1017bb2b6115bcd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ff58620224faa4d1017bb2b6115bcd5">&#9670;&nbsp;</a></span>get_compression_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int stir::LmToProjData::get_compression_count </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classstir_1_1Bin.html">Bin</a> &amp;&#160;</td>
          <td class="paramname"><em>bin</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A function that should return the number of uncompressed bins in the current bin. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000076">Todo:</a></b></dt><dd>it is not compatiable with e.g. HiDAC doesn't belong here anyway (more <a class="el" href="classstir_1_1ProjDataInfo.html" title="An (abstract base) class that contains information on the projection data. ">ProjDataInfo</a>?) </dd></dl>

<p class="reference">References <a class="el" href="classstir_1_1Bin.html#a9a4701eee8d1a61ac1a9f860b577feee">stir::Bin::axial_pos_num()</a>, <a class="el" href="classstir_1_1ProjDataInfoCylindrical.html#a6adbe7c3e2c80e7e73813c0b7d0e0fd4">stir::ProjDataInfoCylindrical::get_num_ring_pairs_for_segment_axial_pos_num()</a>, <a class="el" href="classstir_1_1ProjDataInfoCylindrical.html#ab4329e79f386e32863b1e8c2fe0444a7">stir::ProjDataInfoCylindrical::get_view_mashing_factor()</a>, and <a class="el" href="classstir_1_1Bin.html#a78e11f7873d3c640d9b5033ef22cb650">stir::Bin::segment_num()</a>.</p>

</div>
</div>
<a id="a14d0c47b27430d067114de40a9da5ee5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14d0c47b27430d067114de40a9da5ee5">&#9670;&nbsp;</a></span>do_post_normalisation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void stir::LmToProjData::do_post_normalisation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classstir_1_1Bin.html">Bin</a> &amp;&#160;</td>
          <td class="paramname"><em>bin</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes a post-normalisation factor (if any) for this bin. </p>
<p>This uses <a class="el" href="classstir_1_1LmToProjData.html#a0ff58620224faa4d1017bb2b6115bcd5" title="A function that should return the number of uncompressed bins in the current bin. ...">get_compression_count()</a> when do_pre_normalisation=true, or post_normalisation_ptr otherwise. </p>

<p class="reference">References <a class="el" href="classstir_1_1Bin.html#a9a4701eee8d1a61ac1a9f860b577feee">stir::Bin::axial_pos_num()</a>, <a class="el" href="classstir_1_1Bin.html#a50a74430151a74b2914f510bd37e6899">stir::Bin::get_bin_value()</a>, <a class="el" href="classstir_1_1Bin.html#a78e11f7873d3c640d9b5033ef22cb650">stir::Bin::segment_num()</a>, <a class="el" href="classstir_1_1Bin.html#af34309374c1942f4a554f01eab3ef6e0">stir::Bin::set_bin_value()</a>, <a class="el" href="classstir_1_1Bin.html#a6d551b76c16bdf18d25e914b463a9db7">stir::Bin::tangential_pos_num()</a>, <a class="el" href="classstir_1_1Bin.html#ad02c03e0365496afa18689b2ed7f6394">stir::Bin::view_num()</a>, and <a class="el" href="group__buildblock.html#ga45e27d9de6cdc69c146e791a825a20da">stir::warning()</a>.</p>

</div>
</div>
<a id="a8a82d1fa90b34e2ca3a896b53db3957d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a82d1fa90b34e2ca3a896b53db3957d">&#9670;&nbsp;</a></span>post_processing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool stir::LmToProjData::post_processing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This will be called at the end of the parsing. </p>
<dl class="section return"><dt>Returns</dt><dd>false if everything OK, true if not </dd></dl>

<p>Reimplemented from <a class="el" href="classstir_1_1ParsingObject.html#a76911426e945844fe3429191db43af77">stir::ParsingObject</a>.</p>

<p>Reimplemented in <a class="el" href="classstir_1_1LmToProjDataWithMC.html#a8f4bf29fe124f977a7a290bc5a771a5d">stir::LmToProjDataWithMC</a>.</p>

<p class="reference">References <a class="el" href="group__IO.html#ga023d6e4a62c18b9df73dd31527f7c648">stir::read_from_file()</a>, and <a class="el" href="group__buildblock.html#ga45e27d9de6cdc69c146e791a825a20da">stir::warning()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ab16313e8fe97b4fcfc9fe9d254de63e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab16313e8fe97b4fcfc9fe9d254de63e0">&#9670;&nbsp;</a></span>frame_definition_filename</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string stir::LmToProjData::frame_definition_filename</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>frame definitions </p>
<p>Will be read using <a class="el" href="classstir_1_1TimeFrameDefinitions.html" title="Class used for storing time frame durations. ">TimeFrameDefinitions</a> </p>

</div>
</div>
<a id="abc69ffd2fd47a404b171ad75beef10b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc69ffd2fd47a404b171ad75beef10b8">&#9670;&nbsp;</a></span>interactive</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool stir::LmToProjData::interactive</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Toggle readable output on stdout or actual projdata. </p>
<p>corresponds to key "list event coordinates" </p>

</div>
</div>
<a id="af69b2e3a258909e969958dbd609fb941"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af69b2e3a258909e969958dbd609fb941">&#9670;&nbsp;</a></span>current_frame_num</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int stir::LmToProjData::current_frame_num</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>stores the current frame number </p>
<p>The frame numbers start from 1. </p>

</div>
</div>
<a id="a9124e90e0b4f6b4e89f7ebc60ca71329"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9124e90e0b4f6b4e89f7ebc60ca71329">&#9670;&nbsp;</a></span>proj_data_info_cyl_uncompressed_ptr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">shared_ptr&lt;<a class="el" href="classstir_1_1ProjDataInfo.html">ProjDataInfo</a>&gt; stir::LmToProjData::proj_data_info_cyl_uncompressed_ptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal variable that will be used for pre-normalisation. </p>
<p>Will be removed when we have EventNormalisation (or similar) hierarchy </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/sirfuser/devel/STIRdistrib/STIR/src/include/stir/listmode/<a class="el" href="LmToProjData_8h_source.html">LmToProjData.h</a></li>
<li>/home/sirfuser/devel/STIRdistrib/STIR/src/listmode_buildblock/<a class="el" href="LmToProjData_8cxx.html">LmToProjData.cxx</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun May 2 2021 10:00:39 for STIR by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
