<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STIR: stir::ObjectiveFunctionTests&lt; ObjectiveFunctionT, TargetT &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">STIR
   &#160;<span id="projectnumber">6.3.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacestir.html">stir</a></li><li class="navelem"><a class="el" href="classstir_1_1ObjectiveFunctionTests.html">ObjectiveFunctionTests</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classstir_1_1ObjectiveFunctionTests-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">stir::ObjectiveFunctionTests&lt; ObjectiveFunctionT, TargetT &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Test class for <a class="el" href="classstir_1_1GeneralisedObjectiveFunction.html" title="A base class for &#39;generalised&#39; objective functions, i.e. objective functions for which at least a &#39;gr...">GeneralisedObjectiveFunction</a> and <a class="el" href="classstir_1_1GeneralisedPrior.html" title="A base class for &#39;generalised&#39; priors, i.e. priors for which at least a &#39;gradient&#39; is defined...">GeneralisedPrior</a>.  
 <a href="classstir_1_1ObjectiveFunctionTests.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="ObjectiveFunctionTests_8h_source.html">stir/recon_buildblock/test/ObjectiveFunctionTests.h</a>&quot;</code></p>
<div class="dynheader">
Inheritance diagram for stir::ObjectiveFunctionTests&lt; ObjectiveFunctionT, TargetT &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classstir_1_1ObjectiveFunctionTests__inherit__graph.png" border="0" usemap="#stir_1_1ObjectiveFunctionTests_3_01ObjectiveFunctionT_00_01TargetT_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="stir_1_1ObjectiveFunctionTests_3_01ObjectiveFunctionT_00_01TargetT_01_4_inherit__map" id="stir_1_1ObjectiveFunctionTests_3_01ObjectiveFunctionT_00_01TargetT_01_4_inherit__map">
<area shape="rect" id="node3" href="classstir_1_1ObjectiveFunctionTests.html" title="stir::ObjectiveFunctionTests\l\&lt; PoissonLogLikelihoodWithLinear\lModelForMeanAndProjData\&lt; DiscretisedDensity\l\&lt; 3, float \&gt; \&gt;, DiscretisedDensity\&lt; 3, float \&gt; \&gt;" alt="" coords="665,33,971,103"/>
<area shape="rect" id="node5" href="classstir_1_1ObjectiveFunctionTests.html" title="stir::ObjectiveFunctionTests\l\&lt; PoissonLogLikelihoodWithLinear\lModelForMeanAndListModeDataWithProjMatrix\lByBin\&lt; DiscretisedDensity\&lt; 3, float\l \&gt; \&gt;, DiscretisedDensity\&lt; 3, float \&gt; \&gt;" alt="" coords="669,128,967,213"/>
<area shape="rect" id="node7" href="classstir_1_1ObjectiveFunctionTests.html" title="stir::ObjectiveFunctionTests\l\&lt; GeneralisedPrior\&lt; DiscretisedDensity\l\&lt; 3, float \&gt; \&gt;, DiscretisedDensity\l\&lt; 3, float \&gt; \&gt;" alt="" coords="691,238,945,309"/>
<area shape="rect" id="node2" href="classstir_1_1RunTests.html" title="A base class for making test classesWith a derived class, an application could look like..." alt="" coords="5,159,111,185"/>
<area shape="rect" id="node4" href="classstir_1_1PoissonLogLikelihoodWithLinearModelForMeanAndProjDataTests.html" title="Test class for PoissonLogLikelihoodWithLinearModelForMeanAndProjData. " alt="" coords="1020,47,1297,89"/>
<area shape="rect" id="node6" href="classstir_1_1PoissonLogLikelihoodWithLinearModelForMeanAndListModeDataWithProjMatrixByBinTests.html" title="Test class for PoissonLogLikelihoodWithLinearModelForMeanAndListModeDataWithProjMatrixByBin. " alt="" coords="1035,143,1282,199"/>
<area shape="rect" id="node8" href="classstir_1_1GeneralisedPriorTests.html" title="Test class for QuadraticPrior, RelativeDifferencePrior, CudaRelativeDifferencePrior and LogcoshPrior..." alt="" coords="1070,260,1247,287"/>
<area shape="rect" id="node9" href="classstir_1_1LogCoshPriorTests.html" title="tests for LogCoshPrior " alt="" coords="1349,184,1509,211"/>
<area shape="rect" id="node10" href="classstir_1_1PLSPriorTests.html" title="tests for PLSPrior " alt="" coords="1362,235,1495,261"/>
<area shape="rect" id="node11" href="classstir_1_1QuadraticPriorTests.html" title="tests for QuadraticPrior " alt="" coords="1347,285,1511,312"/>
<area shape="rect" id="node12" href="classstir_1_1RelativeDifferencePriorTests.html" title="tests for RelativeDifferencePrior " alt="" coords="1351,337,1507,378"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ae048865798fbfe63908100c5a2fc1600"><td class="memItemLeft" align="right" valign="top"><a id="ae048865798fbfe63908100c5a2fc1600"></a>
typedef ObjectiveFunctionT&#160;</td><td class="memItemRight" valign="bottom"><b>objective_function_type</b></td></tr>
<tr class="separator:ae048865798fbfe63908100c5a2fc1600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c5d06b223ce3f04675ec0f54ec0a5c7"><td class="memItemLeft" align="right" valign="top"><a id="a4c5d06b223ce3f04675ec0f54ec0a5c7"></a>
typedef TargetT&#160;</td><td class="memItemRight" valign="bottom"><b>target_type</b></td></tr>
<tr class="separator:a4c5d06b223ce3f04675ec0f54ec0a5c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9f52af5365fe0f6e3a2727246a5fcc13"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classstir_1_1Succeeded.html">Succeeded</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ObjectiveFunctionTests.html#a9f52af5365fe0f6e3a2727246a5fcc13">test_gradient</a> (const std::string &amp;test_name, ObjectiveFunctionT &amp;objective_function, TargetT &amp;target, const float eps, const bool full_gradient=true)</td></tr>
<tr class="memdesc:a9f52af5365fe0f6e3a2727246a5fcc13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test the gradient of the objective function by comparing to the numerical gradient via perturbation.  <a href="#a9f52af5365fe0f6e3a2727246a5fcc13">More...</a><br /></td></tr>
<tr class="separator:a9f52af5365fe0f6e3a2727246a5fcc13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e3498682bc03a58b206f149ee034ab9"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classstir_1_1Succeeded.html">Succeeded</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ObjectiveFunctionTests.html#a6e3498682bc03a58b206f149ee034ab9">test_Hessian</a> (const std::string &amp;test_name, ObjectiveFunctionT &amp;objective_function, const TargetT &amp;target, const float eps)</td></tr>
<tr class="memdesc:a6e3498682bc03a58b206f149ee034ab9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test the accumulate_Hessian_times_input of the objective function by comparing to the numerical result via perturbation.  <a href="#a6e3498682bc03a58b206f149ee034ab9">More...</a><br /></td></tr>
<tr class="separator:a6e3498682bc03a58b206f149ee034ab9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec79c37d203e996b2b3943f87e56f728"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classstir_1_1Succeeded.html">Succeeded</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ObjectiveFunctionTests.html#aec79c37d203e996b2b3943f87e56f728">test_Hessian_concavity</a> (const std::string &amp;test_name, ObjectiveFunctionT &amp;objective_function, const TargetT &amp;target, const float mult_factor=1.F)</td></tr>
<tr class="memdesc:aec79c37d203e996b2b3943f87e56f728"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test the Hessian of the objective function by testing the (<em>mult_factor</em> * x^T Hx &gt; 0) condition.  <a href="#aec79c37d203e996b2b3943f87e56f728">More...</a><br /></td></tr>
<tr class="separator:aec79c37d203e996b2b3943f87e56f728"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classstir_1_1RunTests"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classstir_1_1RunTests')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classstir_1_1RunTests.html">stir::RunTests</a></td></tr>
<tr class="memitem:a3ea611ff0f090a359ed903ea09c6ec17 inherit pub_methods_classstir_1_1RunTests"><td class="memItemLeft" align="right" valign="top"><a id="a3ea611ff0f090a359ed903ea09c6ec17"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RunTests.html#a3ea611ff0f090a359ed903ea09c6ec17">RunTests</a> (const double <a class="el" href="classstir_1_1RunTests.html#a57389d9d070676abb1ffa3f93f3cb2b9">tolerance</a>=1E-4)</td></tr>
<tr class="memdesc:a3ea611ff0f090a359ed903ea09c6ec17 inherit pub_methods_classstir_1_1RunTests"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor. <br /></td></tr>
<tr class="separator:a3ea611ff0f090a359ed903ea09c6ec17 inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b3c3322861dc7adb3229da1d0abb637 inherit pub_methods_classstir_1_1RunTests"><td class="memItemLeft" align="right" valign="top"><a id="a7b3c3322861dc7adb3229da1d0abb637"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RunTests.html#a7b3c3322861dc7adb3229da1d0abb637">~RunTests</a> ()</td></tr>
<tr class="memdesc:a7b3c3322861dc7adb3229da1d0abb637 inherit pub_methods_classstir_1_1RunTests"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor, outputs a diagnostic message. <br /></td></tr>
<tr class="separator:a7b3c3322861dc7adb3229da1d0abb637 inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8545a068bdda66e6900fd89f836fe23 inherit pub_methods_classstir_1_1RunTests"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RunTests.html#af8545a068bdda66e6900fd89f836fe23">run_tests</a> ()=0</td></tr>
<tr class="memdesc:af8545a068bdda66e6900fd89f836fe23 inherit pub_methods_classstir_1_1RunTests"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function (to be overloaded) which does the actual tests.  <a href="classstir_1_1RunTests.html#af8545a068bdda66e6900fd89f836fe23">More...</a><br /></td></tr>
<tr class="separator:af8545a068bdda66e6900fd89f836fe23 inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e9501345feae197210af5c9d1efd1e5 inherit pub_methods_classstir_1_1RunTests"><td class="memItemLeft" align="right" valign="top"><a id="a3e9501345feae197210af5c9d1efd1e5"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RunTests.html#a3e9501345feae197210af5c9d1efd1e5">is_everything_ok</a> () const</td></tr>
<tr class="memdesc:a3e9501345feae197210af5c9d1efd1e5 inherit pub_methods_classstir_1_1RunTests"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns if all checks were fine upto now. <br /></td></tr>
<tr class="separator:a3e9501345feae197210af5c9d1efd1e5 inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bb231adb48094cd408168d877b71286 inherit pub_methods_classstir_1_1RunTests"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RunTests.html#a5bb231adb48094cd408168d877b71286">main_return_value</a> () const</td></tr>
<tr class="memdesc:a5bb231adb48094cd408168d877b71286 inherit pub_methods_classstir_1_1RunTests"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handy return value for a main() function.  <a href="classstir_1_1RunTests.html#a5bb231adb48094cd408168d877b71286">More...</a><br /></td></tr>
<tr class="separator:a5bb231adb48094cd408168d877b71286 inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1dc8b56b0e9c554fc28962b45acf743 inherit pub_methods_classstir_1_1RunTests"><td class="memItemLeft" align="right" valign="top"><a id="af1dc8b56b0e9c554fc28962b45acf743"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RunTests.html#af1dc8b56b0e9c554fc28962b45acf743">set_tolerance</a> (const double <a class="el" href="classstir_1_1RunTests.html#a57389d9d070676abb1ffa3f93f3cb2b9">tolerance</a>)</td></tr>
<tr class="memdesc:af1dc8b56b0e9c554fc28962b45acf743 inherit pub_methods_classstir_1_1RunTests"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set value used in floating point comparisons (see check_* functions) <br /></td></tr>
<tr class="separator:af1dc8b56b0e9c554fc28962b45acf743 inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02c227ae7dd4237c526c3128142e5ac5 inherit pub_methods_classstir_1_1RunTests"><td class="memItemLeft" align="right" valign="top"><a id="a02c227ae7dd4237c526c3128142e5ac5"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RunTests.html#a02c227ae7dd4237c526c3128142e5ac5">get_tolerance</a> () const</td></tr>
<tr class="memdesc:a02c227ae7dd4237c526c3128142e5ac5 inherit pub_methods_classstir_1_1RunTests"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get value used in floating point comparisons (see check_* functions) <br /></td></tr>
<tr class="separator:a02c227ae7dd4237c526c3128142e5ac5 inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28f93e7f3e1cd74f2c3074166e2f6537 inherit pub_methods_classstir_1_1RunTests"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RunTests.html#a28f93e7f3e1cd74f2c3074166e2f6537">check</a> (const bool, const std::string &amp;str=&quot;&quot;)</td></tr>
<tr class="memdesc:a28f93e7f3e1cd74f2c3074166e2f6537 inherit pub_methods_classstir_1_1RunTests"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tests if true, str can be used to tell what you are testing.  <a href="classstir_1_1RunTests.html#a28f93e7f3e1cd74f2c3074166e2f6537">More...</a><br /></td></tr>
<tr class="separator:a28f93e7f3e1cd74f2c3074166e2f6537 inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2000f359bcd56a21acc1ccd6e009a0e4 inherit pub_methods_classstir_1_1RunTests"><td class="memTemplParams" colspan="2"><a id="a2000f359bcd56a21acc1ccd6e009a0e4"></a>
template&lt;class T1 , class T2 &gt; </td></tr>
<tr class="memitem:a2000f359bcd56a21acc1ccd6e009a0e4 inherit pub_methods_classstir_1_1RunTests"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classstir_1_1RunTests.html#a2000f359bcd56a21acc1ccd6e009a0e4">check_if_less</a> (T1 a, T2 b, const std::string &amp;str=&quot;&quot;)</td></tr>
<tr class="memdesc:a2000f359bcd56a21acc1ccd6e009a0e4 inherit pub_methods_classstir_1_1RunTests"><td class="mdescLeft">&#160;</td><td class="mdescRight">check if a&lt;b <br /></td></tr>
<tr class="separator:a2000f359bcd56a21acc1ccd6e009a0e4 inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6244d09363dde1c2685ec54c25b95896 inherit pub_methods_classstir_1_1RunTests"><td class="memItemLeft" align="right" valign="top"><a id="a6244d09363dde1c2685ec54c25b95896"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>check_if_equal</b> (const std::string &amp;a, const std::string &amp;b, const std::string &amp;str=&quot;&quot;)</td></tr>
<tr class="separator:a6244d09363dde1c2685ec54c25b95896 inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab394483b2a389b13d9699cbe71e449bb inherit pub_methods_classstir_1_1RunTests"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RunTests.html#ab394483b2a389b13d9699cbe71e449bb">check_if_equal</a> (const double a, const double b, const std::string &amp;str=&quot;&quot;)</td></tr>
<tr class="separator:ab394483b2a389b13d9699cbe71e449bb inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3055dedad1ded071d48497e7c79d3715 inherit pub_methods_classstir_1_1RunTests"><td class="memItemLeft" align="right" valign="top"><a id="a3055dedad1ded071d48497e7c79d3715"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>check_if_equal</b> (const short a, const short b, const std::string &amp;str=&quot;&quot;)</td></tr>
<tr class="separator:a3055dedad1ded071d48497e7c79d3715 inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9475ed25de2e4ee1e5d36831cc99fc7 inherit pub_methods_classstir_1_1RunTests"><td class="memItemLeft" align="right" valign="top"><a id="ac9475ed25de2e4ee1e5d36831cc99fc7"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>check_if_equal</b> (const unsigned short a, const unsigned short b, const std::string &amp;str=&quot;&quot;)</td></tr>
<tr class="separator:ac9475ed25de2e4ee1e5d36831cc99fc7 inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47f29475be42af0bd5134d2c90116102 inherit pub_methods_classstir_1_1RunTests"><td class="memItemLeft" align="right" valign="top"><a id="a47f29475be42af0bd5134d2c90116102"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>check_if_equal</b> (const int a, const int b, const std::string &amp;str=&quot;&quot;)</td></tr>
<tr class="separator:a47f29475be42af0bd5134d2c90116102 inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acce9ce500472580b60bfc607969277b0 inherit pub_methods_classstir_1_1RunTests"><td class="memItemLeft" align="right" valign="top"><a id="acce9ce500472580b60bfc607969277b0"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>check_if_equal</b> (const unsigned int a, const unsigned int b, const std::string &amp;str=&quot;&quot;)</td></tr>
<tr class="separator:acce9ce500472580b60bfc607969277b0 inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98850daaca168af85bbc9d50997fe617 inherit pub_methods_classstir_1_1RunTests"><td class="memItemLeft" align="right" valign="top"><a id="a98850daaca168af85bbc9d50997fe617"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>check_if_equal</b> (const long a, const long b, const std::string &amp;str=&quot;&quot;)</td></tr>
<tr class="separator:a98850daaca168af85bbc9d50997fe617 inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29f4db5212da88107d9807c2a24a1d11 inherit pub_methods_classstir_1_1RunTests"><td class="memItemLeft" align="right" valign="top"><a id="a29f4db5212da88107d9807c2a24a1d11"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>check_if_equal</b> (const unsigned long a, const unsigned long b, const std::string &amp;str=&quot;&quot;)</td></tr>
<tr class="separator:a29f4db5212da88107d9807c2a24a1d11 inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a686dd2d37263073eb00a013abd274aec inherit pub_methods_classstir_1_1RunTests"><td class="memItemLeft" align="right" valign="top"><a id="a686dd2d37263073eb00a013abd274aec"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>check_if_equal</b> (const <a class="el" href="classstir_1_1Bin.html">Bin</a> &amp;a, const <a class="el" href="classstir_1_1Bin.html">Bin</a> &amp;b, const std::string &amp;str=&quot;&quot;)</td></tr>
<tr class="separator:a686dd2d37263073eb00a013abd274aec inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6db2daa6e66effce1b579182ea56f3e5 inherit pub_methods_classstir_1_1RunTests"><td class="memTemplParams" colspan="2"><a id="a6db2daa6e66effce1b579182ea56f3e5"></a>
template&lt;class T &gt; </td></tr>
<tr class="memitem:a6db2daa6e66effce1b579182ea56f3e5 inherit pub_methods_classstir_1_1RunTests"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><b>check_if_equal</b> (const <a class="el" href="classstir_1_1DetectionPosition.html">DetectionPosition</a>&lt; T &gt; &amp;a, const <a class="el" href="classstir_1_1DetectionPosition.html">DetectionPosition</a>&lt; T &gt; &amp;b, const std::string &amp;str=&quot;&quot;)</td></tr>
<tr class="separator:a6db2daa6e66effce1b579182ea56f3e5 inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d1d98621b1483b0057d5e3ffa5494a4 inherit pub_methods_classstir_1_1RunTests"><td class="memTemplParams" colspan="2"><a id="a6d1d98621b1483b0057d5e3ffa5494a4"></a>
template&lt;class T &gt; </td></tr>
<tr class="memitem:a6d1d98621b1483b0057d5e3ffa5494a4 inherit pub_methods_classstir_1_1RunTests"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classstir_1_1RunTests.html#a6d1d98621b1483b0057d5e3ffa5494a4">check_if_equal</a> (const std::complex&lt; T &gt; a, const std::complex&lt; T &gt; b, const std::string &amp;str=&quot;&quot;)</td></tr>
<tr class="memdesc:a6d1d98621b1483b0057d5e3ffa5494a4 inherit pub_methods_classstir_1_1RunTests"><td class="mdescLeft">&#160;</td><td class="mdescRight">check equality by calling check_if_equal on real and imaginary parts <br /></td></tr>
<tr class="separator:a6d1d98621b1483b0057d5e3ffa5494a4 inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08fc375343850c1d278f213c653d5361 inherit pub_methods_classstir_1_1RunTests"><td class="memTemplParams" colspan="2"><a id="a08fc375343850c1d278f213c653d5361"></a>
template&lt;class T &gt; </td></tr>
<tr class="memitem:a08fc375343850c1d278f213c653d5361 inherit pub_methods_classstir_1_1RunTests"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classstir_1_1RunTests.html#a08fc375343850c1d278f213c653d5361">check_if_equal</a> (const <a class="el" href="classstir_1_1VectorWithOffset.html">VectorWithOffset</a>&lt; T &gt; &amp;t1, const <a class="el" href="classstir_1_1VectorWithOffset.html">VectorWithOffset</a>&lt; T &gt; &amp;t2, const std::string &amp;str=&quot;&quot;)</td></tr>
<tr class="memdesc:a08fc375343850c1d278f213c653d5361 inherit pub_methods_classstir_1_1RunTests"><td class="mdescLeft">&#160;</td><td class="mdescRight">check equality by comparing ranges and calling check_if_equal on all elements <br /></td></tr>
<tr class="separator:a08fc375343850c1d278f213c653d5361 inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b75596456ac4fdc7ebf9a7fe16cd127 inherit pub_methods_classstir_1_1RunTests"><td class="memTemplParams" colspan="2"><a id="a5b75596456ac4fdc7ebf9a7fe16cd127"></a>
template&lt;class T &gt; </td></tr>
<tr class="memitem:a5b75596456ac4fdc7ebf9a7fe16cd127 inherit pub_methods_classstir_1_1RunTests"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classstir_1_1RunTests.html#a5b75596456ac4fdc7ebf9a7fe16cd127">check_if_equal</a> (const std::vector&lt; T &gt; &amp;t1, const std::vector&lt; T &gt; &amp;t2, const std::string &amp;str=&quot;&quot;)</td></tr>
<tr class="memdesc:a5b75596456ac4fdc7ebf9a7fe16cd127 inherit pub_methods_classstir_1_1RunTests"><td class="mdescLeft">&#160;</td><td class="mdescRight">check equality by comparing size and calling check_if_equal on all elements <br /></td></tr>
<tr class="separator:a5b75596456ac4fdc7ebf9a7fe16cd127 inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35389c3f3a375706bde4b5cdccf7c2c6 inherit pub_methods_classstir_1_1RunTests"><td class="memItemLeft" align="right" valign="top"><a id="a35389c3f3a375706bde4b5cdccf7c2c6"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>check_if_equal</b> (const <a class="el" href="classstir_1_1ProjDataInMemory.html">ProjDataInMemory</a> &amp;t1, const <a class="el" href="classstir_1_1ProjDataInMemory.html">ProjDataInMemory</a> &amp;t2, const std::string &amp;str=&quot;&quot;)</td></tr>
<tr class="separator:a35389c3f3a375706bde4b5cdccf7c2c6 inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c05936fa8877fd40e9b3cced0c0c8d0 inherit pub_methods_classstir_1_1RunTests"><td class="memTemplParams" colspan="2"><a id="a8c05936fa8877fd40e9b3cced0c0c8d0"></a>
template&lt;int n&gt; </td></tr>
<tr class="memitem:a8c05936fa8877fd40e9b3cced0c0c8d0 inherit pub_methods_classstir_1_1RunTests"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><b>check_if_equal</b> (const <a class="el" href="classstir_1_1IndexRange.html">IndexRange</a>&lt; n &gt; &amp;t1, const <a class="el" href="classstir_1_1IndexRange.html">IndexRange</a>&lt; n &gt; &amp;t2, const std::string &amp;str=&quot;&quot;)</td></tr>
<tr class="separator:a8c05936fa8877fd40e9b3cced0c0c8d0 inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24e1b6eae710b407212fc9c8ffc4bf93 inherit pub_methods_classstir_1_1RunTests"><td class="memTemplParams" colspan="2"><a id="a24e1b6eae710b407212fc9c8ffc4bf93"></a>
template&lt;int num_dimensions, class coordT &gt; </td></tr>
<tr class="memitem:a24e1b6eae710b407212fc9c8ffc4bf93 inherit pub_methods_classstir_1_1RunTests"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classstir_1_1RunTests.html#a24e1b6eae710b407212fc9c8ffc4bf93">check_if_equal</a> (const <a class="el" href="classstir_1_1BasicCoordinate.html">BasicCoordinate</a>&lt; num_dimensions, coordT &gt; &amp;a, const <a class="el" href="classstir_1_1BasicCoordinate.html">BasicCoordinate</a>&lt; num_dimensions, coordT &gt; &amp;b, const std::string &amp;str=&quot;&quot;)</td></tr>
<tr class="memdesc:a24e1b6eae710b407212fc9c8ffc4bf93 inherit pub_methods_classstir_1_1RunTests"><td class="mdescLeft">&#160;</td><td class="mdescRight">check equality by comparing norm(a-b) with tolerance <br /></td></tr>
<tr class="separator:a24e1b6eae710b407212fc9c8ffc4bf93 inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d37c02403250865f79225f5db2a863a inherit pub_methods_classstir_1_1RunTests"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RunTests.html#a7d37c02403250865f79225f5db2a863a">check_if_zero</a> (const double a, const std::string &amp;str=&quot;&quot;)</td></tr>
<tr class="separator:a7d37c02403250865f79225f5db2a863a inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38490765fa4eead9e561fc3a00b3072b inherit pub_methods_classstir_1_1RunTests"><td class="memItemLeft" align="right" valign="top"><a id="a38490765fa4eead9e561fc3a00b3072b"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>check_if_zero</b> (const short a, const std::string &amp;str=&quot;&quot;)</td></tr>
<tr class="separator:a38490765fa4eead9e561fc3a00b3072b inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10867f231e8a2b40f8f6a551b322ab2a inherit pub_methods_classstir_1_1RunTests"><td class="memItemLeft" align="right" valign="top"><a id="a10867f231e8a2b40f8f6a551b322ab2a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>check_if_zero</b> (const unsigned short a, const std::string &amp;str=&quot;&quot;)</td></tr>
<tr class="separator:a10867f231e8a2b40f8f6a551b322ab2a inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92f060e4959975b2d6cf97bdab0d3b1b inherit pub_methods_classstir_1_1RunTests"><td class="memItemLeft" align="right" valign="top"><a id="a92f060e4959975b2d6cf97bdab0d3b1b"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>check_if_zero</b> (const int a, const std::string &amp;str=&quot;&quot;)</td></tr>
<tr class="separator:a92f060e4959975b2d6cf97bdab0d3b1b inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd1c0c7cd2a05d2ebc3812166aa53369 inherit pub_methods_classstir_1_1RunTests"><td class="memItemLeft" align="right" valign="top"><a id="afd1c0c7cd2a05d2ebc3812166aa53369"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>check_if_zero</b> (const unsigned int a, const std::string &amp;str=&quot;&quot;)</td></tr>
<tr class="separator:afd1c0c7cd2a05d2ebc3812166aa53369 inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b1d18edf52054da5a3fd309eba4cc62 inherit pub_methods_classstir_1_1RunTests"><td class="memItemLeft" align="right" valign="top"><a id="a6b1d18edf52054da5a3fd309eba4cc62"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>check_if_zero</b> (const long a, const std::string &amp;str=&quot;&quot;)</td></tr>
<tr class="separator:a6b1d18edf52054da5a3fd309eba4cc62 inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a439a3bbb5f155f16ffb89672de7f97 inherit pub_methods_classstir_1_1RunTests"><td class="memItemLeft" align="right" valign="top"><a id="a5a439a3bbb5f155f16ffb89672de7f97"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>check_if_zero</b> (const unsigned long a, const std::string &amp;str=&quot;&quot;)</td></tr>
<tr class="separator:a5a439a3bbb5f155f16ffb89672de7f97 inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1eb89447472d7db54137a62406522ca inherit pub_methods_classstir_1_1RunTests"><td class="memTemplParams" colspan="2"><a id="ad1eb89447472d7db54137a62406522ca"></a>
template&lt;class T &gt; </td></tr>
<tr class="memitem:ad1eb89447472d7db54137a62406522ca inherit pub_methods_classstir_1_1RunTests"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classstir_1_1RunTests.html#ad1eb89447472d7db54137a62406522ca">check_if_zero</a> (const <a class="el" href="classstir_1_1VectorWithOffset.html">VectorWithOffset</a>&lt; T &gt; &amp;t, const std::string &amp;str=&quot;&quot;)</td></tr>
<tr class="memdesc:ad1eb89447472d7db54137a62406522ca inherit pub_methods_classstir_1_1RunTests"><td class="mdescLeft">&#160;</td><td class="mdescRight">use check_if_zero on all elements <br /></td></tr>
<tr class="separator:ad1eb89447472d7db54137a62406522ca inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4bd91d6c15f4b716d0bcda6f2a3d1d7 inherit pub_methods_classstir_1_1RunTests"><td class="memTemplParams" colspan="2"><a id="af4bd91d6c15f4b716d0bcda6f2a3d1d7"></a>
template&lt;int num_dimensions, class coordT &gt; </td></tr>
<tr class="memitem:af4bd91d6c15f4b716d0bcda6f2a3d1d7 inherit pub_methods_classstir_1_1RunTests"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classstir_1_1RunTests.html#af4bd91d6c15f4b716d0bcda6f2a3d1d7">check_if_zero</a> (const <a class="el" href="classstir_1_1BasicCoordinate.html">BasicCoordinate</a>&lt; num_dimensions, coordT &gt; &amp;a, const std::string &amp;str=&quot;&quot;)</td></tr>
<tr class="memdesc:af4bd91d6c15f4b716d0bcda6f2a3d1d7 inherit pub_methods_classstir_1_1RunTests"><td class="mdescLeft">&#160;</td><td class="mdescRight">compare norm with tolerance <br /></td></tr>
<tr class="separator:af4bd91d6c15f4b716d0bcda6f2a3d1d7 inherit pub_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a3a77b16de342e09df8b1c1a1a71939df"><td class="memItemLeft" align="right" valign="top">virtual shared_ptr&lt; const TargetT &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ObjectiveFunctionTests.html#a3a77b16de342e09df8b1c1a1a71939df">construct_increment</a> (const TargetT &amp;target, const float eps) const</td></tr>
<tr class="memdesc:a3a77b16de342e09df8b1c1a1a71939df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct small increment for target.  <a href="#a3a77b16de342e09df8b1c1a1a71939df">More...</a><br /></td></tr>
<tr class="separator:a3a77b16de342e09df8b1c1a1a71939df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classstir_1_1RunTests"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classstir_1_1RunTests')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classstir_1_1RunTests.html">stir::RunTests</a></td></tr>
<tr class="memitem:a6e8d0c619839dca05520a0ea0fb57c02 inherit pro_methods_classstir_1_1RunTests"><td class="memTemplParams" colspan="2"><a id="a6e8d0c619839dca05520a0ea0fb57c02"></a>
template&lt;class T &gt; </td></tr>
<tr class="memitem:a6e8d0c619839dca05520a0ea0fb57c02 inherit pro_methods_classstir_1_1RunTests"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classstir_1_1RunTests.html#a6e8d0c619839dca05520a0ea0fb57c02">check_if_equal_generic</a> (const T &amp;a, const T &amp;b, const std::string &amp;str)</td></tr>
<tr class="memdesc:a6e8d0c619839dca05520a0ea0fb57c02 inherit pro_methods_classstir_1_1RunTests"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that is called by some check_if_equal implementations. It just uses operator!= <br /></td></tr>
<tr class="separator:a6e8d0c619839dca05520a0ea0fb57c02 inherit pro_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76587d3d3ae615cdd4c0a9cf71daa2b4 inherit pro_methods_classstir_1_1RunTests"><td class="memTemplParams" colspan="2"><a id="a76587d3d3ae615cdd4c0a9cf71daa2b4"></a>
template&lt;class T &gt; </td></tr>
<tr class="memitem:a76587d3d3ae615cdd4c0a9cf71daa2b4 inherit pro_methods_classstir_1_1RunTests"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classstir_1_1RunTests.html#a76587d3d3ae615cdd4c0a9cf71daa2b4">check_if_zero_generic</a> (T a, const std::string &amp;str)</td></tr>
<tr class="memdesc:a76587d3d3ae615cdd4c0a9cf71daa2b4 inherit pro_methods_classstir_1_1RunTests"><td class="mdescLeft">&#160;</td><td class="mdescRight">function that is called by some check_if_zero implementations. It just uses operator!= <br /></td></tr>
<tr class="separator:a76587d3d3ae615cdd4c0a9cf71daa2b4 inherit pro_methods_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_classstir_1_1RunTests"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classstir_1_1RunTests')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classstir_1_1RunTests.html">stir::RunTests</a></td></tr>
<tr class="memitem:a57389d9d070676abb1ffa3f93f3cb2b9 inherit pro_attribs_classstir_1_1RunTests"><td class="memItemLeft" align="right" valign="top"><a id="a57389d9d070676abb1ffa3f93f3cb2b9"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RunTests.html#a57389d9d070676abb1ffa3f93f3cb2b9">tolerance</a></td></tr>
<tr class="memdesc:a57389d9d070676abb1ffa3f93f3cb2b9 inherit pro_attribs_classstir_1_1RunTests"><td class="mdescLeft">&#160;</td><td class="mdescRight">tolerance for comparisons with real values <br /></td></tr>
<tr class="separator:a57389d9d070676abb1ffa3f93f3cb2b9 inherit pro_attribs_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21011f94757f7a15068d2680070baf26 inherit pro_attribs_classstir_1_1RunTests"><td class="memItemLeft" align="right" valign="top"><a id="a21011f94757f7a15068d2680070baf26"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RunTests.html#a21011f94757f7a15068d2680070baf26">everything_ok</a></td></tr>
<tr class="memdesc:a21011f94757f7a15068d2680070baf26 inherit pro_attribs_classstir_1_1RunTests"><td class="mdescLeft">&#160;</td><td class="mdescRight">variable storing current status <br /></td></tr>
<tr class="separator:a21011f94757f7a15068d2680070baf26 inherit pro_attribs_classstir_1_1RunTests"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class ObjectiveFunctionT, class TargetT&gt;<br />
class stir::ObjectiveFunctionTests&lt; ObjectiveFunctionT, TargetT &gt;</h3>

<p>Test class for <a class="el" href="classstir_1_1GeneralisedObjectiveFunction.html" title="A base class for &#39;generalised&#39; objective functions, i.e. objective functions for which at least a &#39;gr...">GeneralisedObjectiveFunction</a> and <a class="el" href="classstir_1_1GeneralisedPrior.html" title="A base class for &#39;generalised&#39; priors, i.e. priors for which at least a &#39;gradient&#39; is defined...">GeneralisedPrior</a>. </p>
<p>This contains some numerical tests to check gradient and Hessian calculations.</p>
<p>Note that the test only works if the objective function is well-defined. For example, if certain projections are non-zero, while the model estimates them to be zero, the Poisson objective function is in theory infinite. ObjectiveFunction uses some thresholds to try to avoid overflow, but if there are too many of these bins, the total objective function will become infinite. The numerical gradient then becomes ill-defined (even in voxels that do not contribute to these bins). </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a9f52af5365fe0f6e3a2727246a5fcc13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f52af5365fe0f6e3a2727246a5fcc13">&#9670;&nbsp;</a></span>test_gradient()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ObjectiveFunctionT, class TargetT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstir_1_1Succeeded.html">Succeeded</a> <a class="el" href="classstir_1_1ObjectiveFunctionTests.html">stir::ObjectiveFunctionTests</a>&lt; ObjectiveFunctionT, TargetT &gt;::test_gradient </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>test_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ObjectiveFunctionT &amp;&#160;</td>
          <td class="paramname"><em>objective_function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TargetT &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>eps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>full_gradient</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Test the gradient of the objective function by comparing to the numerical gradient via perturbation. </p>
<p>If <em>full_gradient=true</em>, all elements in the gradient are tested (using single-element increments). This is slow. Otherwise, the test checks that <img class="formulaInl" alt="$ G dx \approx F(x+dx) - F(x) $" src="form_144.png"/>. dx is computed via <a class="el" href="classstir_1_1ObjectiveFunctionTests.html#a3a77b16de342e09df8b1c1a1a71939df" title="Construct small increment for target. ">construct_increment()</a>.</p>
<p>Note: <em>target</em> is non-<code>const</code>, as the code will add/subtract eps, but the actual values are not modified after the test exits. </p>

</div>
</div>
<a id="a6e3498682bc03a58b206f149ee034ab9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e3498682bc03a58b206f149ee034ab9">&#9670;&nbsp;</a></span>test_Hessian()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ObjectiveFunctionT, class TargetT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstir_1_1Succeeded.html">Succeeded</a> <a class="el" href="classstir_1_1ObjectiveFunctionTests.html">stir::ObjectiveFunctionTests</a>&lt; ObjectiveFunctionT, TargetT &gt;::test_Hessian </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>test_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ObjectiveFunctionT &amp;&#160;</td>
          <td class="paramname"><em>objective_function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TargetT &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>eps</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Test the accumulate_Hessian_times_input of the objective function by comparing to the numerical result via perturbation. </p>
<p>This test checks that <img class="formulaInl" alt="$ H dx \approx G(x+dx) - G(x) $" src="form_145.png"/>. dx is computed via <a class="el" href="classstir_1_1ObjectiveFunctionTests.html#a3a77b16de342e09df8b1c1a1a71939df" title="Construct small increment for target. ">construct_increment()</a>. </p>

</div>
</div>
<a id="aec79c37d203e996b2b3943f87e56f728"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec79c37d203e996b2b3943f87e56f728">&#9670;&nbsp;</a></span>test_Hessian_concavity()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ObjectiveFunctionT, class TargetT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstir_1_1Succeeded.html">Succeeded</a> <a class="el" href="classstir_1_1ObjectiveFunctionTests.html">stir::ObjectiveFunctionTests</a>&lt; ObjectiveFunctionT, TargetT &gt;::test_Hessian_concavity </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>test_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ObjectiveFunctionT &amp;&#160;</td>
          <td class="paramname"><em>objective_function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TargetT &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>mult_factor</em> = <code>1.F</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Test the Hessian of the objective function by testing the (<em>mult_factor</em> * x^T Hx &gt; 0) condition. </p>
<p>setup images</p>
<p>Compute H x</p>
<p>Compute dot(x,(H x)) </p>

</div>
</div>
<a id="a3a77b16de342e09df8b1c1a1a71939df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a77b16de342e09df8b1c1a1a71939df">&#9670;&nbsp;</a></span>construct_increment()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ObjectiveFunctionT , class TargetT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">shared_ptr&lt; const TargetT &gt; <a class="el" href="classstir_1_1ObjectiveFunctionTests.html">stir::ObjectiveFunctionTests</a>&lt; ObjectiveFunctionT, TargetT &gt;::construct_increment </td>
          <td>(</td>
          <td class="paramtype">const TargetT &amp;&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>eps</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct small increment for target. </p>
<p>Result is <code>eps*(target / target.find_max() + 0.5)</code>, i.e. it is always positive (if target is non-negative). </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/sirfuser/devel/STIRdistrib/STIR/src/include/stir/recon_buildblock/test/<a class="el" href="ObjectiveFunctionTests_8h_source.html">ObjectiveFunctionTests.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Oct 31 2025 13:54:48 for STIR by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
