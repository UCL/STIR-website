<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STIR: stir::ProjMatrixByBin Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">STIR
   &#160;<span id="projectnumber">6.2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacestir.html">stir</a></li><li class="navelem"><a class="el" href="classstir_1_1ProjMatrixByBin.html">ProjMatrixByBin</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classstir_1_1ProjMatrixByBin-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">stir::ProjMatrixByBin Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span><div class="ingroups"><a class="el" href="group__STIR.html">STIR</a> &raquo; <a class="el" href="group__STIR__library.html">STIR library</a> &raquo; <a class="el" href="group__recon__buildblock.html">Reconstruction building blocks</a> &raquo; <a class="el" href="group__projection.html">Projection building blocks</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This is the (abstract) base class for all projection matrices which are organised by 'bin'.  
 <a href="classstir_1_1ProjMatrixByBin.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="ProjMatrixByBin_8h_source.html">stir/recon_buildblock/ProjMatrixByBin.h</a>&quot;</code></p>
<div class="dynheader">
Inheritance diagram for stir::ProjMatrixByBin:</div>
<div class="dyncontent">
<div class="center"><img src="classstir_1_1ProjMatrixByBin__inherit__graph.png" border="0" usemap="#stir_1_1ProjMatrixByBin_inherit__map" alt="Inheritance graph"/></div>
<map name="stir_1_1ProjMatrixByBin_inherit__map" id="stir_1_1ProjMatrixByBin_inherit__map">
<area shape="rect" id="node7" href="classstir_1_1RegisteredParsingObject.html" title="stir::RegisteredParsingObject\l\&lt; ProjMatrixByBinFromFile,\l ProjMatrixByBin, ProjMatrixByBin \&gt;" alt="" coords="1129,5,1364,61"/>
<area shape="rect" id="node9" href="classstir_1_1RegisteredParsingObject.html" title="stir::RegisteredParsingObject\l\&lt; ProjMatrixByBinPinholeSPECTUB,\l ProjMatrixByBin, ProjMatrixByBin \&gt;" alt="" coords="1127,85,1366,141"/>
<area shape="rect" id="node11" href="classstir_1_1RegisteredParsingObject.html" title="stir::RegisteredParsingObject\l\&lt; ProjMatrixByBinSinglePhoton,\l ProjMatrixByBin, ProjMatrixByBin \&gt;" alt="" coords="1129,165,1364,221"/>
<area shape="rect" id="node13" href="classstir_1_1RegisteredParsingObject.html" title="stir::RegisteredParsingObject\l\&lt; ProjMatrixByBinSPECTUB,\l ProjMatrixByBin, ProjMatrixByBin \&gt;" alt="" coords="1129,245,1364,301"/>
<area shape="rect" id="node15" href="classstir_1_1RegisteredParsingObject.html" title="stir::RegisteredParsingObject\l\&lt; ProjMatrixByBinUsingInterpolation,\l ProjMatrixByBin, ProjMatrixByBin \&gt;" alt="" coords="1128,325,1365,381"/>
<area shape="rect" id="node17" href="classstir_1_1RegisteredParsingObject.html" title="stir::RegisteredParsingObject\l\&lt; ProjMatrixByBinUsingRayTracing,\l ProjMatrixByBin, ProjMatrixByBin \&gt;" alt="" coords="1129,405,1364,461"/>
<area shape="rect" id="node19" href="classstir_1_1RegisteredParsingObject.html" title="stir::RegisteredParsingObject\l\&lt; ProjMatrixByBinUsingSolidAngle,\l ProjMatrixByBin, ProjMatrixByBin \&gt;" alt="" coords="1129,485,1364,541"/>
<area shape="rect" id="node21" href="classstir_1_1RegisteredParsingObject.html" title="stir::RegisteredParsingObject\l\&lt; ProjMatrixByBinWithPositronRange,\l ProjMatrixByBin, ProjMatrixByBin \&gt;" alt="" coords="1124,565,1369,621"/>
<area shape="rect" id="node2" href="classstir_1_1RegisteredObject.html" title="stir::RegisteredObject\l\&lt; ProjMatrixByBin \&gt;" alt="" coords="733,262,883,303"/>
<area shape="rect" id="node3" href="classstir_1_1RegisteredObjectBase.html" title="Base class for all classes that can parse .par files (and more?)The only reason that this class exist..." alt="" coords="185,276,364,303"/>
<area shape="rect" id="node5" href="classstir_1_1RegisteredObject.html" title="Helper class to provide registry mechanisms to a Base classSuppose you have a hierarchy of classes wi..." alt="" coords="413,298,563,339"/>
<area shape="rect" id="node4" href="classstir_1_1ParsingObject.html" title="A base class for objects that want to be able to parse parameter files. " alt="" coords="5,276,136,303"/>
<area shape="rect" id="node6" href="classstir_1_1TimedObject.html" title="base class for all objects which need timers. At the moment, there&#39;s only a CPU timer. " alt="" coords="747,328,869,355"/>
<area shape="rect" id="node8" href="classstir_1_1ProjMatrixByBinFromFile.html" title="Reads/writes a projection matrix from/to file. " alt="" coords="1425,20,1619,47"/>
<area shape="rect" id="node10" href="classstir_1_1ProjMatrixByBinPinholeSPECTUB.html" title="Generates projection matrix for pinhole SPECT studies. " alt="" coords="1429,93,1615,134"/>
<area shape="rect" id="node12" href="classstir_1_1ProjMatrixByBinSinglePhoton.html" title="a &#39;projection matrix&#39; to implement a model for a single photon acquisition in terms of the detector e..." alt="" coords="1433,173,1611,214"/>
<area shape="rect" id="node14" href="classstir_1_1ProjMatrixByBinSPECTUB.html" title="generates projection matrix for SPECT studies " alt="" coords="1419,260,1625,287"/>
<area shape="rect" id="node16" href="classstir_1_1ProjMatrixByBinUsingInterpolation.html" title="Computes projection matrix elements for VoxelsOnCartesianGrid images by using an interpolation model..." alt="" coords="1434,333,1610,374"/>
<area shape="rect" id="node18" href="classstir_1_1ProjMatrixByBinUsingRayTracing.html" title="Computes projection matrix elements for VoxelsOnCartesianGrid images by using a Length of Intersectio..." alt="" coords="1434,413,1610,454"/>
<area shape="rect" id="node20" href="classstir_1_1ProjMatrixByBinUsingSolidAngle.html" title="Computes projection matrix elements for VoxelsOnCartesianGrid images by using a Solid Angle model..." alt="" coords="1434,493,1610,534"/>
<area shape="rect" id="node22" href="classstir_1_1ProjMatrixByBinWithPositronRange.html" title="Computes projection matrix elements for VoxelsOnCartesianGrid images by using a Solid Angle model..." alt="" coords="1437,573,1607,614"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a422ce01c497e5c9828b74e5bf96f1d5a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ProjMatrixByBin.html#a422ce01c497e5c9828b74e5bf96f1d5a">set_up</a> (const shared_ptr&lt; const <a class="el" href="classstir_1_1ProjDataInfo.html">ProjDataInfo</a> &gt; &amp;proj_data_info_ptr, const shared_ptr&lt; const <a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, float &gt;&gt; &amp;density_info_ptr)=0</td></tr>
<tr class="memdesc:a422ce01c497e5c9828b74e5bf96f1d5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">To be called before any calculation is performed.  <a href="#a422ce01c497e5c9828b74e5bf96f1d5a">More...</a><br /></td></tr>
<tr class="separator:a422ce01c497e5c9828b74e5bf96f1d5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6df93123ce990d76a6ba86cc9b9388fe"><td class="memItemLeft" align="right" valign="top"><a id="a6df93123ce990d76a6ba86cc9b9388fe"></a>
virtual <a class="el" href="classstir_1_1ProjMatrixByBin.html">ProjMatrixByBin</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>clone</b> () const =0</td></tr>
<tr class="separator:a6df93123ce990d76a6ba86cc9b9388fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a082de424209ed65bad81bd9896382f58"><td class="memItemLeft" align="right" valign="top"><a id="a082de424209ed65bad81bd9896382f58"></a>
const <a class="el" href="classstir_1_1DataSymmetriesForBins.html">DataSymmetriesForBins</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ProjMatrixByBin.html#a082de424209ed65bad81bd9896382f58">get_symmetries_ptr</a> () const</td></tr>
<tr class="memdesc:a082de424209ed65bad81bd9896382f58"><td class="mdescLeft">&#160;</td><td class="mdescRight">get a pointer to an object encoding all symmetries that are used by this <a class="el" href="classstir_1_1ProjMatrixByBin.html" title="This is the (abstract) base class for all projection matrices which are organised by &#39;bin&#39;...">ProjMatrixByBin</a> <br /></td></tr>
<tr class="separator:a082de424209ed65bad81bd9896382f58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a167e33f34da78ba80cb71cac17814e5b"><td class="memItemLeft" align="right" valign="top"><a id="a167e33f34da78ba80cb71cac17814e5b"></a>
const shared_ptr&lt; <a class="el" href="classstir_1_1DataSymmetriesForBins.html">DataSymmetriesForBins</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ProjMatrixByBin.html#a167e33f34da78ba80cb71cac17814e5b">get_symmetries_sptr</a> () const</td></tr>
<tr class="memdesc:a167e33f34da78ba80cb71cac17814e5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">get a shared_ptr to an object encoding all symmetries that are used by this <a class="el" href="classstir_1_1ProjMatrixByBin.html" title="This is the (abstract) base class for all projection matrices which are organised by &#39;bin&#39;...">ProjMatrixByBin</a> <br /></td></tr>
<tr class="separator:a167e33f34da78ba80cb71cac17814e5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad13aad71658eca8479824be6f388d5f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ProjMatrixByBin.html#ad13aad71658eca8479824be6f388d5f2">get_proj_matrix_elems_for_one_bin</a> (<a class="el" href="classstir_1_1ProjMatrixElemsForOneBin.html">ProjMatrixElemsForOneBin</a> &amp;, const <a class="el" href="classstir_1_1Bin.html">Bin</a> &amp;) const</td></tr>
<tr class="memdesc:ad13aad71658eca8479824be6f388d5f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main method for getting a row of the matrix.  <a href="#ad13aad71658eca8479824be6f388d5f2">More...</a><br /></td></tr>
<tr class="separator:ad13aad71658eca8479824be6f388d5f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49cce41b235b6eb8702805f9d132353c"><td class="memItemLeft" align="right" valign="top"><a id="a49cce41b235b6eb8702805f9d132353c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>enable_cache</b> (const bool v=true)</td></tr>
<tr class="separator:a49cce41b235b6eb8702805f9d132353c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54d3caff34a9b73a8e0e41f7473c5649"><td class="memItemLeft" align="right" valign="top"><a id="a54d3caff34a9b73a8e0e41f7473c5649"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>store_only_basic_bins_in_cache</b> (const bool v=true)</td></tr>
<tr class="separator:a54d3caff34a9b73a8e0e41f7473c5649"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a525d58bef12a0b755a1fdf866c96cf3e"><td class="memItemLeft" align="right" valign="top"><a id="a525d58bef12a0b755a1fdf866c96cf3e"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>is_cache_enabled</b> () const</td></tr>
<tr class="separator:a525d58bef12a0b755a1fdf866c96cf3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accd5c20266ec64ed59d42c97f6db4850"><td class="memItemLeft" align="right" valign="top"><a id="accd5c20266ec64ed59d42c97f6db4850"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>does_cache_store_only_basic_bins</b> () const</td></tr>
<tr class="separator:accd5c20266ec64ed59d42c97f6db4850"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada693b419d7e6e62f90eeb2cd384d976"><td class="memItemLeft" align="right" valign="top"><a id="ada693b419d7e6e62f90eeb2cd384d976"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ProjMatrixByBin.html#ada693b419d7e6e62f90eeb2cd384d976">clear_cache</a> () const</td></tr>
<tr class="memdesc:ada693b419d7e6e62f90eeb2cd384d976"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove all elements from the cache. <br /></td></tr>
<tr class="separator:ada693b419d7e6e62f90eeb2cd384d976"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classstir_1_1RegisteredObjectBase"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classstir_1_1RegisteredObjectBase')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classstir_1_1RegisteredObjectBase.html">stir::RegisteredObjectBase</a></td></tr>
<tr class="memitem:a9eb7d6e93407316c0780e2121e522ae4 inherit pub_methods_classstir_1_1RegisteredObjectBase"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredObjectBase.html#a9eb7d6e93407316c0780e2121e522ae4">get_registered_name</a> () const =0</td></tr>
<tr class="memdesc:a9eb7d6e93407316c0780e2121e522ae4 inherit pub_methods_classstir_1_1RegisteredObjectBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of the type of the object.  <a href="classstir_1_1RegisteredObjectBase.html#a9eb7d6e93407316c0780e2121e522ae4">More...</a><br /></td></tr>
<tr class="separator:a9eb7d6e93407316c0780e2121e522ae4 inherit pub_methods_classstir_1_1RegisteredObjectBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classstir_1_1ParsingObject"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classstir_1_1ParsingObject')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classstir_1_1ParsingObject.html">stir::ParsingObject</a></td></tr>
<tr class="memitem:a15b8a585ba2b09674b823446bf8481bf inherit pub_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="a15b8a585ba2b09674b823446bf8481bf"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ParsingObject</b> (const <a class="el" href="classstir_1_1ParsingObject.html">ParsingObject</a> &amp;)</td></tr>
<tr class="separator:a15b8a585ba2b09674b823446bf8481bf inherit pub_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20920a86db3428de6fd40381ef50aba4 inherit pub_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="a20920a86db3428de6fd40381ef50aba4"></a>
<a class="el" href="classstir_1_1ParsingObject.html">ParsingObject</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classstir_1_1ParsingObject.html">ParsingObject</a> &amp;)</td></tr>
<tr class="separator:a20920a86db3428de6fd40381ef50aba4 inherit pub_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a268a7806a6ad7c78ec43f21582627163 inherit pub_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="a268a7806a6ad7c78ec43f21582627163"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>ask_parameters</b> ()</td></tr>
<tr class="separator:a268a7806a6ad7c78ec43f21582627163 inherit pub_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf7dc9a4725e6e6673b5cf36f8433a0b inherit pub_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="acf7dc9a4725e6e6673b5cf36f8433a0b"></a>
virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><b>parameter_info</b> ()</td></tr>
<tr class="separator:acf7dc9a4725e6e6673b5cf36f8433a0b inherit pub_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8597c63ee9c4e5c927117daf35f2b129 inherit pub_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="a8597c63ee9c4e5c927117daf35f2b129"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>parse</b> (std::istream &amp;f)</td></tr>
<tr class="separator:a8597c63ee9c4e5c927117daf35f2b129 inherit pub_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedc5f10739c1dfb78fecd33c74d7d643 inherit pub_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="aedc5f10739c1dfb78fecd33c74d7d643"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>parse</b> (const char *const filename)</td></tr>
<tr class="separator:aedc5f10739c1dfb78fecd33c74d7d643 inherit pub_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classstir_1_1TimedObject"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classstir_1_1TimedObject')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classstir_1_1TimedObject.html">stir::TimedObject</a></td></tr>
<tr class="memitem:a248ec6be3210f8cc2ac629827b8f22d0 inherit pub_methods_classstir_1_1TimedObject"><td class="memItemLeft" align="right" valign="top"><a id="a248ec6be3210f8cc2ac629827b8f22d0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1TimedObject.html#a248ec6be3210f8cc2ac629827b8f22d0">reset_timers</a> ()</td></tr>
<tr class="memdesc:a248ec6be3210f8cc2ac629827b8f22d0 inherit pub_methods_classstir_1_1TimedObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">reset all timers kept by this object <br /></td></tr>
<tr class="separator:a248ec6be3210f8cc2ac629827b8f22d0 inherit pub_methods_classstir_1_1TimedObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23a18a40b2f1e1bb4132c1c5347cf12d inherit pub_methods_classstir_1_1TimedObject"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1TimedObject.html#a23a18a40b2f1e1bb4132c1c5347cf12d">stop_timers</a> () const</td></tr>
<tr class="memdesc:a23a18a40b2f1e1bb4132c1c5347cf12d inherit pub_methods_classstir_1_1TimedObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">stop all timers kept by this object  <a href="classstir_1_1TimedObject.html#a23a18a40b2f1e1bb4132c1c5347cf12d">More...</a><br /></td></tr>
<tr class="separator:a23a18a40b2f1e1bb4132c1c5347cf12d inherit pub_methods_classstir_1_1TimedObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4085959b7fca857cd90f8d1ab78400c9 inherit pub_methods_classstir_1_1TimedObject"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1TimedObject.html#a4085959b7fca857cd90f8d1ab78400c9">start_timers</a> (bool do_reset=false) const</td></tr>
<tr class="memdesc:a4085959b7fca857cd90f8d1ab78400c9 inherit pub_methods_classstir_1_1TimedObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">start all timers kept by this object  <a href="classstir_1_1TimedObject.html#a4085959b7fca857cd90f8d1ab78400c9">More...</a><br /></td></tr>
<tr class="separator:a4085959b7fca857cd90f8d1ab78400c9 inherit pub_methods_classstir_1_1TimedObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e9f1ebea34cc8858ae8d12547ed849f inherit pub_methods_classstir_1_1TimedObject"><td class="memItemLeft" align="right" valign="top"><a id="a1e9f1ebea34cc8858ae8d12547ed849f"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1TimedObject.html#a1e9f1ebea34cc8858ae8d12547ed849f">get_CPU_timer_value</a> () const</td></tr>
<tr class="memdesc:a1e9f1ebea34cc8858ae8d12547ed849f inherit pub_methods_classstir_1_1TimedObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">get current value of the CPU timer (since first use or last reset) <br /></td></tr>
<tr class="separator:a1e9f1ebea34cc8858ae8d12547ed849f inherit pub_methods_classstir_1_1TimedObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39b9924e874ce94ddba9068765794658 inherit pub_methods_classstir_1_1TimedObject"><td class="memItemLeft" align="right" valign="top"><a id="a39b9924e874ce94ddba9068765794658"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1TimedObject.html#a39b9924e874ce94ddba9068765794658">get_wall_clock_timer_value</a> () const</td></tr>
<tr class="memdesc:a39b9924e874ce94ddba9068765794658 inherit pub_methods_classstir_1_1TimedObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">get current value of the wall-clock timer (since first use or last reset) <br /></td></tr>
<tr class="separator:a39b9924e874ce94ddba9068765794658 inherit pub_methods_classstir_1_1TimedObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a7f2e7d84849fa3b7491f4a0bd48fc42b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ProjMatrixByBin.html#a7f2e7d84849fa3b7491f4a0bd48fc42b">ProjMatrixByBin</a> ()</td></tr>
<tr class="memdesc:a7f2e7d84849fa3b7491f4a0bd48fc42b"><td class="mdescLeft">&#160;</td><td class="mdescRight">default ctor (calls <a class="el" href="classstir_1_1ProjMatrixByBin.html#a3ce9de7d66b4f9b63a537650c49d0458" title="sets value for caching configuration (enables caching, but for &#39;basic&#39; bins only) ...">set_defaults()</a>)  <a href="#a7f2e7d84849fa3b7491f4a0bd48fc42b">More...</a><br /></td></tr>
<tr class="separator:a7f2e7d84849fa3b7491f4a0bd48fc42b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7be7a72c5dc0bd42683404ec7dfc561"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ProjMatrixByBin.html#aa7be7a72c5dc0bd42683404ec7dfc561">calculate_proj_matrix_elems_for_one_bin</a> (<a class="el" href="classstir_1_1ProjMatrixElemsForOneBin.html">ProjMatrixElemsForOneBin</a> &amp;) const =0</td></tr>
<tr class="memdesc:aa7be7a72c5dc0bd42683404ec7dfc561"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method needs to be implemented in the derived class.  <a href="#aa7be7a72c5dc0bd42683404ec7dfc561">More...</a><br /></td></tr>
<tr class="separator:aa7be7a72c5dc0bd42683404ec7dfc561"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ce9de7d66b4f9b63a537650c49d0458"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ProjMatrixByBin.html#a3ce9de7d66b4f9b63a537650c49d0458">set_defaults</a> () override</td></tr>
<tr class="memdesc:a3ce9de7d66b4f9b63a537650c49d0458"><td class="mdescLeft">&#160;</td><td class="mdescRight">sets value for caching configuration (enables caching, but for 'basic' bins only)  <a href="#a3ce9de7d66b4f9b63a537650c49d0458">More...</a><br /></td></tr>
<tr class="separator:a3ce9de7d66b4f9b63a537650c49d0458"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadf37c726304846cf411ddf1c4abe7cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ProjMatrixByBin.html#aadf37c726304846cf411ddf1c4abe7cf">initialise_keymap</a> () override</td></tr>
<tr class="memdesc:aadf37c726304846cf411ddf1c4abe7cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">sets keys for caching configuration  <a href="#aadf37c726304846cf411ddf1c4abe7cf">More...</a><br /></td></tr>
<tr class="separator:aadf37c726304846cf411ddf1c4abe7cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fa52378615d43b33be70c866db2561a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ProjMatrixByBin.html#a1fa52378615d43b33be70c866db2561a">post_processing</a> () override</td></tr>
<tr class="memdesc:a1fa52378615d43b33be70c866db2561a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if parameters have sensible values.  <a href="#a1fa52378615d43b33be70c866db2561a">More...</a><br /></td></tr>
<tr class="separator:a1fa52378615d43b33be70c866db2561a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aded0f037a4ba1109e6aa5f82bfd6a108"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstir_1_1Succeeded.html">Succeeded</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ProjMatrixByBin.html#aded0f037a4ba1109e6aa5f82bfd6a108">get_cached_proj_matrix_elems_for_one_bin</a> (<a class="el" href="classstir_1_1ProjMatrixElemsForOneBin.html">ProjMatrixElemsForOneBin</a> &amp;) const</td></tr>
<tr class="memdesc:aded0f037a4ba1109e6aa5f82bfd6a108"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method that tries to get data from the cache.  <a href="#aded0f037a4ba1109e6aa5f82bfd6a108">More...</a><br /></td></tr>
<tr class="separator:aded0f037a4ba1109e6aa5f82bfd6a108"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a84db90210a0c58cf8077bb4103b1e8"><td class="memItemLeft" align="right" valign="top"><a id="a6a84db90210a0c58cf8077bb4103b1e8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ProjMatrixByBin.html#a6a84db90210a0c58cf8077bb4103b1e8">cache_proj_matrix_elems_for_one_bin</a> (const <a class="el" href="classstir_1_1ProjMatrixElemsForOneBin.html">ProjMatrixElemsForOneBin</a> &amp;) const</td></tr>
<tr class="memdesc:a6a84db90210a0c58cf8077bb4103b1e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The method to store data in the cache. <br /></td></tr>
<tr class="separator:a6a84db90210a0c58cf8077bb4103b1e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classstir_1_1ParsingObject"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classstir_1_1ParsingObject')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classstir_1_1ParsingObject.html">stir::ParsingObject</a></td></tr>
<tr class="memitem:ad8e81786834c010c96c31bce2bac3f6d inherit pro_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ParsingObject.html#ad8e81786834c010c96c31bce2bac3f6d">set_key_values</a> ()</td></tr>
<tr class="memdesc:ad8e81786834c010c96c31bce2bac3f6d inherit pro_methods_classstir_1_1ParsingObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">This will be called before parsing or parameter_info is called.  <a href="classstir_1_1ParsingObject.html#ad8e81786834c010c96c31bce2bac3f6d">More...</a><br /></td></tr>
<tr class="separator:ad8e81786834c010c96c31bce2bac3f6d inherit pro_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a2ce8d17f0d739e66836cc32223c77006"><td class="memItemLeft" align="right" valign="top"><a id="a2ce8d17f0d739e66836cc32223c77006"></a>
shared_ptr&lt; <a class="el" href="classstir_1_1DataSymmetriesForBins.html">DataSymmetriesForBins</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>symmetries_sptr</b></td></tr>
<tr class="separator:a2ce8d17f0d739e66836cc32223c77006"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac59dd355ea34dda3ac5f3ab37b24bfee"><td class="memItemLeft" align="right" valign="top"><a id="ac59dd355ea34dda3ac5f3ab37b24bfee"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>cache_disabled</b></td></tr>
<tr class="separator:ac59dd355ea34dda3ac5f3ab37b24bfee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a281ce78b3edb6da048b007408eab50b1"><td class="memItemLeft" align="right" valign="top"><a id="a281ce78b3edb6da048b007408eab50b1"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>cache_stores_only_basic_bins</b></td></tr>
<tr class="separator:a281ce78b3edb6da048b007408eab50b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acca6c553174539c5187dc2d0b85e0ed5"><td class="memItemLeft" align="right" valign="top"><a id="acca6c553174539c5187dc2d0b85e0ed5"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ProjMatrixByBin.html#acca6c553174539c5187dc2d0b85e0ed5">tof_enabled</a></td></tr>
<tr class="memdesc:acca6c553174539c5187dc2d0b85e0ed5"><td class="mdescLeft">&#160;</td><td class="mdescRight">If activated TOF reconstruction will be performed. <br /></td></tr>
<tr class="separator:acca6c553174539c5187dc2d0b85e0ed5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d4d9d679afd51354a957231c0993be7"><td class="memItemLeft" align="right" valign="top"><a id="a6d4d9d679afd51354a957231c0993be7"></a>
shared_ptr&lt; const <a class="el" href="classstir_1_1VoxelsOnCartesianGrid.html">VoxelsOnCartesianGrid</a>&lt; float &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ProjMatrixByBin.html#a6d4d9d679afd51354a957231c0993be7">image_info_sptr</a></td></tr>
<tr class="memdesc:a6d4d9d679afd51354a957231c0993be7"><td class="mdescLeft">&#160;</td><td class="mdescRight">We need a local copy of the discretised density in order to find the cartesian coordinates of each voxel. <br /></td></tr>
<tr class="separator:a6d4d9d679afd51354a957231c0993be7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf047e93e2d21edf9985cf633f0246a1"><td class="memItemLeft" align="right" valign="top"><a id="adf047e93e2d21edf9985cf633f0246a1"></a>
shared_ptr&lt; const <a class="el" href="classstir_1_1ProjDataInfo.html">ProjDataInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ProjMatrixByBin.html#adf047e93e2d21edf9985cf633f0246a1">proj_data_info_sptr</a></td></tr>
<tr class="memdesc:adf047e93e2d21edf9985cf633f0246a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">We need a local copy of the proj_data_info to get the integration boundaries and RayTracing. <br /></td></tr>
<tr class="separator:adf047e93e2d21edf9985cf633f0246a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classstir_1_1ParsingObject"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classstir_1_1ParsingObject')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classstir_1_1ParsingObject.html">stir::ParsingObject</a></td></tr>
<tr class="memitem:ac53aef0f7ecd5dbb6204239b14e657f8 inherit pro_attribs_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="ac53aef0f7ecd5dbb6204239b14e657f8"></a>
<a class="el" href="classstir_1_1KeyParser.html">KeyParser</a>&#160;</td><td class="memItemRight" valign="bottom"><b>parser</b></td></tr>
<tr class="separator:ac53aef0f7ecd5dbb6204239b14e657f8 inherit pro_attribs_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_methods_classstir_1_1RegisteredObject"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classstir_1_1RegisteredObject')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classstir_1_1RegisteredObject.html">stir::RegisteredObject&lt; ProjMatrixByBin &gt;</a></td></tr>
<tr class="memitem:aa32357a52b98c87a1c38a162355c874e inherit pub_static_methods_classstir_1_1RegisteredObject"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classstir_1_1ProjMatrixByBin.html">ProjMatrixByBin</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredObject.html#aa32357a52b98c87a1c38a162355c874e">read_registered_object</a> (std::istream *in, const std::string &amp;registered_name)</td></tr>
<tr class="memdesc:aa32357a52b98c87a1c38a162355c874e inherit pub_static_methods_classstir_1_1RegisteredObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new object (of a type derived from Root, its actual type determined by the registered_name parameter) by parsing the istream.  <a href="classstir_1_1RegisteredObject.html#aa32357a52b98c87a1c38a162355c874e">More...</a><br /></td></tr>
<tr class="separator:aa32357a52b98c87a1c38a162355c874e inherit pub_static_methods_classstir_1_1RegisteredObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20ba04aadc52e375e5e97961ddb8f5e1 inherit pub_static_methods_classstir_1_1RegisteredObject"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classstir_1_1ProjMatrixByBin.html">ProjMatrixByBin</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredObject.html#a20ba04aadc52e375e5e97961ddb8f5e1">ask_type_and_parameters</a> ()</td></tr>
<tr class="memdesc:a20ba04aadc52e375e5e97961ddb8f5e1 inherit pub_static_methods_classstir_1_1RegisteredObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">ask the user for the type, and then calls read_registered_object(0, type)  <a href="classstir_1_1RegisteredObject.html#a20ba04aadc52e375e5e97961ddb8f5e1">More...</a><br /></td></tr>
<tr class="separator:a20ba04aadc52e375e5e97961ddb8f5e1 inherit pub_static_methods_classstir_1_1RegisteredObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7946572a60fac083300e2baaf650d6b8 inherit pub_static_methods_classstir_1_1RegisteredObject"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredObject.html#a7946572a60fac083300e2baaf650d6b8">list_registered_names</a> (std::ostream &amp;stream)</td></tr>
<tr class="memdesc:a7946572a60fac083300e2baaf650d6b8 inherit pub_static_methods_classstir_1_1RegisteredObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">List all possible registered names to the stream.  <a href="classstir_1_1RegisteredObject.html#a7946572a60fac083300e2baaf650d6b8">More...</a><br /></td></tr>
<tr class="separator:a7946572a60fac083300e2baaf650d6b8 inherit pub_static_methods_classstir_1_1RegisteredObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_types_classstir_1_1RegisteredObject"><td colspan="2" onclick="javascript:toggleInherit('pro_types_classstir_1_1RegisteredObject')"><img src="closed.png" alt="-"/>&#160;Protected Types inherited from <a class="el" href="classstir_1_1RegisteredObject.html">stir::RegisteredObject&lt; ProjMatrixByBin &gt;</a></td></tr>
<tr class="memitem:a4497941e1fe3ec79b7a75085d75488fb inherit pro_types_classstir_1_1RegisteredObject"><td class="memItemLeft" align="right" valign="top"><a id="a4497941e1fe3ec79b7a75085d75488fb"></a>
typedef <a class="el" href="classstir_1_1ProjMatrixByBin.html">ProjMatrixByBin</a> *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredObject.html#a4497941e1fe3ec79b7a75085d75488fb">RootFactory</a>) (std::istream *)</td></tr>
<tr class="memdesc:a4497941e1fe3ec79b7a75085d75488fb inherit pro_types_classstir_1_1RegisteredObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">The type of a root factory is a function, taking an istream* as argument, and returning a Root*. <br /></td></tr>
<tr class="separator:a4497941e1fe3ec79b7a75085d75488fb inherit pro_types_classstir_1_1RegisteredObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6dc41fd8a2cb0a5e1118aa32df98711 inherit pro_types_classstir_1_1RegisteredObject"><td class="memItemLeft" align="right" valign="top"><a id="aa6dc41fd8a2cb0a5e1118aa32df98711"></a>
typedef <a class="el" href="classstir_1_1FactoryRegistry.html">FactoryRegistry</a>&lt; std::string, <a class="el" href="classstir_1_1RegisteredObject.html#a4497941e1fe3ec79b7a75085d75488fb">RootFactory</a>, <a class="el" href="structstir_1_1interfile__less.html">interfile_less</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredObject.html#aa6dc41fd8a2cb0a5e1118aa32df98711">RegistryType</a></td></tr>
<tr class="memdesc:aa6dc41fd8a2cb0a5e1118aa32df98711 inherit pro_types_classstir_1_1RegisteredObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">The type of the registry. <br /></td></tr>
<tr class="separator:aa6dc41fd8a2cb0a5e1118aa32df98711 inherit pro_types_classstir_1_1RegisteredObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_static_methods_classstir_1_1RegisteredObject"><td colspan="2" onclick="javascript:toggleInherit('pro_static_methods_classstir_1_1RegisteredObject')"><img src="closed.png" alt="-"/>&#160;Static Protected Member Functions inherited from <a class="el" href="classstir_1_1RegisteredObject.html">stir::RegisteredObject&lt; ProjMatrixByBin &gt;</a></td></tr>
<tr class="memitem:a480c831d74fb41ff32787a908a07bbd3 inherit pro_static_methods_classstir_1_1RegisteredObject"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classstir_1_1RegisteredObject.html#aa6dc41fd8a2cb0a5e1118aa32df98711">RegistryType</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredObject.html#a480c831d74fb41ff32787a908a07bbd3">registry</a> ()</td></tr>
<tr class="memdesc:a480c831d74fb41ff32787a908a07bbd3 inherit pro_static_methods_classstir_1_1RegisteredObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">Static function returning the registry.  <a href="classstir_1_1RegisteredObject.html#a480c831d74fb41ff32787a908a07bbd3">More...</a><br /></td></tr>
<tr class="separator:a480c831d74fb41ff32787a908a07bbd3 inherit pro_static_methods_classstir_1_1RegisteredObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is the (abstract) base class for all projection matrices which are organised by 'bin'. </p>
<p>This class provides essentially only 2 public members: a method to get a 'row' of the matrix, and a method to get information on the symmetries.</p>
<p>Currently, the class provides for some (basic) caching. This functionality will probably be moved to a new class ProjMatrixByBinWithCache. (TODO)</p>
<dl class="section user"><dt>Parsing parameters</dt><dd></dd></dl>
<p>The following parameters can be set (default values are indicated): </p><pre class="fragment">  disable caching := false
  store only basic bins in cache := true</pre><p> The 2nd option allows to cache the whole matrix. This results in the fastest behaviour IF your system does not start swapping. The default choice caches only the 'basic' bins, and computes symmetry related bins from the 'basic' ones. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a7f2e7d84849fa3b7491f4a0bd48fc42b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f2e7d84849fa3b7491f4a0bd48fc42b">&#9670;&nbsp;</a></span>ProjMatrixByBin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">stir::ProjMatrixByBin::ProjMatrixByBin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>default ctor (calls <a class="el" href="classstir_1_1ProjMatrixByBin.html#a3ce9de7d66b4f9b63a537650c49d0458" title="sets value for caching configuration (enables caching, but for &#39;basic&#39; bins only) ...">set_defaults()</a>) </p>
<p>Note that due to the C++ definition (and some good reasons), <a class="el" href="classstir_1_1ProjMatrixByBin.html#a3ce9de7d66b4f9b63a537650c49d0458" title="sets value for caching configuration (enables caching, but for &#39;basic&#39; bins only) ...">ProjMatrixByBin::set_defaults()</a> is called, even though this is a virtual function. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a422ce01c497e5c9828b74e5bf96f1d5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a422ce01c497e5c9828b74e5bf96f1d5a">&#9670;&nbsp;</a></span>set_up()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void stir::ProjMatrixByBin::set_up </td>
          <td>(</td>
          <td class="paramtype">const shared_ptr&lt; const <a class="el" href="classstir_1_1ProjDataInfo.html">ProjDataInfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>proj_data_info_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const shared_ptr&lt; const <a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, float &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>density_info_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>To be called before any calculation is performed. </p>
<p>Note that <a class="el" href="classstir_1_1ProjMatrixByBin.html#ad13aad71658eca8479824be6f388d5f2" title="The main method for getting a row of the matrix. ">get_proj_matrix_elems_for_one_bin()</a> will expect objects of compatible sizes and other info.</p>
<dl class="section warning"><dt>Warning</dt><dd>: Any implementation of set_up in a derived class has to call <a class="el" href="classstir_1_1ProjMatrixByBin.html#a422ce01c497e5c9828b74e5bf96f1d5a" title="To be called before any calculation is performed. ">ProjMatrixByBin::set_up</a> first. </dd></dl>

<p>Implemented in <a class="el" href="classstir_1_1ProjMatrixByBinPinholeSPECTUB.html#a41c0fb9440b500353c5db94544de9541">stir::ProjMatrixByBinPinholeSPECTUB</a>, <a class="el" href="classstir_1_1ProjMatrixByBinUsingRayTracing.html#a6d680142e71ec5599ae934172bf0cabe">stir::ProjMatrixByBinUsingRayTracing</a>, <a class="el" href="classstir_1_1ProjMatrixByBinSPECTUB.html#a2e05ac38da474aa3acf76686d6bace91">stir::ProjMatrixByBinSPECTUB</a>, <a class="el" href="classstir_1_1ProjMatrixByBinFromFile.html#a4d44d2220b61f666013bd2b6067286c1">stir::ProjMatrixByBinFromFile</a>, <a class="el" href="classstir_1_1ProjMatrixByBinUsingInterpolation.html#ad055166d7295d2a488a4c832d5767535">stir::ProjMatrixByBinUsingInterpolation</a>, <a class="el" href="classstir_1_1ProjMatrixByBinSinglePhoton.html#a72e2dc35f69f8afa82234f1abe320d88">stir::ProjMatrixByBinSinglePhoton</a>, <a class="el" href="classstir_1_1ProjMatrixByBinUsingSolidAngle.html#aae308807ffd8b7f729d3a24e8438057c">stir::ProjMatrixByBinUsingSolidAngle</a>, and <a class="el" href="classstir_1_1ProjMatrixByBinWithPositronRange.html#af329cb92611e85540512bbb5a9fce800">stir::ProjMatrixByBinWithPositronRange</a>.</p>

<p class="reference">References <a class="el" href="group__buildblock.html#ga19b3ad285f04d613640a497f868b385f">stir::error()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classstir_1_1ProjMatrixByBinUsingInterpolation.html#ad055166d7295d2a488a4c832d5767535">stir::ProjMatrixByBinUsingInterpolation::set_up()</a>.</p>

</div>
</div>
<a id="ad13aad71658eca8479824be6f388d5f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad13aad71658eca8479824be6f388d5f2">&#9670;&nbsp;</a></span>get_proj_matrix_elems_for_one_bin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void stir::ProjMatrixByBin::get_proj_matrix_elems_for_one_bin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classstir_1_1ProjMatrixElemsForOneBin.html">ProjMatrixElemsForOneBin</a> &amp;&#160;</td>
          <td class="paramname"><em>probabilities</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classstir_1_1Bin.html">Bin</a> &amp;&#160;</td>
          <td class="paramname"><em>bin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The main method for getting a row of the matrix. </p>
<p>The <a class="el" href="classstir_1_1ProjMatrixElemsForOneBin.html" title="This stores the non-zero projection matrix elements for every &#39;densel&#39; that contributes to a given bi...">ProjMatrixElemsForOneBin</a> argument will be overwritten (i.e. data is NOT appended).</p>
<p>The implementation is inline as it just gets it in terms of the cached_proj_matrix_elems_for_one_bin or calculate_proj_matrix_elems_for_one_bin. </p>

<p class="reference">References <a class="el" href="classstir_1_1ProjMatrixElemsForOneBin.html#a78757dff28f349f6816750453eb4d607">stir::ProjMatrixElemsForOneBin::begin()</a>, <a class="el" href="classstir_1_1ProjMatrixElemsForOneBin.html#abff84e2d04f73ca59c8f6ae6b31c26e0">stir::ProjMatrixElemsForOneBin::check_state()</a>, <a class="el" href="classstir_1_1ProjMatrixElemsForOneBin.html#aee912a58ba254bac81e7bd1cd64d27ee">stir::ProjMatrixElemsForOneBin::erase()</a>, <a class="el" href="classstir_1_1ProjMatrixElemsForOneBin.html#a502a164e7a7093fda5e82db56066d1fa">stir::ProjMatrixElemsForOneBin::get_bin()</a>, <a class="el" href="group__Coordinate.html#ga2f556ccc1c78f5ee93aac477d852701a">stir::inner_product()</a>, <a class="el" href="group__Coordinate.html#ga4770b3db3002116b144d80af7afdef39">stir::norm()</a>, <a class="el" href="classstir_1_1ProjMatrixElemsForOneBin.html#a72caf2f334dddd14869c8c87edf9e3d2">stir::ProjMatrixElemsForOneBin::set_bin()</a>, and <a class="el" href="classstir_1_1SegmentIndices.html#ad14685b5a4b55d82c10bff9388df5419">stir::SegmentIndices::timing_pos_num()</a>.</p>

</div>
</div>
<a id="aa7be7a72c5dc0bd42683404ec7dfc561"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7be7a72c5dc0bd42683404ec7dfc561">&#9670;&nbsp;</a></span>calculate_proj_matrix_elems_for_one_bin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void stir::ProjMatrixByBin::calculate_proj_matrix_elems_for_one_bin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classstir_1_1ProjMatrixElemsForOneBin.html">ProjMatrixElemsForOneBin</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method needs to be implemented in the derived class. </p>
<p>bin-coordinates are obtained via the <a class="el" href="classstir_1_1ProjMatrixElemsForOneBin.html#a502a164e7a7093fda5e82db56066d1fa" title="get the bin coordinates corresponding to this row ">ProjMatrixElemsForOneBin::get_bin()</a> method.</p>
<p>Note that 'calculate' could just as well mean 'get from file' </p>

</div>
</div>
<a id="a3ce9de7d66b4f9b63a537650c49d0458"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ce9de7d66b4f9b63a537650c49d0458">&#9670;&nbsp;</a></span>set_defaults()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void stir::ProjMatrixByBin::set_defaults </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>sets value for caching configuration (enables caching, but for 'basic' bins only) </p>
<p>Has to be called by set_defaults in the leaf-class </p>

<p>Reimplemented from <a class="el" href="classstir_1_1ParsingObject.html#ad5f86478612a06b86e28adf664afcd74">stir::ParsingObject</a>.</p>

<p class="reference">Referenced by <a class="el" href="classstir_1_1ProjMatrixByBinUsingInterpolation.html#af38923176710a95e928624c99d19381b">stir::ProjMatrixByBinUsingInterpolation::ProjMatrixByBinUsingInterpolation()</a>.</p>

</div>
</div>
<a id="aadf37c726304846cf411ddf1c4abe7cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadf37c726304846cf411ddf1c4abe7cf">&#9670;&nbsp;</a></span>initialise_keymap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void stir::ProjMatrixByBin::initialise_keymap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>sets keys for caching configuration </p>
<p>Has to be called by initialise_keymap in the leaf-class </p>

<p>Reimplemented from <a class="el" href="classstir_1_1ParsingObject.html#a6997d88d93e295e096a7c2eda925d4b6">stir::ParsingObject</a>.</p>

<p class="reference">Referenced by <a class="el" href="classstir_1_1ProjMatrixByBinUsingInterpolation.html#af38923176710a95e928624c99d19381b">stir::ProjMatrixByBinUsingInterpolation::ProjMatrixByBinUsingInterpolation()</a>.</p>

</div>
</div>
<a id="a1fa52378615d43b33be70c866db2561a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fa52378615d43b33be70c866db2561a">&#9670;&nbsp;</a></span>post_processing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool stir::ProjMatrixByBin::post_processing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if parameters have sensible values. </p>
<p>Has to be called by post_processing in the leaf-class </p>

<p>Reimplemented from <a class="el" href="classstir_1_1ParsingObject.html#a76911426e945844fe3429191db43af77">stir::ParsingObject</a>.</p>

<p class="reference">Referenced by <a class="el" href="classstir_1_1ProjMatrixByBinUsingInterpolation.html#af38923176710a95e928624c99d19381b">stir::ProjMatrixByBinUsingInterpolation::ProjMatrixByBinUsingInterpolation()</a>.</p>

</div>
</div>
<a id="aded0f037a4ba1109e6aa5f82bfd6a108"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aded0f037a4ba1109e6aa5f82bfd6a108">&#9670;&nbsp;</a></span>get_cached_proj_matrix_elems_for_one_bin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstir_1_1Succeeded.html">Succeeded</a> stir::ProjMatrixByBin::get_cached_proj_matrix_elems_for_one_bin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classstir_1_1ProjMatrixElemsForOneBin.html">ProjMatrixElemsForOneBin</a> &amp;&#160;</td>
          <td class="paramname"><em>probabilities</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The method that tries to get data from the cache. </p>
<p>If it succeeds, it overwrites the <a class="el" href="classstir_1_1ProjMatrixElemsForOneBin.html" title="This stores the non-zero projection matrix elements for every &#39;densel&#39; that contributes to a given bi...">ProjMatrixElemsForOneBin</a> parameter and returns Succeeded::yes, otherwise it does not touch the <a class="el" href="classstir_1_1ProjMatrixElemsForOneBin.html" title="This stores the non-zero projection matrix elements for every &#39;densel&#39; that contributes to a given bi...">ProjMatrixElemsForOneBin</a> and returns Succeeded::false. </p>

<p class="reference">References <a class="el" href="classstir_1_1ProjMatrixElemsForOneBin.html#a502a164e7a7093fda5e82db56066d1fa">stir::ProjMatrixElemsForOneBin::get_bin()</a>, <a class="el" href="namespacestir.html#a36bee634263e39c34efae7ed49465687">stir::open_write_binary()</a>, <a class="el" href="classstir_1_1SegmentIndices.html#a07539071afc2bce439f86103f8bbe971">stir::SegmentIndices::segment_num()</a>, and <a class="el" href="classstir_1_1ViewgramIndices.html#adf1a327b7d5046dab9461e2769c4c23b">stir::ViewgramIndices::view_num()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/sirfuser/devel/STIRdistrib/STIR/src/include/stir/recon_buildblock/<a class="el" href="ProjMatrixByBin_8h_source.html">ProjMatrixByBin.h</a></li>
<li>/home/sirfuser/devel/STIRdistrib/STIR/src/include/stir/recon_buildblock/<a class="el" href="ProjMatrixByBin_8inl.html">ProjMatrixByBin.inl</a></li>
<li>/home/sirfuser/devel/STIRdistrib/STIR/src/recon_buildblock/<a class="el" href="ProjMatrixByBin_8cxx.html">ProjMatrixByBin.cxx</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jul 23 2024 09:13:16 for STIR by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
