<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STIR: stir::BinNormalisationFromAttenuationImage Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">STIR
   &#160;<span id="projectnumber">4.1.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacestir.html">stir</a></li><li class="navelem"><a class="el" href="classstir_1_1BinNormalisationFromAttenuationImage.html">BinNormalisationFromAttenuationImage</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classstir_1_1BinNormalisationFromAttenuationImage-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">stir::BinNormalisationFromAttenuationImage Class Reference<div class="ingroups"><a class="el" href="group__STIR.html">STIR</a> &raquo; <a class="el" href="group__STIR__library.html">STIR library</a> &raquo; <a class="el" href="group__recon__buildblock.html">Reconstruction building blocks</a> &raquo; <a class="el" href="group__normalisation.html">Normalisation building blocks</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>A <a class="el" href="classstir_1_1BinNormalisation.html" title="Abstract base class for implementing bin-wise normalisation of data. ">BinNormalisation</a> class that gets attenuation correction factors from an attenuation image.  
 <a href="classstir_1_1BinNormalisationFromAttenuationImage.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="BinNormalisationFromAttenuationImage_8h_source.html">stir/recon_buildblock/BinNormalisationFromAttenuationImage.h</a>&quot;</code></p>
<div class="dynheader">
Inheritance diagram for stir::BinNormalisationFromAttenuationImage:</div>
<div class="dyncontent">
<div class="center"><img src="classstir_1_1BinNormalisationFromAttenuationImage__inherit__graph.png" border="0" usemap="#stir_1_1BinNormalisationFromAttenuationImage_inherit__map" alt="Inheritance graph"/></div>
<map name="stir_1_1BinNormalisationFromAttenuationImage_inherit__map" id="stir_1_1BinNormalisationFromAttenuationImage_inherit__map">
<area shape="rect" id="node2" href="classstir_1_1RegisteredParsingObject.html" title="stir::RegisteredParsingObject\l\&lt; BinNormalisationFromAttenuation\lImage, BinNormalisation \&gt;" alt="" coords="719,33,977,89"/>
<area shape="rect" id="node3" href="classstir_1_1BinNormalisation.html" title="Abstract base class for implementing bin&#45;wise normalisation of data. " alt="" coords="243,13,407,39"/>
<area shape="rect" id="node4" href="classstir_1_1RegisteredObject.html" title="stir::RegisteredObject\l\&lt; BinNormalisation \&gt;" alt="" coords="5,5,171,47"/>
<area shape="rect" id="node5" href="classstir_1_1RegisteredParsingObject.html" title="Parent class for all leaves in a RegisteredObject hierarchy that do parsing of parameter files..." alt="" coords="220,64,429,105"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a85404c3d25314356a62450653fe1c901"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1BinNormalisationFromAttenuationImage.html#a85404c3d25314356a62450653fe1c901">BinNormalisationFromAttenuationImage</a> ()</td></tr>
<tr class="memdesc:a85404c3d25314356a62450653fe1c901"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#a85404c3d25314356a62450653fe1c901">More...</a><br /></td></tr>
<tr class="separator:a85404c3d25314356a62450653fe1c901"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52d5a639119b20521863b90609fbbe4a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1BinNormalisationFromAttenuationImage.html#a52d5a639119b20521863b90609fbbe4a">BinNormalisationFromAttenuationImage</a> (const std::string &amp;filename, shared_ptr&lt; <a class="el" href="classstir_1_1ForwardProjectorByBin.html">ForwardProjectorByBin</a> &gt; const &amp;=shared_ptr&lt; <a class="el" href="classstir_1_1ForwardProjectorByBin.html">ForwardProjectorByBin</a> &gt;())</td></tr>
<tr class="memdesc:a52d5a639119b20521863b90609fbbe4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor that reads the image from a file.  <a href="#a52d5a639119b20521863b90609fbbe4a">More...</a><br /></td></tr>
<tr class="separator:a52d5a639119b20521863b90609fbbe4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d04a3a0c19e0444dba16c02a48a428a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1BinNormalisationFromAttenuationImage.html#a3d04a3a0c19e0444dba16c02a48a428a">BinNormalisationFromAttenuationImage</a> (shared_ptr&lt; <a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, float &gt; &gt; const &amp;attenuation_image_ptr, shared_ptr&lt; <a class="el" href="classstir_1_1ForwardProjectorByBin.html">ForwardProjectorByBin</a> &gt; const &amp;=shared_ptr&lt; <a class="el" href="classstir_1_1ForwardProjectorByBin.html">ForwardProjectorByBin</a> &gt;())</td></tr>
<tr class="memdesc:a3d04a3a0c19e0444dba16c02a48a428a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor that takes the image as an argument.  <a href="#a3d04a3a0c19e0444dba16c02a48a428a">More...</a><br /></td></tr>
<tr class="separator:a3d04a3a0c19e0444dba16c02a48a428a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad22bd7a4ef42847d5f53e73e40ef1885"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classstir_1_1Succeeded.html">Succeeded</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1BinNormalisationFromAttenuationImage.html#ad22bd7a4ef42847d5f53e73e40ef1885">set_up</a> (const shared_ptr&lt; <a class="el" href="classstir_1_1ProjDataInfo.html">ProjDataInfo</a> &gt; &amp;)</td></tr>
<tr class="memdesc:ad22bd7a4ef42847d5f53e73e40ef1885"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if we can handle certain projection data.  <a href="#ad22bd7a4ef42847d5f53e73e40ef1885">More...</a><br /></td></tr>
<tr class="separator:ad22bd7a4ef42847d5f53e73e40ef1885"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b4a4511bcf57c9d71b68be0a8eb1aff"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1BinNormalisationFromAttenuationImage.html#a2b4a4511bcf57c9d71b68be0a8eb1aff">apply</a> (<a class="el" href="classstir_1_1RelatedViewgrams.html">RelatedViewgrams</a>&lt; float &gt; &amp;viewgrams, const double start_time, const double end_time) const</td></tr>
<tr class="memdesc:a2b4a4511bcf57c9d71b68be0a8eb1aff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Normalise some data.  <a href="#a2b4a4511bcf57c9d71b68be0a8eb1aff">More...</a><br /></td></tr>
<tr class="separator:a2b4a4511bcf57c9d71b68be0a8eb1aff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af37ae22c039dac3435f7c8e3548b2d42"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1BinNormalisationFromAttenuationImage.html#af37ae22c039dac3435f7c8e3548b2d42">undo</a> (<a class="el" href="classstir_1_1RelatedViewgrams.html">RelatedViewgrams</a>&lt; float &gt; &amp;viewgrams, const double start_time, const double end_time) const</td></tr>
<tr class="memdesc:af37ae22c039dac3435f7c8e3548b2d42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Undo the normalisation of some data.  <a href="#af37ae22c039dac3435f7c8e3548b2d42">More...</a><br /></td></tr>
<tr class="separator:af37ae22c039dac3435f7c8e3548b2d42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64f02f7bef55b5211ec7a37e9da43732"><td class="memItemLeft" align="right" valign="top">virtual float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1BinNormalisationFromAttenuationImage.html#a64f02f7bef55b5211ec7a37e9da43732">get_bin_efficiency</a> (const <a class="el" href="classstir_1_1Bin.html">Bin</a> &amp;bin, const double start_time, const double end_time) const</td></tr>
<tr class="memdesc:a64f02f7bef55b5211ec7a37e9da43732"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the 'efficiency' factor for a single bin.  <a href="#a64f02f7bef55b5211ec7a37e9da43732">More...</a><br /></td></tr>
<tr class="separator:a64f02f7bef55b5211ec7a37e9da43732"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classstir_1_1RegisteredParsingObject"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classstir_1_1RegisteredParsingObject')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classstir_1_1RegisteredParsingObject.html">stir::RegisteredParsingObject&lt; BinNormalisationFromAttenuationImage, BinNormalisation &gt;</a></td></tr>
<tr class="memitem:a05ad8de71bcd308445ce21e189d3bd7b inherit pub_methods_classstir_1_1RegisteredParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="a05ad8de71bcd308445ce21e189d3bd7b"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredParsingObject.html#a05ad8de71bcd308445ce21e189d3bd7b">get_registered_name</a> () const</td></tr>
<tr class="memdesc:a05ad8de71bcd308445ce21e189d3bd7b inherit pub_methods_classstir_1_1RegisteredParsingObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns Derived::registered_name. <br /></td></tr>
<tr class="separator:a05ad8de71bcd308445ce21e189d3bd7b inherit pub_methods_classstir_1_1RegisteredParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf76fa19f100f1e941e92f6e0abd78ec inherit pub_methods_classstir_1_1RegisteredParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="abf76fa19f100f1e941e92f6e0abd78ec"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredParsingObject.html#abf76fa19f100f1e941e92f6e0abd78ec">parameter_info</a> ()</td></tr>
<tr class="memdesc:abf76fa19f100f1e941e92f6e0abd78ec inherit pub_methods_classstir_1_1RegisteredParsingObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string with all parameters and their values, in a form suitable for parsing again. <br /></td></tr>
<tr class="separator:abf76fa19f100f1e941e92f6e0abd78ec inherit pub_methods_classstir_1_1RegisteredParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classstir_1_1BinNormalisation"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classstir_1_1BinNormalisation')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classstir_1_1BinNormalisation.html">stir::BinNormalisation</a></td></tr>
<tr class="memitem:aebe407aa214715b152f50222a6a57998 inherit pub_methods_classstir_1_1BinNormalisation"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1BinNormalisation.html#aebe407aa214715b152f50222a6a57998">is_trivial</a> () const</td></tr>
<tr class="memdesc:aebe407aa214715b152f50222a6a57998 inherit pub_methods_classstir_1_1BinNormalisation"><td class="mdescLeft">&#160;</td><td class="mdescRight">check if we would be multiplying with 1 (i.e. do nothing)  <a href="classstir_1_1BinNormalisation.html#aebe407aa214715b152f50222a6a57998">More...</a><br /></td></tr>
<tr class="separator:aebe407aa214715b152f50222a6a57998 inherit pub_methods_classstir_1_1BinNormalisation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59ed715849d2ef2949f7f21f2de4098c inherit pub_methods_classstir_1_1BinNormalisation"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1BinNormalisation.html#a59ed715849d2ef2949f7f21f2de4098c">apply</a> (<a class="el" href="classstir_1_1ProjData.html">ProjData</a> &amp;, const double start_time, const double end_time, shared_ptr&lt; <a class="el" href="classstir_1_1DataSymmetriesForViewSegmentNumbers.html">DataSymmetriesForViewSegmentNumbers</a> &gt;=shared_ptr&lt; <a class="el" href="classstir_1_1DataSymmetriesForViewSegmentNumbers.html">DataSymmetriesForViewSegmentNumbers</a> &gt;()) const</td></tr>
<tr class="memdesc:a59ed715849d2ef2949f7f21f2de4098c inherit pub_methods_classstir_1_1BinNormalisation"><td class="mdescLeft">&#160;</td><td class="mdescRight">normalise some data  <a href="classstir_1_1BinNormalisation.html#a59ed715849d2ef2949f7f21f2de4098c">More...</a><br /></td></tr>
<tr class="separator:a59ed715849d2ef2949f7f21f2de4098c inherit pub_methods_classstir_1_1BinNormalisation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc285e0ec8126ebe66ab220eefe8f7a9 inherit pub_methods_classstir_1_1BinNormalisation"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1BinNormalisation.html#acc285e0ec8126ebe66ab220eefe8f7a9">undo</a> (<a class="el" href="classstir_1_1ProjData.html">ProjData</a> &amp;, const double start_time, const double end_time, shared_ptr&lt; <a class="el" href="classstir_1_1DataSymmetriesForViewSegmentNumbers.html">DataSymmetriesForViewSegmentNumbers</a> &gt;=shared_ptr&lt; <a class="el" href="classstir_1_1DataSymmetriesForViewSegmentNumbers.html">DataSymmetriesForViewSegmentNumbers</a> &gt;()) const</td></tr>
<tr class="memdesc:acc285e0ec8126ebe66ab220eefe8f7a9 inherit pub_methods_classstir_1_1BinNormalisation"><td class="mdescLeft">&#160;</td><td class="mdescRight">undo the normalisation of some data  <a href="classstir_1_1BinNormalisation.html#acc285e0ec8126ebe66ab220eefe8f7a9">More...</a><br /></td></tr>
<tr class="separator:acc285e0ec8126ebe66ab220eefe8f7a9 inherit pub_methods_classstir_1_1BinNormalisation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classstir_1_1ParsingObject"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classstir_1_1ParsingObject')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classstir_1_1ParsingObject.html">stir::ParsingObject</a></td></tr>
<tr class="memitem:a15b8a585ba2b09674b823446bf8481bf inherit pub_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="a15b8a585ba2b09674b823446bf8481bf"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ParsingObject</b> (const <a class="el" href="classstir_1_1ParsingObject.html">ParsingObject</a> &amp;)</td></tr>
<tr class="separator:a15b8a585ba2b09674b823446bf8481bf inherit pub_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20920a86db3428de6fd40381ef50aba4 inherit pub_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="a20920a86db3428de6fd40381ef50aba4"></a>
<a class="el" href="classstir_1_1ParsingObject.html">ParsingObject</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classstir_1_1ParsingObject.html">ParsingObject</a> &amp;)</td></tr>
<tr class="separator:a20920a86db3428de6fd40381ef50aba4 inherit pub_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a268a7806a6ad7c78ec43f21582627163 inherit pub_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="a268a7806a6ad7c78ec43f21582627163"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>ask_parameters</b> ()</td></tr>
<tr class="separator:a268a7806a6ad7c78ec43f21582627163 inherit pub_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8597c63ee9c4e5c927117daf35f2b129 inherit pub_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="a8597c63ee9c4e5c927117daf35f2b129"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>parse</b> (std::istream &amp;f)</td></tr>
<tr class="separator:a8597c63ee9c4e5c927117daf35f2b129 inherit pub_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedc5f10739c1dfb78fecd33c74d7d643 inherit pub_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="aedc5f10739c1dfb78fecd33c74d7d643"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>parse</b> (const char *const filename)</td></tr>
<tr class="separator:aedc5f10739c1dfb78fecd33c74d7d643 inherit pub_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ad5383be582b18ef13bd5c4d5d2509064"><td class="memItemLeft" align="right" valign="top">static const char *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1BinNormalisationFromAttenuationImage.html#ad5383be582b18ef13bd5c4d5d2509064">registered_name</a></td></tr>
<tr class="memdesc:ad5383be582b18ef13bd5c4d5d2509064"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name which will be used when parsing a <a class="el" href="classstir_1_1BinNormalisation.html" title="Abstract base class for implementing bin-wise normalisation of data. ">BinNormalisation</a> object.  <a href="#ad5383be582b18ef13bd5c4d5d2509064">More...</a><br /></td></tr>
<tr class="separator:ad5383be582b18ef13bd5c4d5d2509064"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_methods_classstir_1_1RegisteredParsingObject"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classstir_1_1RegisteredParsingObject')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classstir_1_1RegisteredParsingObject.html">stir::RegisteredParsingObject&lt; BinNormalisationFromAttenuationImage, BinNormalisation &gt;</a></td></tr>
<tr class="memitem:a4efc30dcaf35a1029c6bd099acb3f6a4 inherit pub_static_methods_classstir_1_1RegisteredParsingObject"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classstir_1_1BinNormalisation.html">BinNormalisation</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredParsingObject.html#a4efc30dcaf35a1029c6bd099acb3f6a4">read_from_stream</a> (std::istream *)</td></tr>
<tr class="memdesc:a4efc30dcaf35a1029c6bd099acb3f6a4 inherit pub_static_methods_classstir_1_1RegisteredParsingObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new object (of type Derived) by parsing the istream.  <a href="classstir_1_1RegisteredParsingObject.html#a4efc30dcaf35a1029c6bd099acb3f6a4">More...</a><br /></td></tr>
<tr class="separator:a4efc30dcaf35a1029c6bd099acb3f6a4 inherit pub_static_methods_classstir_1_1RegisteredParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_classstir_1_1RegisteredObject"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classstir_1_1RegisteredObject')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classstir_1_1RegisteredObject.html">stir::RegisteredObject&lt; BinNormalisation &gt;</a></td></tr>
<tr class="memitem:aa32357a52b98c87a1c38a162355c874e inherit pub_static_methods_classstir_1_1RegisteredObject"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classstir_1_1BinNormalisation.html">BinNormalisation</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredObject.html#aa32357a52b98c87a1c38a162355c874e">read_registered_object</a> (std::istream *in, const std::string &amp;registered_name)</td></tr>
<tr class="memdesc:aa32357a52b98c87a1c38a162355c874e inherit pub_static_methods_classstir_1_1RegisteredObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new object (of a type derived from Root, its actual type determined by the registered_name parameter) by parsing the istream.  <a href="classstir_1_1RegisteredObject.html#aa32357a52b98c87a1c38a162355c874e">More...</a><br /></td></tr>
<tr class="separator:aa32357a52b98c87a1c38a162355c874e inherit pub_static_methods_classstir_1_1RegisteredObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20ba04aadc52e375e5e97961ddb8f5e1 inherit pub_static_methods_classstir_1_1RegisteredObject"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classstir_1_1BinNormalisation.html">BinNormalisation</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredObject.html#a20ba04aadc52e375e5e97961ddb8f5e1">ask_type_and_parameters</a> ()</td></tr>
<tr class="memdesc:a20ba04aadc52e375e5e97961ddb8f5e1 inherit pub_static_methods_classstir_1_1RegisteredObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">ask the user for the type, and then calls read_registered_object(0, type)  <a href="classstir_1_1RegisteredObject.html#a20ba04aadc52e375e5e97961ddb8f5e1">More...</a><br /></td></tr>
<tr class="separator:a20ba04aadc52e375e5e97961ddb8f5e1 inherit pub_static_methods_classstir_1_1RegisteredObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7946572a60fac083300e2baaf650d6b8 inherit pub_static_methods_classstir_1_1RegisteredObject"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredObject.html#a7946572a60fac083300e2baaf650d6b8">list_registered_names</a> (std::ostream &amp;stream)</td></tr>
<tr class="memdesc:a7946572a60fac083300e2baaf650d6b8 inherit pub_static_methods_classstir_1_1RegisteredObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">List all possible registered names to the stream.  <a href="classstir_1_1RegisteredObject.html#a7946572a60fac083300e2baaf650d6b8">More...</a><br /></td></tr>
<tr class="separator:a7946572a60fac083300e2baaf650d6b8 inherit pub_static_methods_classstir_1_1RegisteredObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_types_classstir_1_1RegisteredObject"><td colspan="2" onclick="javascript:toggleInherit('pro_types_classstir_1_1RegisteredObject')"><img src="closed.png" alt="-"/>&#160;Protected Types inherited from <a class="el" href="classstir_1_1RegisteredObject.html">stir::RegisteredObject&lt; BinNormalisation &gt;</a></td></tr>
<tr class="memitem:a4497941e1fe3ec79b7a75085d75488fb inherit pro_types_classstir_1_1RegisteredObject"><td class="memItemLeft" align="right" valign="top"><a id="a4497941e1fe3ec79b7a75085d75488fb"></a>
typedef <a class="el" href="classstir_1_1BinNormalisation.html">BinNormalisation</a> *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredObject.html#a4497941e1fe3ec79b7a75085d75488fb">RootFactory</a>) (std::istream *)</td></tr>
<tr class="memdesc:a4497941e1fe3ec79b7a75085d75488fb inherit pro_types_classstir_1_1RegisteredObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">The type of a root factory is a function, taking an istream* as argument, and returning a Root*. <br /></td></tr>
<tr class="separator:a4497941e1fe3ec79b7a75085d75488fb inherit pro_types_classstir_1_1RegisteredObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6dc41fd8a2cb0a5e1118aa32df98711 inherit pro_types_classstir_1_1RegisteredObject"><td class="memItemLeft" align="right" valign="top"><a id="aa6dc41fd8a2cb0a5e1118aa32df98711"></a>
typedef <a class="el" href="classstir_1_1FactoryRegistry.html">FactoryRegistry</a>&lt; std::string, <a class="el" href="classstir_1_1RegisteredObject.html#a4497941e1fe3ec79b7a75085d75488fb">RootFactory</a>, <a class="el" href="structstir_1_1interfile__less.html">interfile_less</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredObject.html#aa6dc41fd8a2cb0a5e1118aa32df98711">RegistryType</a></td></tr>
<tr class="memdesc:aa6dc41fd8a2cb0a5e1118aa32df98711 inherit pro_types_classstir_1_1RegisteredObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">The type of the registry. <br /></td></tr>
<tr class="separator:aa6dc41fd8a2cb0a5e1118aa32df98711 inherit pro_types_classstir_1_1RegisteredObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classstir_1_1BinNormalisation"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classstir_1_1BinNormalisation')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classstir_1_1BinNormalisation.html">stir::BinNormalisation</a></td></tr>
<tr class="memitem:a5dd52d2f143582de1f2a6a73cc99ec9d inherit pro_methods_classstir_1_1BinNormalisation"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1BinNormalisation.html#a5dd52d2f143582de1f2a6a73cc99ec9d">check</a> (const <a class="el" href="classstir_1_1ProjDataInfo.html">ProjDataInfo</a> &amp;proj_data_info) const</td></tr>
<tr class="memdesc:a5dd52d2f143582de1f2a6a73cc99ec9d inherit pro_methods_classstir_1_1BinNormalisation"><td class="mdescLeft">&#160;</td><td class="mdescRight">check if the argument is the same as what was used for <a class="el" href="classstir_1_1BinNormalisation.html#a3f25d42d0a56b00b7c719dd66967fd2b" title="initialises the object and checks if it can handle such projection data ">set_up()</a>  <a href="classstir_1_1BinNormalisation.html#a5dd52d2f143582de1f2a6a73cc99ec9d">More...</a><br /></td></tr>
<tr class="separator:a5dd52d2f143582de1f2a6a73cc99ec9d inherit pro_methods_classstir_1_1BinNormalisation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classstir_1_1ParsingObject"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classstir_1_1ParsingObject')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classstir_1_1ParsingObject.html">stir::ParsingObject</a></td></tr>
<tr class="memitem:ad8e81786834c010c96c31bce2bac3f6d inherit pro_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ParsingObject.html#ad8e81786834c010c96c31bce2bac3f6d">set_key_values</a> ()</td></tr>
<tr class="memdesc:ad8e81786834c010c96c31bce2bac3f6d inherit pro_methods_classstir_1_1ParsingObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">This will be called before parsing or parameter_info is called.  <a href="classstir_1_1ParsingObject.html#ad8e81786834c010c96c31bce2bac3f6d">More...</a><br /></td></tr>
<tr class="separator:ad8e81786834c010c96c31bce2bac3f6d inherit pro_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_static_methods_classstir_1_1RegisteredObject"><td colspan="2" onclick="javascript:toggleInherit('pro_static_methods_classstir_1_1RegisteredObject')"><img src="closed.png" alt="-"/>&#160;Static Protected Member Functions inherited from <a class="el" href="classstir_1_1RegisteredObject.html">stir::RegisteredObject&lt; BinNormalisation &gt;</a></td></tr>
<tr class="memitem:a480c831d74fb41ff32787a908a07bbd3 inherit pro_static_methods_classstir_1_1RegisteredObject"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classstir_1_1RegisteredObject.html#aa6dc41fd8a2cb0a5e1118aa32df98711">RegistryType</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredObject.html#a480c831d74fb41ff32787a908a07bbd3">registry</a> ()</td></tr>
<tr class="memdesc:a480c831d74fb41ff32787a908a07bbd3 inherit pro_static_methods_classstir_1_1RegisteredObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">Static function returning the registry.  <a href="classstir_1_1RegisteredObject.html#a480c831d74fb41ff32787a908a07bbd3">More...</a><br /></td></tr>
<tr class="separator:a480c831d74fb41ff32787a908a07bbd3 inherit pro_static_methods_classstir_1_1RegisteredObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classstir_1_1BinNormalisation"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classstir_1_1BinNormalisation')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classstir_1_1BinNormalisation.html">stir::BinNormalisation</a></td></tr>
<tr class="memitem:ac0e328cd1db7c26d69e53d6144b10aee inherit pro_attribs_classstir_1_1BinNormalisation"><td class="memItemLeft" align="right" valign="top"><a id="ac0e328cd1db7c26d69e53d6144b10aee"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_already_set_up</b></td></tr>
<tr class="separator:ac0e328cd1db7c26d69e53d6144b10aee inherit pro_attribs_classstir_1_1BinNormalisation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classstir_1_1ParsingObject"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classstir_1_1ParsingObject')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classstir_1_1ParsingObject.html">stir::ParsingObject</a></td></tr>
<tr class="memitem:ac53aef0f7ecd5dbb6204239b14e657f8 inherit pro_attribs_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="ac53aef0f7ecd5dbb6204239b14e657f8"></a>
<a class="el" href="classstir_1_1KeyParser.html">KeyParser</a>&#160;</td><td class="memItemRight" valign="bottom"><b>parser</b></td></tr>
<tr class="separator:ac53aef0f7ecd5dbb6204239b14e657f8 inherit pro_attribs_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A <a class="el" href="classstir_1_1BinNormalisation.html" title="Abstract base class for implementing bin-wise normalisation of data. ">BinNormalisation</a> class that gets attenuation correction factors from an attenuation image. </p>
<p>This forwards projects the attenuation image, multiplies with -1, and exponentiates to obtain the attenuation correction factors.</p>
<p>Default forward projector is <a class="el" href="classstir_1_1ForwardProjectorByBinUsingRayTracing.html" title="This class implements forward projection using Siddon&#39;s algorithm for ray tracing. That is, it computes length of intersection with the voxels. ">ForwardProjectorByBinUsingRayTracing</a>.</p>
<dl class="section warning"><dt>Warning</dt><dd>Attenuation image data are supposed to be in units cm^-1. (Reference: water has mu .096 cm^-1.) </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000109">Todo:</a></b></dt><dd>Add mechanism for caching the attenuation correction factors, such that they will be calculated only once. However, caching should by default be disabled, as most applications need them only once anyway.</dd></dl>
<dl class="section user"><dt>Parsing details</dt><dd><pre class="fragment">Bin Normalisation From Attenuation Image:=
attenuation_image_filename := &lt;ASCII&gt;
forward projector type := &lt;ASCII&gt;
End Bin Normalisation From Attenuation Image :=
</pre> </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a85404c3d25314356a62450653fe1c901"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85404c3d25314356a62450653fe1c901">&#9670;&nbsp;</a></span>BinNormalisationFromAttenuationImage() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">stir::BinNormalisationFromAttenuationImage::BinNormalisationFromAttenuationImage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor. </p>
<dl class="section warning"><dt>Warning</dt><dd>You should not call any member functions for any object just constructed with this constructor. Initialise the object properly first by parsing. </dd></dl>

<p class="reference">Referenced by <a class="el" href="classstir_1_1BinNormalisationFromAttenuationImage.html#a52d5a639119b20521863b90609fbbe4a">BinNormalisationFromAttenuationImage()</a>.</p>

</div>
</div>
<a id="a52d5a639119b20521863b90609fbbe4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52d5a639119b20521863b90609fbbe4a">&#9670;&nbsp;</a></span>BinNormalisationFromAttenuationImage() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">stir::BinNormalisationFromAttenuationImage::BinNormalisationFromAttenuationImage </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">shared_ptr&lt; <a class="el" href="classstir_1_1ForwardProjectorByBin.html">ForwardProjectorByBin</a> &gt; const &amp;&#160;</td>
          <td class="paramname"><em>forward_projector_ptr</em> = <code>shared_ptr&lt;<a class="el" href="classstir_1_1ForwardProjectorByBin.html">ForwardProjectorByBin</a>&gt;()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor that reads the image from a file. </p>
<p>Default forward projector is <a class="el" href="classstir_1_1ForwardProjectorByBinUsingRayTracing.html" title="This class implements forward projection using Siddon&#39;s algorithm for ray tracing. That is, it computes length of intersection with the voxels. ">ForwardProjectorByBinUsingRayTracing</a>. </p>

<p class="reference">References <a class="el" href="classstir_1_1BinNormalisationFromAttenuationImage.html#a85404c3d25314356a62450653fe1c901">BinNormalisationFromAttenuationImage()</a>.</p>

</div>
</div>
<a id="a3d04a3a0c19e0444dba16c02a48a428a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d04a3a0c19e0444dba16c02a48a428a">&#9670;&nbsp;</a></span>BinNormalisationFromAttenuationImage() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">stir::BinNormalisationFromAttenuationImage::BinNormalisationFromAttenuationImage </td>
          <td>(</td>
          <td class="paramtype">shared_ptr&lt; <a class="el" href="classstir_1_1DiscretisedDensity.html">DiscretisedDensity</a>&lt; 3, float &gt; &gt; const &amp;&#160;</td>
          <td class="paramname"><em>attenuation_image_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">shared_ptr&lt; <a class="el" href="classstir_1_1ForwardProjectorByBin.html">ForwardProjectorByBin</a> &gt; const &amp;&#160;</td>
          <td class="paramname"><em>forward_projector_ptr</em> = <code>shared_ptr&lt;<a class="el" href="classstir_1_1ForwardProjectorByBin.html">ForwardProjectorByBin</a>&gt;()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor that takes the image as an argument. </p>
<p>Default forward projector is <a class="el" href="classstir_1_1ForwardProjectorByBinUsingRayTracing.html" title="This class implements forward projection using Siddon&#39;s algorithm for ray tracing. That is, it computes length of intersection with the voxels. ">ForwardProjectorByBinUsingRayTracing</a>. The image pointed to by attenuation_image_ptr is NOT modified. </p>

<p class="reference">References <a class="el" href="classstir_1_1BinNormalisationFromAttenuationImage.html#ad22bd7a4ef42847d5f53e73e40ef1885">set_up()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad22bd7a4ef42847d5f53e73e40ef1885"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad22bd7a4ef42847d5f53e73e40ef1885">&#9670;&nbsp;</a></span>set_up()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstir_1_1Succeeded.html">Succeeded</a> stir::BinNormalisationFromAttenuationImage::set_up </td>
          <td>(</td>
          <td class="paramtype">const shared_ptr&lt; <a class="el" href="classstir_1_1ProjDataInfo.html">ProjDataInfo</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>proj_data_info_ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if we can handle certain projection data. </p>
<p>This test is essentially checking if the forward projector can handle the data by calling <a class="el" href="classstir_1_1ForwardProjectorByBin.html#ab4b72c15b4e59d60fd3f2c95f55d8de6" title="Stores all necessary geometric info. ">ForwardProjectorByBin::set_up()</a>. </p>

<p>Reimplemented from <a class="el" href="classstir_1_1BinNormalisation.html#a3f25d42d0a56b00b7c719dd66967fd2b">stir::BinNormalisation</a>.</p>

<p class="reference">References <a class="el" href="classstir_1_1BinNormalisation.html#a3f25d42d0a56b00b7c719dd66967fd2b">stir::BinNormalisation::set_up()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classstir_1_1BinNormalisationFromAttenuationImage.html#a3d04a3a0c19e0444dba16c02a48a428a">BinNormalisationFromAttenuationImage()</a>.</p>

</div>
</div>
<a id="a2b4a4511bcf57c9d71b68be0a8eb1aff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b4a4511bcf57c9d71b68be0a8eb1aff">&#9670;&nbsp;</a></span>apply()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void stir::BinNormalisationFromAttenuationImage::apply </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classstir_1_1RelatedViewgrams.html">RelatedViewgrams</a>&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>viewgrams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>start_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>end_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Normalise some data. </p>
<p>This means <code>multiply</code> with the data in the projdata object passed in the constructor. </p>

<p>Reimplemented from <a class="el" href="classstir_1_1BinNormalisation.html#a97ce06783944055ee8fdf6ad7238edc2">stir::BinNormalisation</a>.</p>

<p class="reference">References <a class="el" href="classstir_1_1RelatedViewgrams.html#a52deff054b019817dc4a8db2abcf9b46">stir::RelatedViewgrams&lt; elemT &gt;::begin()</a>, <a class="el" href="classstir_1_1BinNormalisation.html#a5dd52d2f143582de1f2a6a73cc99ec9d">stir::BinNormalisation::check()</a>, <a class="el" href="classstir_1_1RelatedViewgrams.html#aaddbe836499f9abe15f2af5657c6ab47">stir::RelatedViewgrams&lt; elemT &gt;::get_empty_copy()</a>, <a class="el" href="classstir_1_1RelatedViewgrams.html#ae0169f53f906cf6286a1264ea03811bc">stir::RelatedViewgrams&lt; elemT &gt;::get_proj_data_info_sptr()</a>, <a class="el" href="group__Array.html#gae26d891efa680f66d87ae6f3e5691f8e">stir::in_place_exp()</a>, and <a class="el" href="classstir_1_1BinNormalisationFromAttenuationImage.html#af37ae22c039dac3435f7c8e3548b2d42">undo()</a>.</p>

</div>
</div>
<a id="af37ae22c039dac3435f7c8e3548b2d42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af37ae22c039dac3435f7c8e3548b2d42">&#9670;&nbsp;</a></span>undo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void stir::BinNormalisationFromAttenuationImage::undo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classstir_1_1RelatedViewgrams.html">RelatedViewgrams</a>&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>viewgrams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>start_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>end_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Undo the normalisation of some data. </p>
<p>This means <code>divide</code> with the data in the projdata object passed in the constructor. </p>

<p>Reimplemented from <a class="el" href="classstir_1_1BinNormalisation.html#aa647ffbe81a5bc18c2a7e30eab0c22f4">stir::BinNormalisation</a>.</p>

<p class="reference">References <a class="el" href="classstir_1_1RelatedViewgrams.html#a52deff054b019817dc4a8db2abcf9b46">stir::RelatedViewgrams&lt; elemT &gt;::begin()</a>, <a class="el" href="classstir_1_1BinNormalisation.html#a5dd52d2f143582de1f2a6a73cc99ec9d">stir::BinNormalisation::check()</a>, <a class="el" href="classstir_1_1RelatedViewgrams.html#aaddbe836499f9abe15f2af5657c6ab47">stir::RelatedViewgrams&lt; elemT &gt;::get_empty_copy()</a>, <a class="el" href="classstir_1_1RelatedViewgrams.html#ae0169f53f906cf6286a1264ea03811bc">stir::RelatedViewgrams&lt; elemT &gt;::get_proj_data_info_sptr()</a>, and <a class="el" href="group__Array.html#gae26d891efa680f66d87ae6f3e5691f8e">stir::in_place_exp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classstir_1_1BinNormalisationFromAttenuationImage.html#a2b4a4511bcf57c9d71b68be0a8eb1aff">apply()</a>.</p>

</div>
</div>
<a id="a64f02f7bef55b5211ec7a37e9da43732"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64f02f7bef55b5211ec7a37e9da43732">&#9670;&nbsp;</a></span>get_bin_efficiency()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float stir::BinNormalisationFromAttenuationImage::get_bin_efficiency </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classstir_1_1Bin.html">Bin</a> &amp;&#160;</td>
          <td class="paramname"><em>bin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>start_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double&#160;</td>
          <td class="paramname"><em>end_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the 'efficiency' factor for a single bin. </p>
<p>With the notation of the class documentation, this returns the factor <img class="formulaInl" alt="$\mathrm{norm}_b $" src="form_54.png"/>.</p>
<dl class="section warning"><dt>Warning</dt><dd>Some derived classes might implement this very inefficiently. </dd></dl>

<p>Implements <a class="el" href="classstir_1_1BinNormalisation.html#a48ab4c713c1f6f8cdc25acf694d97054">stir::BinNormalisation</a>.</p>

<p class="reference">References <a class="el" href="group__buildblock.html#ga19b3ad285f04d613640a497f868b385f">stir::error()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ad5383be582b18ef13bd5c4d5d2509064"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5383be582b18ef13bd5c4d5d2509064">&#9670;&nbsp;</a></span>registered_name</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char *const stir::BinNormalisationFromAttenuationImage::registered_name</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= </div><div class="line">  <span class="stringliteral">&quot;From Attenuation Image&quot;</span></div></div><!-- fragment -->
<p>Name which will be used when parsing a <a class="el" href="classstir_1_1BinNormalisation.html" title="Abstract base class for implementing bin-wise normalisation of data. ">BinNormalisation</a> object. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/sirfuser/devel/STIRdistrib/STIR/src/include/stir/recon_buildblock/<a class="el" href="BinNormalisationFromAttenuationImage_8h_source.html">BinNormalisationFromAttenuationImage.h</a></li>
<li>/home/sirfuser/devel/STIRdistrib/STIR/src/recon_buildblock/<a class="el" href="BinNormalisationFromAttenuationImage_8cxx.html">BinNormalisationFromAttenuationImage.cxx</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri May 7 2021 07:21:19 for STIR by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
