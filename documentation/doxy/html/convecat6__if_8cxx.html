<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STIR: /home/sirfuser/devel/STIRdistrib/STIR/src/utilities/ecat/convecat6_if.cxx File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">STIR
   &#160;<span id="projectnumber">4.1.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_43e0a1f539e00dcfa1a6bc4d4fee4fc2.html">home</a></li><li class="navelem"><a class="el" href="dir_0b75bdf102f5cf4910d6429d56a66609.html">sirfuser</a></li><li class="navelem"><a class="el" href="dir_bf00ec6aee8436d9dd9bdb27c8ba69c2.html">devel</a></li><li class="navelem"><a class="el" href="dir_f033b80aa1e53a09c27a870e567321ae.html">STIRdistrib</a></li><li class="navelem"><a class="el" href="dir_dee4efe29267f8f1fbd97b7b185bc024.html">STIR</a></li><li class="navelem"><a class="el" href="dir_4d737faa33632d919b5a76c7a560514d.html">src</a></li><li class="navelem"><a class="el" href="dir_64801a3d1b1f0e36b62ae4d60cd8bffe.html">utilities</a></li><li class="navelem"><a class="el" href="dir_81eb5c26b3332c04a980502bd40514a0.html">ecat</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">convecat6_if.cxx File Reference<div class="ingroups"><a class="el" href="group__STIR.html">STIR</a> &raquo; <a class="el" href="group__main__programs.html">Executables</a> &raquo; <a class="el" href="group__utilities.html">Utility programs</a> &raquo; <a class="el" href="group__ECAT__utilities.html">ECAT6 and ECAT7 utilities</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Conversion from ECAT 6 cti to interfile (image and sinogram data)  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="utilities_8h_source.html">stir/utilities.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="InterfileOutputFileFormat_8h_source.html">stir/IO/InterfileOutputFileFormat.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="shared__ptr_8h_source.html">stir/shared_ptr.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="VoxelsOnCartesianGrid_8h_source.html">stir/VoxelsOnCartesianGrid.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="stir__ecat6_8h_source.html">stir/IO/stir_ecat6.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ecat6__utils_8h_source.html">stir/IO/ecat6_utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Scanner_8h_source.html">stir/Scanner.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="Succeeded_8h_source.html">stir/Succeeded.h</a>&quot;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0ddf1224851353fc92bfbff6f499fa97"><td class="memItemLeft" align="right" valign="top"><a id="a0ddf1224851353fc92bfbff6f499fa97"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>main</b> (int argc, char *argv[])</td></tr>
<tr class="separator:a0ddf1224851353fc92bfbff6f499fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Conversion from ECAT 6 cti to interfile (image and sinogram data) </p>
<dl class="section author"><dt>Author</dt><dd>Kris Thielemans </dd>
<dd>
Damien Sauge </dd>
<dd>
Sanida Mustafovic </dd>
<dd>
PARAPET project</dd></dl>
<dl class="section user"><dt>Usage: </dt><dd><pre>convecat6_if [output_file_name_without_extension cti_data_file_name [scanner_name]]
</pre> The optional <em>scanner_name</em> can be used to force to a particular scanner (ignoring the system_type in the main header). <em>scanner_name</em> has to be recognised by the Scanner class. Examples are : ECAT 953, RPT, ECAT HR+, Advance etc. If the <em>scanner_name</em> contains a space, the scanner name has to be surrounded by double quotes (&quot;) when used as a command line argument. <br />
 The program asks if all frames should be written or not. If so, all sinograms/images are converted for a fixed 'data' number. For each data set, a suffix is added to the output_filename of the form "_f#g#b#d#" where the # are replaced by the corresponding number of the frame, gate, bed, data.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>CTI ECAT files seem to have a peculiarity that frames and gates are numbered from 1, while bed positions are numbered from 0. Similarly, the number of bed positions in the main header seems to be 1 less than the actual number present. This is at least the case for single bed studies. If this is not true for multi-bed studies, the code would have to be adapted. </dd>
<dd>
Most of the data in the ECAT 6 headers is ignored (except dimensions) </dd>
<dd>
Data are multiplied with the subheader.scale_factor, In addition, for emission sinograms, the data are multiplied with subheader.loss_correction_fctr (unless the loss correction factor is &lt; 0, in which case it is assumed to be 1). </dd>
<dd>
Currently, the decay correction factor is ignored.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000221">Todo:</a></b></dt><dd>This could easily be used to convert to other file formats. For images, this simply involves changing the OutputFileFormat. For projection data, we would have to extend OutputFileFormat to handle projection data. </dd></dl>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri May 7 2021 07:21:19 for STIR by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
