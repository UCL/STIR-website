<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STIR: stir::CListEventScannerWithDiscreteDetectors&lt; ProjDataInfoT &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">STIR
   &#160;<span id="projectnumber">6.2.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacestir.html">stir</a></li><li class="navelem"><a class="el" href="classstir_1_1CListEventScannerWithDiscreteDetectors.html">CListEventScannerWithDiscreteDetectors</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classstir_1_1CListEventScannerWithDiscreteDetectors-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">stir::CListEventScannerWithDiscreteDetectors&lt; ProjDataInfoT &gt; Class Template Reference<span class="mlabels"><span class="mlabel">abstract</span></span><div class="ingroups"><a class="el" href="group__STIR.html">STIR</a> &raquo; <a class="el" href="group__STIR__library.html">STIR library</a> &raquo; <a class="el" href="group__listmode.html">Support classes for reading list mode data</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Class for storing and using a coincidence event from a list mode file for a cylindrical single layer scanner.  
 <a href="classstir_1_1CListEventScannerWithDiscreteDetectors.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="CListEventScannerWithDiscreteDetectors_8h_source.html">stir/listmode/CListEventScannerWithDiscreteDetectors.h</a>&quot;</code></p>
<div class="dynheader">
Inheritance diagram for stir::CListEventScannerWithDiscreteDetectors&lt; ProjDataInfoT &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classstir_1_1CListEventScannerWithDiscreteDetectors__inherit__graph.png" border="0" usemap="#stir_1_1CListEventScannerWithDiscreteDetectors_3_01ProjDataInfoT_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="stir_1_1CListEventScannerWithDiscreteDetectors_3_01ProjDataInfoT_01_4_inherit__map" id="stir_1_1CListEventScannerWithDiscreteDetectors_3_01ProjDataInfoT_01_4_inherit__map">
<area shape="rect" id="node4" href="classstir_1_1CListEventScannerWithDiscreteDetectors.html" title="stir::CListEventScannerWith\lDiscreteDetectors\&lt; ProjDataInfo\lCylindricalNoArcCorr \&gt;" alt="" coords="752,153,965,209"/>
<area shape="rect" id="node2" href="classstir_1_1CListEvent.html" title="Class for storing and using a coincidence event from a list mode file. " alt="" coords="157,168,271,195"/>
<area shape="rect" id="node3" href="classstir_1_1ListEvent.html" title="Class for storing and using gamma events from a list mode file. " alt="" coords="5,168,108,195"/>
<area shape="rect" id="node5" href="classstir_1_1CListEventCylindricalScannerWithDiscreteDetectors.html" title="Class for storing and using a coincidence event from a list mode file for a cylindrical scanner..." alt="" coords="1015,161,1217,202"/>
<area shape="rect" id="node6" href="classstir_1_1CListEventCylindricalScannerWithViewTangRingRingEncoding.html" title="stir::CListEventCylindrical\lScannerWithViewTangRingRingEncoding\l\&lt; CListEventECAT966 \&gt;" alt="" coords="1736,16,1999,72"/>
<area shape="rect" id="node7" href="classstir_1_1CListEventCylindricalScannerWithViewTangRingRingEncoding.html" title="stir::CListEventCylindrical\lScannerWithViewTangRingRingEncoding\l\&lt; CListRecordECAT962 \&gt;" alt="" coords="1736,100,1999,156"/>
<area shape="rect" id="node8" href="classstir_1_1CListEventCylindricalScannerWithViewTangRingRingEncoding.html" title="Helper class for listmode events when using 2d sinograms and ring&#45;pairs is most efficient. " alt="" coords="1267,63,1529,119"/>
<area shape="rect" id="node9" href="classstir_1_1CListEventPENN.html" title="Class for handling PENNPet Explorer events. " alt="" coords="1323,193,1473,220"/>
<area shape="rect" id="node10" href="classstir_1_1ecat_1_1CListEventECAT8__32bit.html" title="Class for storing and using a coincidence event from a listmode file from Siemens scanners using the ..." alt="" coords="1303,245,1493,286"/>
<area shape="rect" id="node11" href="classstir_1_1GE_1_1RDF__HDF5_1_1CListRecordGEHDF5.html" title="A class for a general element (or &quot;record&quot;) of a GE RDF9 listmode file. " alt="" coords="1319,310,1477,351"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1f22a3388df07bb8cede5ce5de6373d8"><td class="memItemLeft" align="right" valign="top"><a id="a1f22a3388df07bb8cede5ce5de6373d8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>CListEventScannerWithDiscreteDetectors</b> (const shared_ptr&lt; const <a class="el" href="classstir_1_1ProjDataInfo.html">ProjDataInfo</a> &gt; &amp;proj_data_info)</td></tr>
<tr class="separator:a1f22a3388df07bb8cede5ce5de6373d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16ce55ec86c87b8088fcf65b9d3c787d"><td class="memItemLeft" align="right" valign="top"><a id="a16ce55ec86c87b8088fcf65b9d3c787d"></a>
const <a class="el" href="classstir_1_1Scanner.html">Scanner</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>get_scanner_ptr</b> () const</td></tr>
<tr class="separator:a16ce55ec86c87b8088fcf65b9d3c787d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2271b998ba0d97d4466076c41b7b06c0"><td class="memItemLeft" align="right" valign="top"><a id="a2271b998ba0d97d4466076c41b7b06c0"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1CListEventScannerWithDiscreteDetectors.html#a2271b998ba0d97d4466076c41b7b06c0">get_detection_position</a> (<a class="el" href="classstir_1_1DetectionPositionPair.html">DetectionPositionPair</a>&lt;&gt; &amp;) const =0</td></tr>
<tr class="memdesc:a2271b998ba0d97d4466076c41b7b06c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This routine returns the corresponding detector pair. <br /></td></tr>
<tr class="separator:a2271b998ba0d97d4466076c41b7b06c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30244e3e5418bb6411f844044db4d293"><td class="memItemLeft" align="right" valign="top"><a id="a30244e3e5418bb6411f844044db4d293"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1CListEventScannerWithDiscreteDetectors.html#a30244e3e5418bb6411f844044db4d293">set_detection_position</a> (const <a class="el" href="classstir_1_1DetectionPositionPair.html">DetectionPositionPair</a>&lt;&gt; &amp;)=0</td></tr>
<tr class="memdesc:a30244e3e5418bb6411f844044db4d293"><td class="mdescLeft">&#160;</td><td class="mdescRight">This routine sets in a coincidence event from detector "indices". <br /></td></tr>
<tr class="separator:a30244e3e5418bb6411f844044db4d293"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4904dfd44e8946f8deefb758645dc67"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstir_1_1LORAs2Points.html">LORAs2Points</a>&lt; float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1CListEventScannerWithDiscreteDetectors.html#aa4904dfd44e8946f8deefb758645dc67">get_LOR</a> () const override</td></tr>
<tr class="memdesc:aa4904dfd44e8946f8deefb758645dc67"><td class="mdescLeft">&#160;</td><td class="mdescRight">find <a class="el" href="classstir_1_1LOR.html" title="A base class for specifying an LOR with geometric coordinates. ">LOR</a> between detector pairs  <a href="#aa4904dfd44e8946f8deefb758645dc67">More...</a><br /></td></tr>
<tr class="separator:aa4904dfd44e8946f8deefb758645dc67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbf3e76b8b467361911563cc4507e3e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1CListEventScannerWithDiscreteDetectors.html#acbf3e76b8b467361911563cc4507e3e1">get_bin</a> (<a class="el" href="classstir_1_1Bin.html">Bin</a> &amp;bin, const <a class="el" href="classstir_1_1ProjDataInfo.html">ProjDataInfo</a> &amp;proj_data_info) const override</td></tr>
<tr class="memdesc:acbf3e76b8b467361911563cc4507e3e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">find bin for this event  <a href="#acbf3e76b8b467361911563cc4507e3e1">More...</a><br /></td></tr>
<tr class="separator:acbf3e76b8b467361911563cc4507e3e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e13a82b306198a6d81d741ec928a3e6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1CListEventScannerWithDiscreteDetectors.html#a0e13a82b306198a6d81d741ec928a3e6">is_valid_template</a> (const <a class="el" href="classstir_1_1ProjDataInfo.html">ProjDataInfo</a> &amp;) const override</td></tr>
<tr class="memdesc:a0e13a82b306198a6d81d741ec928a3e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method checks if the template is valid for <a class="el" href="classstir_1_1LmToProjData.html" title="This class is used to bin listmode data to projection data, i.e. (3d) sinograms. ">LmToProjData</a>.  <a href="#a0e13a82b306198a6d81d741ec928a3e6">More...</a><br /></td></tr>
<tr class="separator:a0e13a82b306198a6d81d741ec928a3e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classstir_1_1CListEvent"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classstir_1_1CListEvent')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classstir_1_1CListEvent.html">stir::CListEvent</a></td></tr>
<tr class="memitem:a63c3f96d017ce32040b585c10cc0c1ec inherit pub_methods_classstir_1_1CListEvent"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classstir_1_1Succeeded.html">Succeeded</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1CListEvent.html#a63c3f96d017ce32040b585c10cc0c1ec">set_prompt</a> (const bool prompt=true)</td></tr>
<tr class="memdesc:a63c3f96d017ce32040b585c10cc0c1ec inherit pub_methods_classstir_1_1CListEvent"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the event from prompt to delayed or vice versa.  <a href="classstir_1_1CListEvent.html#a63c3f96d017ce32040b585c10cc0c1ec">More...</a><br /></td></tr>
<tr class="separator:a63c3f96d017ce32040b585c10cc0c1ec inherit pub_methods_classstir_1_1CListEvent"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classstir_1_1ListEvent"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classstir_1_1ListEvent')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classstir_1_1ListEvent.html">stir::ListEvent</a></td></tr>
<tr class="memitem:a08c81a25cfcf1ec8084ddb5341a20479 inherit pub_methods_classstir_1_1ListEvent"><td class="memItemLeft" align="right" valign="top"><a id="a08c81a25cfcf1ec8084ddb5341a20479"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>is_prompt</b> () const =0</td></tr>
<tr class="separator:a08c81a25cfcf1ec8084ddb5341a20479 inherit pub_methods_classstir_1_1ListEvent"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a123be948c60c446d9be1c8c3026d9536"><td class="memItemLeft" align="right" valign="top"><a id="a123be948c60c446d9be1c8c3026d9536"></a>
shared_ptr&lt; const ProjDataInfoT &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>get_uncompressed_proj_data_info_sptr</b> () const</td></tr>
<tr class="separator:a123be948c60c446d9be1c8c3026d9536"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class ProjDataInfoT&gt;<br />
class stir::CListEventScannerWithDiscreteDetectors&lt; ProjDataInfoT &gt;</h3>

<p>Class for storing and using a coincidence event from a list mode file for a cylindrical single layer scanner. </p>
<p>For scanners with discrete detectors, the list mode events usually store detector indices in some way. This class provides access mechanisms to those detection positions, and also provides more efficient implementations of some virtual members of <a class="el" href="classstir_1_1CListEvent.html" title="Class for storing and using a coincidence event from a list mode file. ">CListEvent</a>. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="aa4904dfd44e8946f8deefb758645dc67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4904dfd44e8946f8deefb758645dc67">&#9670;&nbsp;</a></span>get_LOR()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ProjDataInfoT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstir_1_1LORAs2Points.html">LORAs2Points</a>&lt; float &gt; <a class="el" href="classstir_1_1CListEventScannerWithDiscreteDetectors.html">stir::CListEventScannerWithDiscreteDetectors</a>&lt; ProjDataInfoT &gt;::get_LOR </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>find <a class="el" href="classstir_1_1LOR.html" title="A base class for specifying an LOR with geometric coordinates. ">LOR</a> between detector pairs </p>
<p>Overrides the default implementation to use <a class="el" href="classstir_1_1CListEventScannerWithDiscreteDetectors.html#a2271b998ba0d97d4466076c41b7b06c0" title="This routine returns the corresponding detector pair. ">get_detection_position()</a> which should be faster. </p>

<p>Implements <a class="el" href="classstir_1_1ListEvent.html#aa3ff35d983c9c3856cfa7fc17d0d7d4c">stir::ListEvent</a>.</p>

</div>
</div>
<a id="acbf3e76b8b467361911563cc4507e3e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbf3e76b8b467361911563cc4507e3e1">&#9670;&nbsp;</a></span>get_bin()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ProjDataInfoT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classstir_1_1CListEventScannerWithDiscreteDetectors.html">stir::CListEventScannerWithDiscreteDetectors</a>&lt; ProjDataInfoT &gt;::get_bin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classstir_1_1Bin.html">Bin</a> &amp;&#160;</td>
          <td class="paramname"><em>bin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classstir_1_1ProjDataInfo.html">ProjDataInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>proj_data_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>find bin for this event </p>
<p>Overrides the default implementation to use <a class="el" href="classstir_1_1CListEventScannerWithDiscreteDetectors.html#a2271b998ba0d97d4466076c41b7b06c0" title="This routine returns the corresponding detector pair. ">get_detection_position()</a> which should be faster.</p>
<dl class="section warning"><dt>Warning</dt><dd>This implementation is only valid for <code>proj_data_info</code> of type ProjDataInfoT. However, because of efficiency reasons this is only checked in debug mode (NDEBUG not defined). </dd></dl>

<p>Reimplemented from <a class="el" href="classstir_1_1ListEvent.html#a7a9623d9cfd546d8047c92c981199090">stir::ListEvent</a>.</p>

</div>
</div>
<a id="a0e13a82b306198a6d81d741ec928a3e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e13a82b306198a6d81d741ec928a3e6">&#9670;&nbsp;</a></span>is_valid_template()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ProjDataInfoT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classstir_1_1CListEventScannerWithDiscreteDetectors.html">stir::CListEventScannerWithDiscreteDetectors</a>&lt; ProjDataInfoT &gt;::is_valid_template </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classstir_1_1ProjDataInfo.html">ProjDataInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>proj_data_info</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This method checks if the template is valid for <a class="el" href="classstir_1_1LmToProjData.html" title="This class is used to bin listmode data to projection data, i.e. (3d) sinograms. ">LmToProjData</a>. </p>
<p>Used before the actual processing of the data (see issue #61), before calling <a class="el" href="classstir_1_1CListEventScannerWithDiscreteDetectors.html#acbf3e76b8b467361911563cc4507e3e1" title="find bin for this event ">get_bin()</a> Most scanners have listmode data that correspond to non arc-corrected data and this check avoids a crash when an unsupported template is used as input. </p>

<p>Implements <a class="el" href="classstir_1_1ListEvent.html#a9d3a931f8f42f48e2dad8b911b82dc23">stir::ListEvent</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/sirfuser/devel/STIRdistrib/STIR/src/include/stir/listmode/<a class="el" href="CListEventScannerWithDiscreteDetectors_8h_source.html">CListEventScannerWithDiscreteDetectors.h</a></li>
<li>/home/sirfuser/devel/STIRdistrib/STIR/src/include/stir/listmode/<a class="el" href="CListEventScannerWithDiscreteDetectors_8inl.html">CListEventScannerWithDiscreteDetectors.inl</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jul 23 2024 09:13:14 for STIR by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
