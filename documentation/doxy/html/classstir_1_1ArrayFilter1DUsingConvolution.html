<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STIR: stir::ArrayFilter1DUsingConvolution&lt; elemT &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">STIR
   &#160;<span id="projectnumber">5.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacestir.html">stir</a></li><li class="navelem"><a class="el" href="classstir_1_1ArrayFilter1DUsingConvolution.html">ArrayFilter1DUsingConvolution</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classstir_1_1ArrayFilter1DUsingConvolution-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">stir::ArrayFilter1DUsingConvolution&lt; elemT &gt; Class Template Reference<div class="ingroups"><a class="el" href="group__STIR.html">STIR</a> &raquo; <a class="el" href="group__STIR__library.html">STIR library</a> &raquo; <a class="el" href="group__buildblock.html">Basic building blocks</a> &raquo; <a class="el" href="group__Array.html">Items relating to vectors and (multi-dimensional) arrays</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>This class implements convolution of a 1D array with an arbitrary (i.e. potentially non-symmetric) kernel.  
 <a href="classstir_1_1ArrayFilter1DUsingConvolution.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="ArrayFilter1DUsingConvolution_8h_source.html">stir/ArrayFilter1DUsingConvolution.h</a>&quot;</code></p>
<div class="dynheader">
Inheritance diagram for stir::ArrayFilter1DUsingConvolution&lt; elemT &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classstir_1_1ArrayFilter1DUsingConvolution__inherit__graph.png" border="0" usemap="#stir_1_1ArrayFilter1DUsingConvolution_3_01elemT_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="stir_1_1ArrayFilter1DUsingConvolution_3_01elemT_01_4_inherit__map" id="stir_1_1ArrayFilter1DUsingConvolution_3_01elemT_01_4_inherit__map">
<area shape="rect" id="node2" href="classstir_1_1ArrayFunctionObject__2ArgumentImplementation.html" title="stir::ArrayFunctionObject\l_2ArgumentImplementation\l\&lt; 1, elemT \&gt;" alt="" coords="619,5,824,61"/>
<area shape="rect" id="node3" href="classstir_1_1ArrayFunctionObject.html" title="A class for operations on n&#45;dimensional Arrays. " alt="" coords="5,21,217,62"/>
<area shape="rect" id="node4" href="classstir_1_1ArrayFunctionObject__2ArgumentImplementation.html" title="A convenience class for children of ArrayFunctionObject. It implements the in&#45;place operator() in ter..." alt="" coords="267,45,479,101"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a79737742cae14b87cddde811154af3b6"><td class="memItemLeft" align="right" valign="top"><a id="a79737742cae14b87cddde811154af3b6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ArrayFilter1DUsingConvolution.html#a79737742cae14b87cddde811154af3b6">ArrayFilter1DUsingConvolution</a> ()</td></tr>
<tr class="memdesc:a79737742cae14b87cddde811154af3b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a trivial filter. <br /></td></tr>
<tr class="separator:a79737742cae14b87cddde811154af3b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a979ec983b2868e670a39f03421a39b7e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ArrayFilter1DUsingConvolution.html#a979ec983b2868e670a39f03421a39b7e">ArrayFilter1DUsingConvolution</a> (const <a class="el" href="classstir_1_1VectorWithOffset.html">VectorWithOffset</a>&lt; elemT &gt; &amp;filter_kernel, const BoundaryConditions::BC bc=BoundaryConditions::zero)</td></tr>
<tr class="memdesc:a979ec983b2868e670a39f03421a39b7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct the filter given the kernel coefficients.  <a href="#a979ec983b2868e670a39f03421a39b7e">More...</a><br /></td></tr>
<tr class="separator:a979ec983b2868e670a39f03421a39b7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8717fff151c9c76e7daa4cfe45e0e3a8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ArrayFilter1DUsingConvolution.html#a8717fff151c9c76e7daa4cfe45e0e3a8">is_trivial</a> () const</td></tr>
<tr class="memdesc:a8717fff151c9c76e7daa4cfe45e0e3a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">checks if the kernel corresponds to a trivial filter operation  <a href="#a8717fff151c9c76e7daa4cfe45e0e3a8">More...</a><br /></td></tr>
<tr class="separator:a8717fff151c9c76e7daa4cfe45e0e3a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad71642c7dd6006195fec54753e7500cf"><td class="memItemLeft" align="right" valign="top"><a id="ad71642c7dd6006195fec54753e7500cf"></a>
virtual <a class="el" href="classstir_1_1Succeeded.html">Succeeded</a>&#160;</td><td class="memItemRight" valign="bottom"><b>get_influencing_indices</b> (<a class="el" href="classstir_1_1IndexRange.html">IndexRange</a>&lt; 1 &gt; &amp;influencing_indices, const <a class="el" href="classstir_1_1IndexRange.html">IndexRange</a>&lt; 1 &gt; &amp;output_indices) const</td></tr>
<tr class="separator:ad71642c7dd6006195fec54753e7500cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe9997ae464e565ed588151191d38b6e"><td class="memItemLeft" align="right" valign="top"><a id="afe9997ae464e565ed588151191d38b6e"></a>
virtual <a class="el" href="classstir_1_1Succeeded.html">Succeeded</a>&#160;</td><td class="memItemRight" valign="bottom"><b>get_influenced_indices</b> (<a class="el" href="classstir_1_1IndexRange.html">IndexRange</a>&lt; 1 &gt; &amp;influenced_indices, const <a class="el" href="classstir_1_1IndexRange.html">IndexRange</a>&lt; 1 &gt; &amp;input_indices) const</td></tr>
<tr class="separator:afe9997ae464e565ed588151191d38b6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classstir_1_1ArrayFunctionObject__2ArgumentImplementation"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classstir_1_1ArrayFunctionObject__2ArgumentImplementation')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classstir_1_1ArrayFunctionObject__2ArgumentImplementation.html">stir::ArrayFunctionObject_2ArgumentImplementation&lt; 1, elemT &gt;</a></td></tr>
<tr class="memitem:a7a30971050f88c09d5a1116f1241fd41 inherit pub_methods_classstir_1_1ArrayFunctionObject__2ArgumentImplementation"><td class="memItemLeft" align="right" valign="top"><a id="a7a30971050f88c09d5a1116f1241fd41"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ArrayFunctionObject__2ArgumentImplementation.html#a7a30971050f88c09d5a1116f1241fd41">operator()</a> (<a class="el" href="classstir_1_1Array.html">Array</a>&lt; num_dimensions, elemT &gt; &amp;array) const</td></tr>
<tr class="memdesc:a7a30971050f88c09d5a1116f1241fd41 inherit pub_methods_classstir_1_1ArrayFunctionObject__2ArgumentImplementation"><td class="mdescLeft">&#160;</td><td class="mdescRight">in-place modification of array, implemented inline <br /></td></tr>
<tr class="separator:a7a30971050f88c09d5a1116f1241fd41 inherit pub_methods_classstir_1_1ArrayFunctionObject__2ArgumentImplementation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b95b8827f5586934ff7f43baf74b018 inherit pub_methods_classstir_1_1ArrayFunctionObject__2ArgumentImplementation"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>operator()</b> (<a class="el" href="classstir_1_1Array.html">Array</a>&lt; num_dimensions, elemT &gt; &amp;out_array, const <a class="el" href="classstir_1_1Array.html">Array</a>&lt; num_dimensions, elemT &gt; &amp;in_array) const</td></tr>
<tr class="memdesc:a5b95b8827f5586934ff7f43baf74b018 inherit pub_methods_classstir_1_1ArrayFunctionObject__2ArgumentImplementation"><td class="mdescLeft">&#160;</td><td class="mdescRight">result stored in another array  <a href="classstir_1_1ArrayFunctionObject__2ArgumentImplementation.html#a5b95b8827f5586934ff7f43baf74b018">More...</a><br /></td></tr>
<tr class="separator:a5b95b8827f5586934ff7f43baf74b018 inherit pub_methods_classstir_1_1ArrayFunctionObject__2ArgumentImplementation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classstir_1_1ArrayFunctionObject"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classstir_1_1ArrayFunctionObject')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classstir_1_1ArrayFunctionObject.html">stir::ArrayFunctionObject&lt; num_dimensions, elemT &gt;</a></td></tr>
<tr class="memitem:a8d35e1583eab54a358710bb0abf5b833 inherit pub_methods_classstir_1_1ArrayFunctionObject"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classstir_1_1Succeeded.html">Succeeded</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ArrayFunctionObject.html#a8d35e1583eab54a358710bb0abf5b833">get_influencing_indices</a> (<a class="el" href="classstir_1_1IndexRange.html">IndexRange</a>&lt; num_dimensions &gt; &amp;influencing_indices, const <a class="el" href="classstir_1_1IndexRange.html">IndexRange</a>&lt; num_dimensions &gt; &amp;output_indices) const</td></tr>
<tr class="memdesc:a8d35e1583eab54a358710bb0abf5b833 inherit pub_methods_classstir_1_1ArrayFunctionObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">sets the range of indices that influences the result in a set of coordinates <em>output_indices</em>  <a href="classstir_1_1ArrayFunctionObject.html#a8d35e1583eab54a358710bb0abf5b833">More...</a><br /></td></tr>
<tr class="separator:a8d35e1583eab54a358710bb0abf5b833 inherit pub_methods_classstir_1_1ArrayFunctionObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b83130615e33a36ca4ff62cecc883f3 inherit pub_methods_classstir_1_1ArrayFunctionObject"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classstir_1_1Succeeded.html">Succeeded</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ArrayFunctionObject.html#a0b83130615e33a36ca4ff62cecc883f3">get_influenced_indices</a> (<a class="el" href="classstir_1_1IndexRange.html">IndexRange</a>&lt; num_dimensions &gt; &amp;influenced_indices, const <a class="el" href="classstir_1_1IndexRange.html">IndexRange</a>&lt; num_dimensions &gt; &amp;input_indices) const</td></tr>
<tr class="memdesc:a0b83130615e33a36ca4ff62cecc883f3 inherit pub_methods_classstir_1_1ArrayFunctionObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">sets the range of indices that gets influenced by a set of coordinate <em>input_indices</em>  <a href="classstir_1_1ArrayFunctionObject.html#a0b83130615e33a36ca4ff62cecc883f3">More...</a><br /></td></tr>
<tr class="separator:a0b83130615e33a36ca4ff62cecc883f3 inherit pub_methods_classstir_1_1ArrayFunctionObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classstir_1_1ArrayFunctionObject__2ArgumentImplementation"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classstir_1_1ArrayFunctionObject__2ArgumentImplementation')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classstir_1_1ArrayFunctionObject__2ArgumentImplementation.html">stir::ArrayFunctionObject_2ArgumentImplementation&lt; 1, elemT &gt;</a></td></tr>
<tr class="memitem:adcdb30f99619c0cf984b29278b8b173b inherit pro_methods_classstir_1_1ArrayFunctionObject__2ArgumentImplementation"><td class="memItemLeft" align="right" valign="top"><a id="adcdb30f99619c0cf984b29278b8b173b"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>do_it</b> (<a class="el" href="classstir_1_1Array.html">Array</a>&lt; num_dimensions, elemT &gt; &amp;out_array, const <a class="el" href="classstir_1_1Array.html">Array</a>&lt; num_dimensions, elemT &gt; &amp;in_array) const=0</td></tr>
<tr class="separator:adcdb30f99619c0cf984b29278b8b173b inherit pro_methods_classstir_1_1ArrayFunctionObject__2ArgumentImplementation"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename elemT&gt;<br />
class stir::ArrayFilter1DUsingConvolution&lt; elemT &gt;</h3>

<p>This class implements convolution of a 1D array with an arbitrary (i.e. potentially non-symmetric) kernel. </p>
<p>Convolution is non-periodic:</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ out_i = \sum_j kernel_j in_{i-j} \]" src="form_0.png"/>
</p>
<p>Note that for most kernels, the above convention means that the zero- index of the kernel corresponds to the peak in the kernel.</p>
<p>By default, zero boundary conditions are used, i.e. elements of the input array that are outside its index range are considered to be 0.</p>
<p>Currently, "constant" boundary conditions are also implemented, i.e. elements of the input array that are outside its index range are considered to the same as the nearest element in the array (i.e. first element on the "left" and last element on the "right").</p>
<dl class="section user"><dt>Example 1</dt><dd>A straightforward low-pass filter, with a symmetric kernel <div class="fragment"><div class="line">VectorWithOffset&lt;float&gt; kernel(-1,1);</div><div class="line">kernel[-1] = kernel[1] = .25F; kernel[0] = 0.5F;</div><div class="line">ArrayFilter1DUsingConvolution&lt;float&gt; lowpass_filter(kernel);</div></div><!-- fragment --> </dd></dl>
<dl class="section user"><dt>Example 2</dt><dd>A filter which shifts the output 1 index to the right, i.e. <img class="formulaInl" alt="$ out_i = in_{i-1}$" src="form_1.png"/> <div class="fragment"><div class="line">VectorWithOffset&lt;float&gt; kernel(1,1);</div><div class="line">kernel[1] = 1.F;</div><div class="line">ArrayFilter1DUsingConvolution&lt;float&gt; right_shift_filter(kernel);</div></div><!-- fragment --></dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>1 argument operator() currently leaves the array with the the same index range, i.e. it does not extend it with the kernel size or so.</dd></dl>
<dl class="section see"><dt>See also</dt><dd>ArrayFilter1DUsingSymmetricConvolution for an implementation when the kernel is symmetric. (Note: it's not clear if that implementation results in faster execution).</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000013">Todo:</a></b></dt><dd>implement other boundary conditions </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a979ec983b2868e670a39f03421a39b7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a979ec983b2868e670a39f03421a39b7e">&#9670;&nbsp;</a></span>ArrayFilter1DUsingConvolution()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename elemT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstir_1_1ArrayFilter1DUsingConvolution.html">stir::ArrayFilter1DUsingConvolution</a>&lt; elemT &gt;::<a class="el" href="classstir_1_1ArrayFilter1DUsingConvolution.html">ArrayFilter1DUsingConvolution</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classstir_1_1VectorWithOffset.html">VectorWithOffset</a>&lt; elemT &gt; &amp;&#160;</td>
          <td class="paramname"><em>filter_kernel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const BoundaryConditions::BC&#160;</td>
          <td class="paramname"><em>bc</em> = <code>BoundaryConditions::zero</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct the filter given the kernel coefficients. </p>
<p>Currently <em>bc</em> has to be BoundaryConditions::zero or BoundaryConditions::constant </p>

<p class="reference">References <a class="el" href="classstir_1_1ArrayFilter1DUsingConvolution.html#a8717fff151c9c76e7daa4cfe45e0e3a8">stir::ArrayFilter1DUsingConvolution&lt; elemT &gt;::is_trivial()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8717fff151c9c76e7daa4cfe45e0e3a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8717fff151c9c76e7daa4cfe45e0e3a8">&#9670;&nbsp;</a></span>is_trivial()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename elemT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classstir_1_1ArrayFilter1DUsingConvolution.html">stir::ArrayFilter1DUsingConvolution</a>&lt; elemT &gt;::is_trivial </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>checks if the kernel corresponds to a trivial filter operation </p>
<p>trivial means, either the kernel has 0 length, or length 1 and its only element is 1 </p>

<p>Implements <a class="el" href="classstir_1_1ArrayFunctionObject.html#a6070648c9ecce42d7fd223bd63590c81">stir::ArrayFunctionObject&lt; num_dimensions, elemT &gt;</a>.</p>

<p class="reference">References <a class="el" href="group__buildblock.html#ga19b3ad285f04d613640a497f868b385f">stir::error()</a>, <a class="el" href="classstir_1_1VectorWithOffset.html#a9179fdbe02bc4cb22fde51599537e2b5">stir::VectorWithOffset&lt; T &gt;::get_length()</a>, <a class="el" href="classstir_1_1VectorWithOffset.html#a23a3bcc84639216e608406803d98f14e">stir::VectorWithOffset&lt; T &gt;::get_max_index()</a>, and <a class="el" href="classstir_1_1VectorWithOffset.html#a60196eb5ff5b91256df466ca4ddbd7fa">stir::VectorWithOffset&lt; T &gt;::get_min_index()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classstir_1_1ArrayFilter1DUsingConvolution.html#a979ec983b2868e670a39f03421a39b7e">stir::ArrayFilter1DUsingConvolution&lt; elemT &gt;::ArrayFilter1DUsingConvolution()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/sirfuser/devel/STIRdistrib/STIR/src/include/stir/<a class="el" href="ArrayFilter1DUsingConvolution_8h_source.html">ArrayFilter1DUsingConvolution.h</a></li>
<li>/home/sirfuser/devel/STIRdistrib/STIR/src/buildblock/<a class="el" href="ArrayFilter1DUsingConvolution_8cxx.html">ArrayFilter1DUsingConvolution.cxx</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Mar 22 2022 20:12:25 for STIR by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
