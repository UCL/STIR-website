<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>STIR: stir::BSpline::BSplinesRegularGrid&lt; num_dimensions, out_elemT, in_elemT, constantsT &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">STIR
   &#160;<span id="projectnumber">Version_3.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacestir.html">stir</a></li><li class="navelem"><a class="el" href="namespacestir_1_1BSpline.html">BSpline</a></li><li class="navelem"><a class="el" href="classstir_1_1BSpline_1_1BSplinesRegularGrid.html">BSplinesRegularGrid</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classstir_1_1BSpline_1_1BSplinesRegularGrid-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">stir::BSpline::BSplinesRegularGrid&lt; num_dimensions, out_elemT, in_elemT, constantsT &gt; Class Template Reference<div class="ingroups"><a class="el" href="group__BSpline.html">Classes and functions for B-spline interpolation.</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>A class for n-dimensional <a class="el" href="namespacestir_1_1BSpline.html" title="Namespace for functions and classes for B-Spline interpolation in the STIR library. ">BSpline</a> interpolation when the input samples are on a regular grid.  
 <a href="classstir_1_1BSpline_1_1BSplinesRegularGrid.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="BSplinesRegularGrid_8h_source.html">stir/numerics/BSplinesRegularGrid.h</a>&quot;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6b2d30e0bbecd884675b5303b2ec4c99"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6b2d30e0bbecd884675b5303b2ec4c99"></a>
<a class="el" href="classstir_1_1Array.html">Array</a>&lt; num_dimensions, out_elemT &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>get_coefficients</b> () const </td></tr>
<tr class="separator:a6b2d30e0bbecd884675b5303b2ec4c99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38e19998660cdc2ff7330f884b59f729"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a38e19998660cdc2ff7330f884b59f729"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1BSpline_1_1BSplinesRegularGrid.html#a38e19998660cdc2ff7330f884b59f729">BSplinesRegularGrid</a> (const <a class="el" href="classstir_1_1Array.html">Array</a>&lt; num_dimensions, in_elemT &gt; &amp;input, const <a class="el" href="group__BSpline.html#gaa4a83dae28c1550670e3fc9482fb2fe1">BSplineType</a> &amp;this_type=cubic)</td></tr>
<tr class="memdesc:a38e19998660cdc2ff7330f884b59f729"><td class="mdescLeft">&#160;</td><td class="mdescRight">constructor given an array of samples and the spline type <br/></td></tr>
<tr class="separator:a38e19998660cdc2ff7330f884b59f729"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ce9911b658a27c4cabc4acd2b14673c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7ce9911b658a27c4cabc4acd2b14673c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1BSpline_1_1BSplinesRegularGrid.html#a7ce9911b658a27c4cabc4acd2b14673c">BSplinesRegularGrid</a> (const <a class="el" href="classstir_1_1Array.html">Array</a>&lt; num_dimensions, in_elemT &gt; &amp;input, const <a class="el" href="classstir_1_1BasicCoordinate.html">BasicCoordinate</a>&lt; num_dimensions, <a class="el" href="group__BSpline.html#gaa4a83dae28c1550670e3fc9482fb2fe1">BSplineType</a> &gt; &amp;this_type)</td></tr>
<tr class="memdesc:a7ce9911b658a27c4cabc4acd2b14673c"><td class="mdescLeft">&#160;</td><td class="mdescRight">constructor given an array of samples and a different spline type for every dimension <br/></td></tr>
<tr class="separator:a7ce9911b658a27c4cabc4acd2b14673c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a132180ecf206bb3419dca64cc6f35d2a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1BSpline_1_1BSplinesRegularGrid.html#a132180ecf206bb3419dca64cc6f35d2a">BSplinesRegularGrid</a> (const <a class="el" href="group__BSpline.html#gaa4a83dae28c1550670e3fc9482fb2fe1">BSplineType</a> &amp;this_type=cubic)</td></tr>
<tr class="memdesc:a132180ecf206bb3419dca64cc6f35d2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">constructor that only sets the spline type  <a href="#a132180ecf206bb3419dca64cc6f35d2a">More...</a><br/></td></tr>
<tr class="separator:a132180ecf206bb3419dca64cc6f35d2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f56ed8c1868518e9b57c1e917d2a365"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1BSpline_1_1BSplinesRegularGrid.html#a3f56ed8c1868518e9b57c1e917d2a365">BSplinesRegularGrid</a> (const <a class="el" href="classstir_1_1BasicCoordinate.html">BasicCoordinate</a>&lt; num_dimensions, <a class="el" href="group__BSpline.html#gaa4a83dae28c1550670e3fc9482fb2fe1">BSplineType</a> &gt; &amp;this_type)</td></tr>
<tr class="memdesc:a3f56ed8c1868518e9b57c1e917d2a365"><td class="mdescLeft">&#160;</td><td class="mdescRight">constructor that only sets a different spline type for every dimension  <a href="#a3f56ed8c1868518e9b57c1e917d2a365">More...</a><br/></td></tr>
<tr class="separator:a3f56ed8c1868518e9b57c1e917d2a365"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ecc508bd5b14e6d43fa6fe1d34ac44c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6ecc508bd5b14e6d43fa6fe1d34ac44c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1BSpline_1_1BSplinesRegularGrid.html#a6ecc508bd5b14e6d43fa6fe1d34ac44c">~BSplinesRegularGrid</a> ()</td></tr>
<tr class="memdesc:a6ecc508bd5b14e6d43fa6fe1d34ac44c"><td class="mdescLeft">&#160;</td><td class="mdescRight">destructor <br/></td></tr>
<tr class="separator:a6ecc508bd5b14e6d43fa6fe1d34ac44c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd326394fa6d854d1f6be78d4db0f326"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1BSpline_1_1BSplinesRegularGrid.html#acd326394fa6d854d1f6be78d4db0f326">set_coef</a> (const <a class="el" href="classstir_1_1Array.html">Array</a>&lt; num_dimensions, in_elemT &gt; &amp;input)</td></tr>
<tr class="memdesc:acd326394fa6d854d1f6be78d4db0f326"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the coefficients for the B-splines from an array of samples.  <a href="#acd326394fa6d854d1f6be78d4db0f326">More...</a><br/></td></tr>
<tr class="separator:acd326394fa6d854d1f6be78d4db0f326"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab29c6b5155e34616c6e70e977939d443"><td class="memItemLeft" align="right" valign="top">const out_elemT&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1BSpline_1_1BSplinesRegularGrid.html#ab29c6b5155e34616c6e70e977939d443">operator()</a> (const <a class="el" href="classstir_1_1BasicCoordinate.html">BasicCoordinate</a>&lt; num_dimensions, <a class="el" href="group__BSpline.html#ga2217885f19f4ad3f5b969773fc01b752">pos_type</a> &gt; &amp;relative_positions) const </td></tr>
<tr class="memdesc:ab29c6b5155e34616c6e70e977939d443"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute value of the interpolator.  <a href="#ab29c6b5155e34616c6e70e977939d443">More...</a><br/></td></tr>
<tr class="separator:ab29c6b5155e34616c6e70e977939d443"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4574fae2dcaf24483b6c2e495d099305"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classstir_1_1BasicCoordinate.html">BasicCoordinate</a><br class="typebreak"/>
&lt; num_dimensions, out_elemT &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1BSpline_1_1BSplinesRegularGrid.html#a4574fae2dcaf24483b6c2e495d099305">gradient</a> (const <a class="el" href="classstir_1_1BasicCoordinate.html">BasicCoordinate</a>&lt; num_dimensions, <a class="el" href="group__BSpline.html#ga2217885f19f4ad3f5b969773fc01b752">pos_type</a> &gt; &amp;relative_positions) const </td></tr>
<tr class="memdesc:a4574fae2dcaf24483b6c2e495d099305"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute gradient of the interpolator.  <a href="#a4574fae2dcaf24483b6c2e495d099305">More...</a><br/></td></tr>
<tr class="separator:a4574fae2dcaf24483b6c2e495d099305"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;int num_dimensions, typename out_elemT, typename in_elemT = out_elemT, typename constantsT = in_elemT&gt;<br/>
class stir::BSpline::BSplinesRegularGrid&lt; num_dimensions, out_elemT, in_elemT, constantsT &gt;</h3>

<p>A class for n-dimensional <a class="el" href="namespacestir_1_1BSpline.html" title="Namespace for functions and classes for B-Spline interpolation in the STIR library. ">BSpline</a> interpolation when the input samples are on a regular grid. </p>
<p>This class provides essentially an n-dimensional function, so can be used as a function object.</p>
<dl class="section user"><dt>Example</dt><dd><div class="fragment"><div class="line">Array&lt;3,float&gt; some_data = ....;</div>
<div class="line"></div>
<div class="line">BSplinesRegularGrid&lt;3, float&gt; interpolator(cubic);</div>
<div class="line"></div>
<div class="line">interpolator.set_coef(some_data);</div>
<div class="line"></div>
<div class="line">Coordinate3D&lt;double&gt; position(1.2, 3.4, 5.6);</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">float</span> value = interpolator(position);</div>
</div><!-- fragment --> <pre class="fragment">\warning The implementation currently uses mirror boundary conditions. This means you 
can ask for values of the interpolator outside the original grid, but the results
might not be what you expect.</pre> </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a132180ecf206bb3419dca64cc6f35d2a"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int num_dimensions, typename out_elemT, typename in_elemT = out_elemT, typename constantsT = in_elemT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstir_1_1BSpline_1_1BSplinesRegularGrid.html">stir::BSpline::BSplinesRegularGrid</a>&lt; num_dimensions, out_elemT, in_elemT, constantsT &gt;::<a class="el" href="classstir_1_1BSpline_1_1BSplinesRegularGrid.html">BSplinesRegularGrid</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__BSpline.html#gaa4a83dae28c1550670e3fc9482fb2fe1">BSplineType</a> &amp;&#160;</td>
          <td class="paramname"><em>this_type</em> = <code>cubic</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>constructor that only sets the spline type </p>
<p>You need to call <a class="el" href="classstir_1_1BSpline_1_1BSplinesRegularGrid.html#acd326394fa6d854d1f6be78d4db0f326" title="Compute the coefficients for the B-splines from an array of samples. ">set_coef()</a> first before you will get a sensible result. </p>

</div>
</div>
<a class="anchor" id="a3f56ed8c1868518e9b57c1e917d2a365"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int num_dimensions, typename out_elemT, typename in_elemT = out_elemT, typename constantsT = in_elemT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstir_1_1BSpline_1_1BSplinesRegularGrid.html">stir::BSpline::BSplinesRegularGrid</a>&lt; num_dimensions, out_elemT, in_elemT, constantsT &gt;::<a class="el" href="classstir_1_1BSpline_1_1BSplinesRegularGrid.html">BSplinesRegularGrid</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classstir_1_1BasicCoordinate.html">BasicCoordinate</a>&lt; num_dimensions, <a class="el" href="group__BSpline.html#gaa4a83dae28c1550670e3fc9482fb2fe1">BSplineType</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>this_type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>constructor that only sets a different spline type for every dimension </p>
<p>You need to call <a class="el" href="classstir_1_1BSpline_1_1BSplinesRegularGrid.html#acd326394fa6d854d1f6be78d4db0f326" title="Compute the coefficients for the B-splines from an array of samples. ">set_coef()</a> first before you will get a sensible result. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="acd326394fa6d854d1f6be78d4db0f326"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int num_dimensions, typename out_elemT, typename in_elemT = out_elemT, typename constantsT = in_elemT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classstir_1_1BSpline_1_1BSplinesRegularGrid.html">stir::BSpline::BSplinesRegularGrid</a>&lt; num_dimensions, out_elemT, in_elemT, constantsT &gt;::set_coef </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classstir_1_1Array.html">Array</a>&lt; num_dimensions, in_elemT &gt; &amp;&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute the coefficients for the B-splines from an array of samples. </p>
<p>When the order of the spline is larger than 1, the coefficients multiplying the basic splines are not equal to the samples. This variable stores them for further use. </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000068">Todo:</a></b></dt><dd>rename </dd></dl>

</div>
</div>
<a class="anchor" id="ab29c6b5155e34616c6e70e977939d443"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int num_dimensions, typename out_elemT, typename in_elemT = out_elemT, typename constantsT = in_elemT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const out_elemT <a class="el" href="classstir_1_1BSpline_1_1BSplinesRegularGrid.html">stir::BSpline::BSplinesRegularGrid</a>&lt; num_dimensions, out_elemT, in_elemT, constantsT &gt;::operator() </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classstir_1_1BasicCoordinate.html">BasicCoordinate</a>&lt; num_dimensions, <a class="el" href="group__BSpline.html#ga2217885f19f4ad3f5b969773fc01b752">pos_type</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>relative_positions</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute value of the interpolator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">relative_positions</td><td>A coordinate with respect to the original grid coordinates as used by the input array. In particular, if the input array was not 0-based, your <code>relative_positions</code> should not be either. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the interpolated value.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000069">Todo:</a></b></dt><dd>should probably be templated in pos_type. </dd></dl>

</div>
</div>
<a class="anchor" id="a4574fae2dcaf24483b6c2e495d099305"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int num_dimensions, typename out_elemT, typename in_elemT = out_elemT, typename constantsT = in_elemT&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classstir_1_1BasicCoordinate.html">BasicCoordinate</a>&lt;num_dimensions, out_elemT&gt; <a class="el" href="classstir_1_1BSpline_1_1BSplinesRegularGrid.html">stir::BSpline::BSplinesRegularGrid</a>&lt; num_dimensions, out_elemT, in_elemT, constantsT &gt;::gradient </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classstir_1_1BasicCoordinate.html">BasicCoordinate</a>&lt; num_dimensions, <a class="el" href="group__BSpline.html#ga2217885f19f4ad3f5b969773fc01b752">pos_type</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>relative_positions</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute gradient of the interpolator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">relative_positions</td><td>A coordinate with respect to the original grid coordinates as used by the input array. In particular, if the input array was not 0-based, your <code>relative_positions</code> should not be either. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the gradient</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000070">Todo:</a></b></dt><dd>should probably be templated in pos_type. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/stir/numerics/<a class="el" href="BSplinesRegularGrid_8h_source.html">BSplinesRegularGrid.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Apr 26 2014 07:02:12 for STIR by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
