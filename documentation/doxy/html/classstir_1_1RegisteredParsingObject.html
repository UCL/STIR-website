<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STIR: stir::RegisteredParsingObject&lt; Derived, Base, Parent &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">STIR
   &#160;<span id="projectnumber">5.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacestir.html">stir</a></li><li class="navelem"><a class="el" href="classstir_1_1RegisteredParsingObject.html">RegisteredParsingObject</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classstir_1_1RegisteredParsingObject-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">stir::RegisteredParsingObject&lt; Derived, Base, Parent &gt; Class Template Reference<div class="ingroups"><a class="el" href="group__STIR.html">STIR</a> &raquo; <a class="el" href="group__STIR__library.html">STIR library</a> &raquo; <a class="el" href="group__buildblock.html">Basic building blocks</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Parent class for all leaves in a <a class="el" href="classstir_1_1RegisteredObject.html" title="Helper class to provide registry mechanisms to a Base classSuppose you have a hierarchy of classes wi...">RegisteredObject</a> hierarchy that do parsing of parameter files.  
 <a href="classstir_1_1RegisteredParsingObject.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="RegisteredParsingObject_8h_source.html">stir/RegisteredParsingObject.h</a>&quot;</code></p>

<p>Inherits Parent.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstir_1_1RegisteredParsingObject_1_1RegisterIt.html">RegisterIt</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A helper class to allow automatic registration.  <a href="structstir_1_1RegisteredParsingObject_1_1RegisterIt.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a05ad8de71bcd308445ce21e189d3bd7b"><td class="memItemLeft" align="right" valign="top"><a id="a05ad8de71bcd308445ce21e189d3bd7b"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredParsingObject.html#a05ad8de71bcd308445ce21e189d3bd7b">get_registered_name</a> () const</td></tr>
<tr class="memdesc:a05ad8de71bcd308445ce21e189d3bd7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns Derived::registered_name. <br /></td></tr>
<tr class="separator:a05ad8de71bcd308445ce21e189d3bd7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf76fa19f100f1e941e92f6e0abd78ec"><td class="memItemLeft" align="right" valign="top"><a id="abf76fa19f100f1e941e92f6e0abd78ec"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredParsingObject.html#abf76fa19f100f1e941e92f6e0abd78ec">parameter_info</a> ()</td></tr>
<tr class="memdesc:abf76fa19f100f1e941e92f6e0abd78ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a string with all parameters and their values, in a form suitable for parsing again. <br /></td></tr>
<tr class="separator:abf76fa19f100f1e941e92f6e0abd78ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a4efc30dcaf35a1029c6bd099acb3f6a4"><td class="memItemLeft" align="right" valign="top">static Base *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredParsingObject.html#a4efc30dcaf35a1029c6bd099acb3f6a4">read_from_stream</a> (std::istream *)</td></tr>
<tr class="memdesc:a4efc30dcaf35a1029c6bd099acb3f6a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new object (of type Derived) by parsing the istream.  <a href="#a4efc30dcaf35a1029c6bd099acb3f6a4">More...</a><br /></td></tr>
<tr class="separator:a4efc30dcaf35a1029c6bd099acb3f6a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:aba6efb6a03f674fb8834bc8c15a70b86"><td class="memItemLeft" align="right" valign="top"><a id="aba6efb6a03f674fb8834bc8c15a70b86"></a>
struct&#160;</td><td class="memItemRight" valign="bottom"><b>RegisterIt</b></td></tr>
<tr class="separator:aba6efb6a03f674fb8834bc8c15a70b86"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename Derived, typename Base, typename Parent = Base&gt;<br />
class stir::RegisteredParsingObject&lt; Derived, Base, Parent &gt;</h3>

<p>Parent class for all leaves in a <a class="el" href="classstir_1_1RegisteredObject.html" title="Helper class to provide registry mechanisms to a Base classSuppose you have a hierarchy of classes wi...">RegisteredObject</a> hierarchy that do parsing of parameter files. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classstir_1_1RegisteredObject.html" title="Helper class to provide registry mechanisms to a Base classSuppose you have a hierarchy of classes wi...">RegisteredObject</a> for an explanation why you would use this class.</dd></dl>
<p><a class="el" href="classstir_1_1RegisteredParsingObject.html#a4efc30dcaf35a1029c6bd099acb3f6a4" title="Construct a new object (of type Derived) by parsing the istream. ">RegisteredParsingObject::read_from_stream</a> is implemented in terms of ParsingObject::parse.</p>
<p>Requirements on the class <em>Base:</em> </p><ul>
<li>It needs to be derived from RegisteredObject&lt;Base&gt;</li>
</ul>
<p>Requirements on the class <em>Derived:</em> </p><ul>
<li>It needs to have a static member static const char * const <em>registered_name</em> </li>
<li>It needs to have a default constructor</li>
<li>It needs to be derived from <em>RegisteredParsingObject&lt;Derived,Base,Parent&gt;</em> </li>
</ul>
<p>Requirements on the class <em>Parent:</em> </p><ul>
<li>It needs to be derived from <a class="el" href="classstir_1_1ParsingObject.html" title="A base class for objects that want to be able to parse parameter files. ">ParsingObject</a></li>
<li>It needs to be derived from <em>Base</em> </li>
</ul>
<p>Use the 2 parameter form if there is no <a class="el" href="classstir_1_1ParsingObject.html" title="A base class for objects that want to be able to parse parameter files. ">ParsingObject</a> anywhere in the hierarchy yet. However, we recommend to immediately derive <em>Base</em> from <a class="el" href="classstir_1_1ParsingObject.html" title="A base class for objects that want to be able to parse parameter files. ">ParsingObject</a>.</p>
<dl class="section user"><dt>How to add a leaf to the registry at run-time.</dt><dd>Constructing the hierarchy as above makes sure that everything is ready. However, the registry needs to be filled at run-time. This could be done with user selection of the desired leaves (based on their <em>registered_name</em>), or just by entering all leaves in the registry.</dd></dl>
<p>A leaf will be entered in the hierarchy by declaring a variable as follows: </p><div class="fragment"><div class="line">Derived::RegisterIt dummy;</div></div><!-- fragment --><p> As soon as the variable is destructed, the leaf will be taken out of the registry (but see todo). If you want to add it as long as the program runs, use a static variable.</p>
<p>Currently, STIR has static variables in files for each module (for instance, <a class="el" href="buildblock__registries_8cxx.html" title="File that registers all stir::RegisterObject children in buildblock. ">buildblock_registries.cxx</a>). Note that these files have to be linked explicitly into your program, as opposed to sticking it in a library. This is because the linker will think that the variables in that file are never referenced, so would not include it in the final executable (to try to remove redundant object files). </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a4efc30dcaf35a1029c6bd099acb3f6a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4efc30dcaf35a1029c6bd099acb3f6a4">&#9670;&nbsp;</a></span>read_from_stream()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Derived , typename Base , typename Parent &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Base * <a class="el" href="classstir_1_1RegisteredParsingObject.html">stir::RegisteredParsingObject</a>&lt; Derived, Base, Parent &gt;::read_from_stream </td>
          <td>(</td>
          <td class="paramtype">std::istream *&#160;</td>
          <td class="paramname"><em>in</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct a new object (of type Derived) by parsing the istream. </p>
<p>When the istream * is 0, questions are asked interactively.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000161">Todo:</a></b></dt><dd>Currently, the return value is a <em>Base*</em>. Preferably, it should be a <em>Derived*</em>, but it seems the registration machinery would need extra (unsafe) reinterpret_casts to get that to work. (TODO find a remedy). </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/sirfuser/devel/STIRdistrib/STIR/src/include/stir/<a class="el" href="RegisteredParsingObject_8h_source.html">RegisteredParsingObject.h</a></li>
<li>/home/sirfuser/devel/STIRdistrib/STIR/src/include/stir/<a class="el" href="RegisteredParsingObject_8inl.html">RegisteredParsingObject.inl</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Mar 22 2022 20:12:27 for STIR by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
