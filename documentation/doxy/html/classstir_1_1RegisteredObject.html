<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STIR: stir::RegisteredObject&lt; Root &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">STIR
   &#160;<span id="projectnumber">4.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacestir.html">stir</a></li><li class="navelem"><a class="el" href="classstir_1_1RegisteredObject.html">RegisteredObject</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="classstir_1_1RegisteredObject-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">stir::RegisteredObject&lt; Root &gt; Class Template Reference<div class="ingroups"><a class="el" href="group__STIR.html">STIR</a> &raquo; <a class="el" href="group__STIR__library.html">STIR library</a> &raquo; <a class="el" href="group__buildblock.html">Basic building blocks</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Helper class to provide registry mechanisms to a Base classSuppose you have a hierarchy of classes with (nearly) all public functionality provided by virtual functions of the Base class. The aim is then to be able to select <em>at run-time</em> which of the nodes will be used.  
 <a href="classstir_1_1RegisteredObject.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="RegisteredObject_8h_source.html">stir/RegisteredObject.h</a>&quot;</code></p>
<div class="dynheader">
Inheritance diagram for stir::RegisteredObject&lt; Root &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classstir_1_1RegisteredObject__inherit__graph.png" border="0" usemap="#stir_1_1RegisteredObject_3_01Root_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="stir_1_1RegisteredObject_3_01Root_01_4_inherit__map" id="stir_1_1RegisteredObject_3_01Root_01_4_inherit__map">
<area shape="rect" id="node4" href="classstir_1_1DataProcessor.html" title="DataProcessor\&lt; Discretised\lDensity\&lt; 3, elemT \&gt; \&gt;" alt="" coords="921,597,1125,638"/>
<area shape="rect" id="node15" href="classstir_1_1DataProcessor.html" title="DataProcessor\&lt; Discretised\lDensity\&lt; num_dimensions,\l elemT \&gt; \&gt;" alt="" coords="921,1253,1125,1309"/>
<area shape="rect" id="node20" href="classstir_1_1ObjectTransformation.html" title="ObjectTransformation\l\&lt; 3, float \&gt;" alt="" coords="942,1334,1105,1375"/>
<area shape="rect" id="node21" href="classstir_1_1RegisteredObject.html" title="stir::RegisteredObject\l\&lt; ScatterSimulation \&gt;" alt="" coords="939,1399,1107,1441"/>
<area shape="rect" id="node22" href="classstir_1_1RegisteredObject.html" title="stir::RegisteredObject\l\&lt; AbsTimeInterval \&gt;" alt="" coords="942,1465,1105,1506"/>
<area shape="rect" id="node23" href="classstir_1_1RegisteredObject.html" title="stir::RegisteredObject\l\&lt; ProjDataRebinning \&gt;" alt="" coords="937,1530,1109,1571"/>
<area shape="rect" id="node24" href="classstir_1_1RegisteredObject.html" title="stir::RegisteredObject\l\&lt; Reconstruction\&lt; TargetT \&gt; \&gt;" alt="" coords="910,1595,1137,1637"/>
<area shape="rect" id="node25" href="classstir_1_1RegisteredObject.html" title="stir::RegisteredObject\l\&lt; GeneralisedPrior\&lt; Discretised\lDensity\&lt; 3, elemT \&gt; \&gt; \&gt;" alt="" coords="907,1661,1140,1717"/>
<area shape="rect" id="node26" href="classstir_1_1RegisteredObject.html" title="stir::RegisteredObject\l\&lt; ObjectTransformation\l\&lt; num_dimensions, elemT \&gt; \&gt;" alt="" coords="910,1741,1137,1797"/>
<area shape="rect" id="node27" href="classstir_1_1RegisteredObject.html" title="stir::RegisteredObject\l\&lt; OutputFileFormat\&lt; DataT \&gt; \&gt;" alt="" coords="907,1822,1140,1863"/>
<area shape="rect" id="node28" href="classstir_1_1RegisteredObject.html" title="stir::RegisteredObject\l\&lt; GeneralisedPrior\&lt; Discretised\lDensity\&lt; 3, float \&gt; \&gt; \&gt;" alt="" coords="907,1888,1140,1944"/>
<area shape="rect" id="node29" href="classstir_1_1RegisteredObject.html" title="stir::RegisteredObject\l\&lt; BackProjectorByBin \&gt;" alt="" coords="933,1969,1113,2010"/>
<area shape="rect" id="node30" href="classstir_1_1RegisteredObject.html" title="stir::RegisteredObject\l\&lt; DataProcessor\&lt; DataT \&gt; \&gt;" alt="" coords="916,2034,1131,2075"/>
<area shape="rect" id="node31" href="classstir_1_1RegisteredObject.html" title="stir::RegisteredObject\l\&lt; OutputFileFormat\&lt; Parametric\lDiscretisedDensity\&lt; DiscretisedDensity\lT \&gt; \&gt; \&gt;" alt="" coords="882,2099,1165,2170"/>
<area shape="rect" id="node32" href="classstir_1_1RegisteredObject.html" title="stir::RegisteredObject\l\&lt; Reconstruction\&lt; Discretised\lDensity\&lt; 3, float \&gt; \&gt; \&gt;" alt="" coords="913,2195,1134,2251"/>
<area shape="rect" id="node33" href="classstir_1_1RegisteredObject.html" title="stir::RegisteredObject\l\&lt; GeneralisedPrior\&lt; TargetT \&gt; \&gt;" alt="" coords="904,2275,1143,2317"/>
<area shape="rect" id="node34" href="classstir_1_1RegisteredObject.html" title="stir::RegisteredObject\l\&lt; KineticModel \&gt;" alt="" coords="942,2341,1105,2382"/>
<area shape="rect" id="node35" href="classstir_1_1RegisteredObject.html" title="stir::RegisteredObject\l\&lt; Shape3D \&gt;" alt="" coords="942,2406,1105,2447"/>
<area shape="rect" id="node36" href="classstir_1_1RegisteredObject.html" title="stir::RegisteredObject\l\&lt; OutputFileFormat\&lt; DynamicDiscretised\lDensity \&gt; \&gt;" alt="" coords="876,2472,1171,2528"/>
<area shape="rect" id="node37" href="classstir_1_1RegisteredObject.html" title="stir::RegisteredObject\l\&lt; OutputFileFormat\&lt; Parametric\lDiscretisedDensity\&lt; DiscDensityT \&gt; \&gt; \&gt;" alt="" coords="878,2552,1169,2608"/>
<area shape="rect" id="node38" href="classstir_1_1RegisteredObject.html" title="stir::RegisteredObject\l\&lt; GeneralisedObjectiveFunction\l\&lt; TargetT \&gt; \&gt;" alt="" coords="908,2632,1139,2688"/>
<area shape="rect" id="node39" href="classstir_1_1RegisteredObject.html" title="stir::RegisteredObject\l\&lt; BinNormalisation \&gt;" alt="" coords="941,2713,1106,2754"/>
<area shape="rect" id="node40" href="classstir_1_1RegisteredObject.html" title="stir::RegisteredObject\l\&lt; SinglesRates \&gt;" alt="" coords="942,2778,1105,2819"/>
<area shape="rect" id="node41" href="classstir_1_1RegisteredObject.html" title="stir::RegisteredObject\l\&lt; ProjectorByBinPair \&gt;" alt="" coords="937,2843,1109,2885"/>
<area shape="rect" id="node42" href="classstir_1_1RegisteredObject.html" title="stir::RegisteredObject\l\&lt; RigidObject3DMotion \&gt;" alt="" coords="929,2909,1118,2950"/>
<area shape="rect" id="node43" href="classstir_1_1RegisteredObject.html" title="stir::RegisteredObject\l\&lt; ProjMatrixByBin \&gt;" alt="" coords="942,2974,1105,3015"/>
<area shape="rect" id="node44" href="classstir_1_1RegisteredObject.html" title="stir::RegisteredObject\l\&lt; ProjMatrixByDensel \&gt;" alt="" coords="933,3039,1113,3081"/>
<area shape="rect" id="node45" href="classstir_1_1RegisteredObject.html" title="stir::RegisteredObject\l\&lt; OutputFileFormat\&lt; Discretised\lDensity\&lt; 3, float \&gt; \&gt; \&gt;" alt="" coords="905,3105,1142,3161"/>
<area shape="rect" id="node46" href="classstir_1_1RegisteredObject.html" title="stir::RegisteredObject\l\&lt; SpatialTransformation \&gt;" alt="" coords="926,3186,1121,3227"/>
<area shape="rect" id="node47" href="classstir_1_1RegisteredObject.html" title="stir::RegisteredObject\l\&lt; GeneralisedPrior\&lt; DataT \&gt; \&gt;" alt="" coords="909,3251,1138,3293"/>
<area shape="rect" id="node48" href="classstir_1_1RegisteredObject.html" title="stir::RegisteredObject\l\&lt; InputStreamFromROOTFile \&gt;" alt="" coords="912,3317,1135,3358"/>
<area shape="rect" id="node49" href="classstir_1_1RegisteredObject.html" title="stir::RegisteredObject\l\&lt; ForwardProjectorByBin \&gt;" alt="" coords="923,3382,1123,3423"/>
<area shape="rect" id="node2" href="classstir_1_1RegisteredObjectBase.html" title="Base class for all classes that can parse .par files (and more?)The only reason that this class exist..." alt="" coords="195,2316,389,2343"/>
<area shape="rect" id="node3" href="classstir_1_1ParsingObject.html" title="A base class for objects that want to be able to parse parameter files. " alt="" coords="5,2316,145,2343"/>
<area shape="rect" id="node5" href="classstir_1_1RegisteredParsingObject.html" title="stir::RegisteredParsingObject\l\&lt; DAVImageFilter3D\&lt; elemT\l \&gt;, DataProcessor\&lt; DiscretisedDensity\l\&lt; 3, elemT \&gt; \&gt;, DataProcessor\&lt; DiscretisedDensity\l\&lt; 3, elemT \&gt; \&gt; \&gt;" alt="" coords="1228,5,1592,91"/>
<area shape="rect" id="node6" href="classstir_1_1RegisteredParsingObject.html" title="stir::RegisteredParsingObject\l\&lt; MaximalImageFilter3D\&lt; elemT\l \&gt;, DataProcessor\&lt; DiscretisedDensity\l\&lt; 3, elemT \&gt; \&gt;, DataProcessor\&lt; DiscretisedDensity\l\&lt; 3, elemT \&gt; \&gt; \&gt;" alt="" coords="1228,115,1592,200"/>
<area shape="rect" id="node7" href="classstir_1_1RegisteredParsingObject.html" title="stir::RegisteredParsingObject\l\&lt; MedianImageFilter3D\&lt; elemT\l \&gt;, DataProcessor\&lt; DiscretisedDensity\l\&lt; 3, elemT \&gt; \&gt;, DataProcessor\&lt; DiscretisedDensity\l\&lt; 3, elemT \&gt; \&gt; \&gt;" alt="" coords="1228,224,1592,309"/>
<area shape="rect" id="node8" href="classstir_1_1RegisteredParsingObject.html" title="stir::RegisteredParsingObject\l\&lt; MinimalImageFilter3D\&lt; elemT\l \&gt;, DataProcessor\&lt; DiscretisedDensity\l\&lt; 3, elemT \&gt; \&gt;, DataProcessor\&lt; DiscretisedDensity\l\&lt; 3, elemT \&gt; \&gt; \&gt;" alt="" coords="1228,333,1592,419"/>
<area shape="rect" id="node9" href="classstir_1_1RegisteredParsingObject.html" title="stir::RegisteredParsingObject\l\&lt; multiply_plane_scale_factorsImage\lProcessor\&lt; elemT \&gt;, DataProcessor\l\&lt; DiscretisedDensity\&lt; 3, elemT \&gt;\l \&gt;, DataProcessor\&lt; DiscretisedDensity\l\&lt; 3, elemT \&gt; \&gt; \&gt;" alt="" coords="1271,443,1549,543"/>
<area shape="rect" id="node10" href="classstir_1_1RegisteredParsingObject.html" title="stir::RegisteredParsingObject\l\&lt; NonseparableConvolutionUsingReal\lDFTImageFilter\&lt; elemT \&gt;, DataProcessor\l\&lt; DiscretisedDensity\&lt; 3, elemT \&gt; \&gt;,\l DataProcessor\&lt; DiscretisedDensity\&lt;\l 3, elemT \&gt; \&gt; \&gt;" alt="" coords="1263,567,1557,667"/>
<area shape="rect" id="node11" href="classstir_1_1RegisteredParsingObject.html" title="stir::RegisteredParsingObject\l\&lt; SeparableCartesianMetzImageFilter\l\&lt; elemT \&gt;, DataProcessor\&lt; DiscretisedDensity\l\&lt; 3, elemT \&gt; \&gt;, DataProcessor\&lt; DiscretisedDensity\l\&lt; 3, elemT \&gt; \&gt; \&gt;" alt="" coords="1228,692,1592,777"/>
<area shape="rect" id="node12" href="classstir_1_1RegisteredParsingObject.html" title="stir::RegisteredParsingObject\l\&lt; SeparableConvolutionImageFilter\l\&lt; elemT \&gt;, DataProcessor\&lt; DiscretisedDensity\l\&lt; 3, elemT \&gt; \&gt;, DataProcessor\&lt; DiscretisedDensity\l\&lt; 3, elemT \&gt; \&gt; \&gt;" alt="" coords="1228,801,1592,887"/>
<area shape="rect" id="node13" href="classstir_1_1RegisteredParsingObject.html" title="stir::RegisteredParsingObject\l\&lt; Transform3DObjectImageProcessor\l\&lt; elemT \&gt;, DataProcessor\&lt; DiscretisedDensity\l\&lt; 3, elemT \&gt; \&gt;, DataProcessor\&lt; DiscretisedDensity\l\&lt; 3, elemT \&gt; \&gt; \&gt;" alt="" coords="1228,911,1592,996"/>
<area shape="rect" id="node14" href="classstir_1_1RegisteredParsingObject.html" title="stir::RegisteredParsingObject\l\&lt; TruncateToCylindricalFOVImageProcessor\l\&lt; elemT \&gt;, DataProcessor\&lt; DiscretisedDensity\l\&lt; 3, elemT \&gt; \&gt;, DataProcessor\&lt; DiscretisedDensity\l\&lt; 3, elemT \&gt; \&gt; \&gt;" alt="" coords="1228,1020,1592,1105"/>
<area shape="rect" id="node16" href="classstir_1_1RegisteredParsingObject.html" title="stir::RegisteredParsingObject\l\&lt; ModifiedInverseAveragingImageFilter\lAll\&lt; elemT \&gt;, DataProcessor\&lt; DiscretisedDensity\l\&lt; num_dimensions, elemT \&gt; \&gt;, DataProcessor\l\&lt; DiscretisedDensity\&lt; num_dimensions, elemT \&gt; \&gt; \&gt;" alt="" coords="1220,1129,1600,1215"/>
<area shape="rect" id="node17" href="classstir_1_1RegisteredParsingObject.html" title="stir::RegisteredParsingObject\l\&lt; ModifiedInverseAverigingImageFilter\l\&lt; elemT \&gt;, DataProcessor\&lt; DiscretisedDensity\l\&lt; num_dimensions, elemT \&gt; \&gt;, DataProcessor\l\&lt; DiscretisedDensity\&lt; num_dimensions, elemT \&gt; \&gt; \&gt;" alt="" coords="1220,1239,1600,1324"/>
<area shape="rect" id="node18" href="classstir_1_1RegisteredParsingObject.html" title="stir::RegisteredParsingObject\l\&lt; NonseparableSpatiallyVaryingFilters3\lD\&lt; elemT \&gt;, DataProcessor\&lt; DiscretisedDensity\l\&lt; num_dimensions, elemT \&gt; \&gt;, DataProcessor\l\&lt; DiscretisedDensity\&lt; num_dimensions, elemT \&gt; \&gt; \&gt;" alt="" coords="1220,1348,1600,1433"/>
<area shape="rect" id="node19" href="classstir_1_1RegisteredParsingObject.html" title="stir::RegisteredParsingObject\l\&lt; NonseparableSpatiallyVaryingFilters\l\&lt; elemT \&gt;, DataProcessor\&lt; DiscretisedDensity\l\&lt; num_dimensions, elemT \&gt; \&gt;, DataProcessor\l\&lt; DiscretisedDensity\&lt; num_dimensions, elemT \&gt; \&gt; \&gt;" alt="" coords="1220,1457,1600,1543"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aa32357a52b98c87a1c38a162355c874e"><td class="memItemLeft" align="right" valign="top">static Root *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredObject.html#aa32357a52b98c87a1c38a162355c874e">read_registered_object</a> (std::istream *in, const std::string &amp;registered_name)</td></tr>
<tr class="memdesc:aa32357a52b98c87a1c38a162355c874e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new object (of a type derived from Root, its actual type determined by the registered_name parameter) by parsing the istream.  <a href="#aa32357a52b98c87a1c38a162355c874e">More...</a><br /></td></tr>
<tr class="separator:aa32357a52b98c87a1c38a162355c874e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20ba04aadc52e375e5e97961ddb8f5e1"><td class="memItemLeft" align="right" valign="top">static Root *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredObject.html#a20ba04aadc52e375e5e97961ddb8f5e1">ask_type_and_parameters</a> ()</td></tr>
<tr class="memdesc:a20ba04aadc52e375e5e97961ddb8f5e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">ask the user for the type, and then calls read_registered_object(0, type)  <a href="#a20ba04aadc52e375e5e97961ddb8f5e1">More...</a><br /></td></tr>
<tr class="separator:a20ba04aadc52e375e5e97961ddb8f5e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7946572a60fac083300e2baaf650d6b8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredObject.html#a7946572a60fac083300e2baaf650d6b8">list_registered_names</a> (std::ostream &amp;stream)</td></tr>
<tr class="memdesc:a7946572a60fac083300e2baaf650d6b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">List all possible registered names to the stream.  <a href="#a7946572a60fac083300e2baaf650d6b8">More...</a><br /></td></tr>
<tr class="separator:a7946572a60fac083300e2baaf650d6b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr class="memitem:a4497941e1fe3ec79b7a75085d75488fb"><td class="memItemLeft" align="right" valign="top"><a id="a4497941e1fe3ec79b7a75085d75488fb"></a>
typedef Root *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredObject.html#a4497941e1fe3ec79b7a75085d75488fb">RootFactory</a>) (std::istream *)</td></tr>
<tr class="memdesc:a4497941e1fe3ec79b7a75085d75488fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">The type of a root factory is a function, taking an istream* as argument, and returning a Root*. <br /></td></tr>
<tr class="separator:a4497941e1fe3ec79b7a75085d75488fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6dc41fd8a2cb0a5e1118aa32df98711"><td class="memItemLeft" align="right" valign="top"><a id="aa6dc41fd8a2cb0a5e1118aa32df98711"></a>
typedef <a class="el" href="classstir_1_1FactoryRegistry.html">FactoryRegistry</a>&lt; std::string, <a class="el" href="classstir_1_1RegisteredObject.html#a4497941e1fe3ec79b7a75085d75488fb">RootFactory</a>, <a class="el" href="structstir_1_1interfile__less.html">interfile_less</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredObject.html#aa6dc41fd8a2cb0a5e1118aa32df98711">RegistryType</a></td></tr>
<tr class="memdesc:aa6dc41fd8a2cb0a5e1118aa32df98711"><td class="mdescLeft">&#160;</td><td class="mdescRight">The type of the registry. <br /></td></tr>
<tr class="separator:aa6dc41fd8a2cb0a5e1118aa32df98711"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:a480c831d74fb41ff32787a908a07bbd3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classstir_1_1RegisteredObject.html#aa6dc41fd8a2cb0a5e1118aa32df98711">RegistryType</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredObject.html#a480c831d74fb41ff32787a908a07bbd3">registry</a> ()</td></tr>
<tr class="memdesc:a480c831d74fb41ff32787a908a07bbd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Static function returning the registry.  <a href="#a480c831d74fb41ff32787a908a07bbd3">More...</a><br /></td></tr>
<tr class="separator:a480c831d74fb41ff32787a908a07bbd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_methods_classstir_1_1RegisteredObjectBase"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classstir_1_1RegisteredObjectBase')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classstir_1_1RegisteredObjectBase.html">stir::RegisteredObjectBase</a></td></tr>
<tr class="memitem:a9eb7d6e93407316c0780e2121e522ae4 inherit pub_methods_classstir_1_1RegisteredObjectBase"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1RegisteredObjectBase.html#a9eb7d6e93407316c0780e2121e522ae4">get_registered_name</a> () const =0</td></tr>
<tr class="memdesc:a9eb7d6e93407316c0780e2121e522ae4 inherit pub_methods_classstir_1_1RegisteredObjectBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of the type of the object.  <a href="classstir_1_1RegisteredObjectBase.html#a9eb7d6e93407316c0780e2121e522ae4">More...</a><br /></td></tr>
<tr class="separator:a9eb7d6e93407316c0780e2121e522ae4 inherit pub_methods_classstir_1_1RegisteredObjectBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classstir_1_1ParsingObject"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classstir_1_1ParsingObject')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classstir_1_1ParsingObject.html">stir::ParsingObject</a></td></tr>
<tr class="memitem:a15b8a585ba2b09674b823446bf8481bf inherit pub_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="a15b8a585ba2b09674b823446bf8481bf"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ParsingObject</b> (const <a class="el" href="classstir_1_1ParsingObject.html">ParsingObject</a> &amp;)</td></tr>
<tr class="separator:a15b8a585ba2b09674b823446bf8481bf inherit pub_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20920a86db3428de6fd40381ef50aba4 inherit pub_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="a20920a86db3428de6fd40381ef50aba4"></a>
<a class="el" href="classstir_1_1ParsingObject.html">ParsingObject</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classstir_1_1ParsingObject.html">ParsingObject</a> &amp;)</td></tr>
<tr class="separator:a20920a86db3428de6fd40381ef50aba4 inherit pub_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a268a7806a6ad7c78ec43f21582627163 inherit pub_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="a268a7806a6ad7c78ec43f21582627163"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>ask_parameters</b> ()</td></tr>
<tr class="separator:a268a7806a6ad7c78ec43f21582627163 inherit pub_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf7dc9a4725e6e6673b5cf36f8433a0b inherit pub_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="acf7dc9a4725e6e6673b5cf36f8433a0b"></a>
virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><b>parameter_info</b> ()</td></tr>
<tr class="separator:acf7dc9a4725e6e6673b5cf36f8433a0b inherit pub_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8597c63ee9c4e5c927117daf35f2b129 inherit pub_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="a8597c63ee9c4e5c927117daf35f2b129"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>parse</b> (std::istream &amp;f)</td></tr>
<tr class="separator:a8597c63ee9c4e5c927117daf35f2b129 inherit pub_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedc5f10739c1dfb78fecd33c74d7d643 inherit pub_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="aedc5f10739c1dfb78fecd33c74d7d643"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>parse</b> (const char *const filename)</td></tr>
<tr class="separator:aedc5f10739c1dfb78fecd33c74d7d643 inherit pub_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classstir_1_1ParsingObject"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classstir_1_1ParsingObject')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classstir_1_1ParsingObject.html">stir::ParsingObject</a></td></tr>
<tr class="memitem:ad5f86478612a06b86e28adf664afcd74 inherit pro_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="ad5f86478612a06b86e28adf664afcd74"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ParsingObject.html#ad5f86478612a06b86e28adf664afcd74">set_defaults</a> ()</td></tr>
<tr class="memdesc:ad5f86478612a06b86e28adf664afcd74 inherit pro_methods_classstir_1_1ParsingObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set defaults before parsing. <br /></td></tr>
<tr class="separator:ad5f86478612a06b86e28adf664afcd74 inherit pro_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6997d88d93e295e096a7c2eda925d4b6 inherit pro_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="a6997d88d93e295e096a7c2eda925d4b6"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ParsingObject.html#a6997d88d93e295e096a7c2eda925d4b6">initialise_keymap</a> ()</td></tr>
<tr class="memdesc:a6997d88d93e295e096a7c2eda925d4b6 inherit pro_methods_classstir_1_1ParsingObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise all keywords. <br /></td></tr>
<tr class="separator:a6997d88d93e295e096a7c2eda925d4b6 inherit pro_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76911426e945844fe3429191db43af77 inherit pro_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ParsingObject.html#a76911426e945844fe3429191db43af77">post_processing</a> ()</td></tr>
<tr class="memdesc:a76911426e945844fe3429191db43af77 inherit pro_methods_classstir_1_1ParsingObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">This will be called at the end of the parsing.  <a href="classstir_1_1ParsingObject.html#a76911426e945844fe3429191db43af77">More...</a><br /></td></tr>
<tr class="separator:a76911426e945844fe3429191db43af77 inherit pro_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8e81786834c010c96c31bce2bac3f6d inherit pro_methods_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ParsingObject.html#ad8e81786834c010c96c31bce2bac3f6d">set_key_values</a> ()</td></tr>
<tr class="memdesc:ad8e81786834c010c96c31bce2bac3f6d inherit pro_methods_classstir_1_1ParsingObject"><td class="mdescLeft">&#160;</td><td class="mdescRight">This will be called before parsing or parameter_info is called.  <a href="classstir_1_1ParsingObject.html#ad8e81786834c010c96c31bce2bac3f6d">More...</a><br /></td></tr>
<tr class="separator:ad8e81786834c010c96c31bce2bac3f6d inherit pro_methods_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classstir_1_1ParsingObject"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classstir_1_1ParsingObject')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classstir_1_1ParsingObject.html">stir::ParsingObject</a></td></tr>
<tr class="memitem:ac53aef0f7ecd5dbb6204239b14e657f8 inherit pro_attribs_classstir_1_1ParsingObject"><td class="memItemLeft" align="right" valign="top"><a id="ac53aef0f7ecd5dbb6204239b14e657f8"></a>
<a class="el" href="classstir_1_1KeyParser.html">KeyParser</a>&#160;</td><td class="memItemRight" valign="bottom"><b>parser</b></td></tr>
<tr class="separator:ac53aef0f7ecd5dbb6204239b14e657f8 inherit pro_attribs_classstir_1_1ParsingObject"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename Root&gt;<br />
class stir::RegisteredObject&lt; Root &gt;</h3>

<p>Helper class to provide registry mechanisms to a Base class</p>
<p>Suppose you have a hierarchy of classes with (nearly) all public functionality provided by virtual functions of the Base class. The aim is then to be able to select <em>at run-time</em> which of the nodes will be used. </p>
<p>To do this, one needs to enter all node classes in a registry. This registry contains a key and a &quot;Base factory&quot; for every node-class. The factory for the node-class returns (a pointer to) a new node-class object, which of course is also a Base object.</p>
<p>In STIR, <a class="el" href="classstir_1_1FactoryRegistry.html" title="This class can be used to store &#39;factories&#39; and their corresponding keys. It is essentially a map...">FactoryRegistry</a> provides the type for the registry.</p>
<p>In many cases, the factory constructs the new object from a stream. The current class provides the basic mechanisms for this, i.e. a registry, and a function that looks up the relevant factory in the registry and uses it to construct the object from a stream. In addition, there is an interactive function for asking the type and its parameters. This makes only sense if the object construction can be interactive as well (see <a class="el" href="classstir_1_1RegisteredObject.html#a20ba04aadc52e375e5e97961ddb8f5e1" title="ask the user for the type, and then calls read_registered_object(0, type) ">ask_type_and_parameters()</a>).</p>
<p>We currently assume that the construction of the object is done by using <a class="el" href="classstir_1_1ParsingObject.html" title="A base class for objects that want to be able to parse parameter files. ">ParsingObject</a>. Nearly all of the necessary functionality can be provided to the hierarchy by using <a class="el" href="classstir_1_1RegisteredParsingObject.html" title="Parent class for all leaves in a RegisteredObject hierarchy that do parsing of parameter files...">RegisteredParsingObject</a> in the hierarchy. The hierarchy looks normally as follows: </p><div class="fragment"><div class="line">RegisteredObject&lt;Base&gt;</div><div class="line">Base</div><div class="line">...</div><div class="line">Parent</div><div class="line">RegisteredParsingObject&lt;Derived,Base,Parent&gt;</div><div class="line">Derived</div></div><!-- fragment --><p>When there is no intermediate class in hierarchy, this is simplified to: </p><div class="fragment"><div class="line">RegisteredObject&lt;Base&gt;</div><div class="line">Base</div><div class="line">RegisteredParsingObject&lt;Derived,Base,Base&gt;</div><div class="line">Derived</div></div><!-- fragment --><p> Aside from the fact that this is simpler, it also is more future proof. Suppose that at some point you want to add parsing keys that are common to the whole hierarchy. The best/only place to do this is to add them to the <em>Base</em> class. But this can only be done if <em>Base</em> is derived from <a class="el" href="classstir_1_1ParsingObject.html" title="A base class for objects that want to be able to parse parameter files. ">ParsingObject</a>, and hence there is can be no other <a class="el" href="classstir_1_1ParsingObject.html" title="A base class for objects that want to be able to parse parameter files. ">ParsingObject</a> in the hierarchy. So, the recommended variation will need no change at all, while the general version would need change to all nodes.</p>
<p>As a final note, <a class="el" href="classstir_1_1RegisteredObject.html" title="Helper class to provide registry mechanisms to a Base classSuppose you have a hierarchy of classes wi...">RegisteredObject</a> could also be used for hierarchies that do not use <a class="el" href="classstir_1_1ParsingObject.html" title="A base class for objects that want to be able to parse parameter files. ">ParsingObject</a>.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classstir_1_1RegisteredParsingObject.html" title="Parent class for all leaves in a RegisteredObject hierarchy that do parsing of parameter files...">RegisteredParsingObject</a></dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000150">Todo:</a></b></dt><dd>Currently there is a hard-wired value of &quot;None&quot; for the default key (with a 0 factory). This is inappropriate in some cases.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>Visual C++ cannot inline the <a class="el" href="classstir_1_1RegisteredObject.html#a480c831d74fb41ff32787a908a07bbd3" title="Static function returning the registry. ">registry()</a> function. As a result, all possible instantiations of the <a class="el" href="classstir_1_1RegisteredObject.html" title="Helper class to provide registry mechanisms to a Base classSuppose you have a hierarchy of classes wi...">RegisteredObject</a> template have to be defined in RegisteredObject.cxx file(s). You will have link errors if you forgot to do this. </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="aa32357a52b98c87a1c38a162355c874e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa32357a52b98c87a1c38a162355c874e">&#9670;&nbsp;</a></span>read_registered_object()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Root &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Root * <a class="el" href="classstir_1_1RegisteredObject.html">stir::RegisteredObject</a>&lt; Root &gt;::read_registered_object </td>
          <td>(</td>
          <td class="paramtype">std::istream *&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>registered_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct a new object (of a type derived from Root, its actual type determined by the registered_name parameter) by parsing the istream. </p>
<p>This works by finding the 'root factory' object in a registry that corresponds to <em>registered_name</em>, and calling the factory on this istream*. </p>

</div>
</div>
<a id="a20ba04aadc52e375e5e97961ddb8f5e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20ba04aadc52e375e5e97961ddb8f5e1">&#9670;&nbsp;</a></span>ask_type_and_parameters()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Root &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Root * <a class="el" href="classstir_1_1RegisteredObject.html">stir::RegisteredObject</a>&lt; Root &gt;::ask_type_and_parameters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ask the user for the type, and then calls read_registered_object(0, type) </p>
<dl class="section warning"><dt>Warning</dt><dd>Relies on read_registered_object to be interactive when its first argument is 0.</dd></dl>
<p>Sadly, this function cannot be called ask_parameters() because of conflicts with ParsingObject::ask_parameters() in the derived classes. </p>

</div>
</div>
<a id="a7946572a60fac083300e2baaf650d6b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7946572a60fac083300e2baaf650d6b8">&#9670;&nbsp;</a></span>list_registered_names()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Root &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classstir_1_1RegisteredObject.html">stir::RegisteredObject</a>&lt; Root &gt;::list_registered_names </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>List all possible registered names to the stream. </p>
<p>Names are separated with newlines. </p>

</div>
</div>
<a id="a480c831d74fb41ff32787a908a07bbd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a480c831d74fb41ff32787a908a07bbd3">&#9670;&nbsp;</a></span>registry()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Root &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstir_1_1RegisteredObject.html">RegisteredObject</a>&lt; Root &gt;::<a class="el" href="classstir_1_1RegisteredObject.html#aa6dc41fd8a2cb0a5e1118aa32df98711">RegistryType</a> &amp; <a class="el" href="classstir_1_1RegisteredObject.html">stir::RegisteredObject</a>&lt; Root &gt;::registry </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Static function returning the registry. </p>
<dl class="section warning"><dt>Warning</dt><dd>This function is non inline when using Visual C++ 6.0 because of a compiler limitation. This means that when using this compiler, <a class="el" href="classstir_1_1RegisteredObject.html" title="Helper class to provide registry mechanisms to a Base classSuppose you have a hierarchy of classes wi...">RegisteredObject</a> will need explicit instantiations for all derived classes. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/sirfuser/devel/STIRdistrib/STIR/src/include/stir/<a class="el" href="RegisteredObject_8h_source.html">RegisteredObject.h</a></li>
<li>/home/sirfuser/devel/STIRdistrib/STIR/src/include/stir/<a class="el" href="RegisteredObject_8inl.html">RegisteredObject.inl</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun May 2 2021 10:00:40 for STIR by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
