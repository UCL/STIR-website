<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STIR: stir::ListModeData Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">STIR
   &#160;<span id="projectnumber">6.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacestir.html">stir</a></li><li class="navelem"><a class="el" href="classstir_1_1ListModeData.html">ListModeData</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classstir_1_1ListModeData-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">stir::ListModeData Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span><div class="ingroups"><a class="el" href="group__STIR.html">STIR</a> &raquo; <a class="el" href="group__STIR__library.html">STIR library</a> &raquo; <a class="el" href="group__listmode.html">Support classes for reading list mode data</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>The base class for reading list mode data.  
 <a href="classstir_1_1ListModeData.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="ListModeData_8h_source.html">stir/listmode/ListModeData.h</a>&quot;</code></p>
<div class="dynheader">
Inheritance diagram for stir::ListModeData:</div>
<div class="dyncontent">
<div class="center"><img src="classstir_1_1ListModeData__inherit__graph.png" border="0" usemap="#stir_1_1ListModeData_inherit__map" alt="Inheritance graph"/></div>
<map name="stir_1_1ListModeData_inherit__map" id="stir_1_1ListModeData_inherit__map">
<area shape="rect" id="node3" href="classstir_1_1CListModeData.html" title="The base class for reading PET (i.e. coincidence) list mode data.The only difference w..." alt="" coords="359,165,498,192"/>
<area shape="rect" id="node11" href="classstir_1_1ListModeData__dummy.html" title="A class to trick the Objective function that we have list mode data, when we only have cache..." alt="" coords="364,217,493,258"/>
<area shape="rect" id="node12" href="classstir_1_1SPECTListModeData.html" title="The base class for reading SPECT list mode data.This class (and SPECTListRecord) is specific to SPECT..." alt="" coords="341,283,516,309"/>
<area shape="rect" id="node2" href="classstir_1_1ExamData.html" title="base class for data objects such as ProjData etcProvides an ExamInfo member. " alt="" coords="5,224,116,251"/>
<area shape="rect" id="node4" href="classstir_1_1CListModeDataLMF.html" title="A class that reads the listmode data from an LMF file. " alt="" coords="609,5,774,32"/>
<area shape="rect" id="node5" href="classstir_1_1CListModeDataPENN.html" title="Base class for listmode data for PENNPET Explorer scanner. " alt="" coords="603,56,780,83"/>
<area shape="rect" id="node6" href="classstir_1_1CListModeDataROOT.html" title="class that reads ROOT files, generated by GATE, as listmode data. " alt="" coords="603,107,780,133"/>
<area shape="rect" id="node7" href="classstir_1_1CListModeDataSAFIR.html" title="Class for reading SAFIR listmode data with variable geometry. " alt="" coords="602,158,781,199"/>
<area shape="rect" id="node8" href="classstir_1_1ecat_1_1CListModeDataECAT8__32bit.html" title="A class that reads the listmode data for Siemens scanners. " alt="" coords="605,223,777,265"/>
<area shape="rect" id="node9" href="classstir_1_1ecat_1_1ecat7_1_1CListModeDataECAT.html" title="A class that reads the listmode data for ECAT scanners. " alt="" coords="564,289,819,330"/>
<area shape="rect" id="node10" href="classstir_1_1GE_1_1RDF__HDF5_1_1CListModeDataGEHDF5.html" title="A class that reads the listmode data for GE scanners using the RDF9 format. " alt="" coords="604,354,779,395"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a16068053cfbd1a188d7d7d3eadd72a0b"><td class="memItemLeft" align="right" valign="top"><a id="a16068053cfbd1a188d7d7d3eadd72a0b"></a>
typedef <a class="el" href="classstir_1_1ListModeData.html">ListModeData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ListModeData.html#a16068053cfbd1a188d7d7d3eadd72a0b">hierarchy_base_type</a></td></tr>
<tr class="memdesc:a16068053cfbd1a188d7d7d3eadd72a0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">typedef used by read_from_file <br /></td></tr>
<tr class="separator:a16068053cfbd1a188d7d7d3eadd72a0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51893647e70d643932778121c68c7c67"><td class="memItemLeft" align="right" valign="top"><a id="a51893647e70d643932778121c68c7c67"></a>
typedef unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ListModeData.html#a51893647e70d643932778121c68c7c67">SavedPosition</a></td></tr>
<tr class="memdesc:a51893647e70d643932778121c68c7c67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use this typedef for save/set_get_position. <br /></td></tr>
<tr class="separator:a51893647e70d643932778121c68c7c67"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab8afc74c6711a2737fc861774dc3de33"><td class="memItemLeft" align="right" valign="top"><a id="ab8afc74c6711a2737fc861774dc3de33"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ListModeData.html#ab8afc74c6711a2737fc861774dc3de33">ListModeData</a> ()</td></tr>
<tr class="memdesc:ab8afc74c6711a2737fc861774dc3de33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor. <br /></td></tr>
<tr class="separator:ab8afc74c6711a2737fc861774dc3de33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bf8b22663fdd55c06d7a23ffd348fc3"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ListModeData.html#a7bf8b22663fdd55c06d7a23ffd348fc3">get_name</a> () const =0</td></tr>
<tr class="memdesc:a7bf8b22663fdd55c06d7a23ffd348fc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the name of the list mode data.  <a href="#a7bf8b22663fdd55c06d7a23ffd348fc3">More...</a><br /></td></tr>
<tr class="separator:a7bf8b22663fdd55c06d7a23ffd348fc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed2037a03c08a8f9607326985e4da7f4"><td class="memItemLeft" align="right" valign="top">shared_ptr&lt; <a class="el" href="classstir_1_1ListRecord.html">ListRecord</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ListModeData.html#aed2037a03c08a8f9607326985e4da7f4">get_empty_record_sptr</a> () const</td></tr>
<tr class="memdesc:aed2037a03c08a8f9607326985e4da7f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to an empty record.  <a href="#aed2037a03c08a8f9607326985e4da7f4">More...</a><br /></td></tr>
<tr class="separator:aed2037a03c08a8f9607326985e4da7f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92b09ee7866da5bfa4964fe2d118132f"><td class="memItemLeft" align="right" valign="top"><a id="a92b09ee7866da5bfa4964fe2d118132f"></a>
virtual <a class="el" href="classstir_1_1Succeeded.html">Succeeded</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ListModeData.html#a92b09ee7866da5bfa4964fe2d118132f">get_next_record</a> (<a class="el" href="classstir_1_1ListRecord.html">ListRecord</a> &amp;event) const</td></tr>
<tr class="memdesc:a92b09ee7866da5bfa4964fe2d118132f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the next record in the listmode sequence. <br /></td></tr>
<tr class="separator:a92b09ee7866da5bfa4964fe2d118132f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae816f04f055d814adfd9e4df462c707"><td class="memItemLeft" align="right" valign="top"><a id="aae816f04f055d814adfd9e4df462c707"></a>
virtual <a class="el" href="classstir_1_1Succeeded.html">Succeeded</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ListModeData.html#aae816f04f055d814adfd9e4df462c707">reset</a> ()=0</td></tr>
<tr class="memdesc:aae816f04f055d814adfd9e4df462c707"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call this function if you want to re-start reading at the beginning. <br /></td></tr>
<tr class="separator:aae816f04f055d814adfd9e4df462c707"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a521b628dfecaa18368b631ad453e1d"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classstir_1_1ListModeData.html#a51893647e70d643932778121c68c7c67">SavedPosition</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ListModeData.html#a5a521b628dfecaa18368b631ad453e1d">save_get_position</a> ()=0</td></tr>
<tr class="memdesc:a5a521b628dfecaa18368b631ad453e1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save the current reading position.  <a href="#a5a521b628dfecaa18368b631ad453e1d">More...</a><br /></td></tr>
<tr class="separator:a5a521b628dfecaa18368b631ad453e1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45957d9977897c212481e222f3f304bd"><td class="memItemLeft" align="right" valign="top"><a id="a45957d9977897c212481e222f3f304bd"></a>
virtual <a class="el" href="classstir_1_1Succeeded.html">Succeeded</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ListModeData.html#a45957d9977897c212481e222f3f304bd">set_get_position</a> (const <a class="el" href="classstir_1_1ListModeData.html#a51893647e70d643932778121c68c7c67">SavedPosition</a> &amp;)=0</td></tr>
<tr class="memdesc:a45957d9977897c212481e222f3f304bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the position for reading to a previously saved point. <br /></td></tr>
<tr class="separator:a45957d9977897c212481e222f3f304bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34479a772d959b5076e13d8b2ce48548"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classstir_1_1Scanner.html">Scanner</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ListModeData.html#a34479a772d959b5076e13d8b2ce48548">get_scanner</a> () const</td></tr>
<tr class="memdesc:a34479a772d959b5076e13d8b2ce48548"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get reference to scanner.  <a href="#a34479a772d959b5076e13d8b2ce48548">More...</a><br /></td></tr>
<tr class="separator:a34479a772d959b5076e13d8b2ce48548"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a573d2d7241b7a546700bf78e65877a19"><td class="memItemLeft" align="right" valign="top"><a id="a573d2d7241b7a546700bf78e65877a19"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ListModeData.html#a573d2d7241b7a546700bf78e65877a19">has_delayeds</a> () const =0</td></tr>
<tr class="memdesc:a573d2d7241b7a546700bf78e65877a19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return if the file stores delayed events as well (as opposed to prompts) <br /></td></tr>
<tr class="separator:a573d2d7241b7a546700bf78e65877a19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cf6b87145336be3c563401063e1cbd6"><td class="memItemLeft" align="right" valign="top">virtual unsigned long int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ListModeData.html#a9cf6b87145336be3c563401063e1cbd6">get_total_number_of_events</a> () const</td></tr>
<tr class="memdesc:a9cf6b87145336be3c563401063e1cbd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total number of events in the listmode file.  <a href="#a9cf6b87145336be3c563401063e1cbd6">More...</a><br /></td></tr>
<tr class="separator:a9cf6b87145336be3c563401063e1cbd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3539845efc3d96303063f2f493fd692e"><td class="memItemLeft" align="right" valign="top"><a id="a3539845efc3d96303063f2f493fd692e"></a>
virtual shared_ptr&lt; const <a class="el" href="classstir_1_1ProjDataInfo.html">ProjDataInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>get_proj_data_info_sptr</b> () const</td></tr>
<tr class="separator:a3539845efc3d96303063f2f493fd692e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classstir_1_1ExamData"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classstir_1_1ExamData')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classstir_1_1ExamData.html">stir::ExamData</a></td></tr>
<tr class="memitem:a361e3590d91c93142fe4a45025bc92e3 inherit pub_methods_classstir_1_1ExamData"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ExamData.html#a361e3590d91c93142fe4a45025bc92e3">ExamData</a> ()</td></tr>
<tr class="memdesc:a361e3590d91c93142fe4a45025bc92e3 inherit pub_methods_classstir_1_1ExamData"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classstir_1_1ExamData.html" title="base class for data objects such as ProjData etcProvides an ExamInfo member. ">ExamData</a>.  <a href="classstir_1_1ExamData.html#a361e3590d91c93142fe4a45025bc92e3">More...</a><br /></td></tr>
<tr class="separator:a361e3590d91c93142fe4a45025bc92e3 inherit pub_methods_classstir_1_1ExamData"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d01d1a7050584183712716c6590650d inherit pub_methods_classstir_1_1ExamData"><td class="memItemLeft" align="right" valign="top"><a id="a4d01d1a7050584183712716c6590650d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ExamData</b> (const shared_ptr&lt; const <a class="el" href="classstir_1_1ExamInfo.html">ExamInfo</a> &gt; &amp;_this_exam)</td></tr>
<tr class="separator:a4d01d1a7050584183712716c6590650d inherit pub_methods_classstir_1_1ExamData"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fd5daac0ac93648836522e0a41d4461 inherit pub_methods_classstir_1_1ExamData"><td class="memItemLeft" align="right" valign="top"><a id="a4fd5daac0ac93648836522e0a41d4461"></a>
virtual const <a class="el" href="classstir_1_1ExamInfo.html">ExamInfo</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>get_exam_info</b> () const</td></tr>
<tr class="separator:a4fd5daac0ac93648836522e0a41d4461 inherit pub_methods_classstir_1_1ExamData"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad79c2d7818f982ac85b2e94ceba830c5 inherit pub_methods_classstir_1_1ExamData"><td class="memItemLeft" align="right" valign="top"><a id="ad79c2d7818f982ac85b2e94ceba830c5"></a>
virtual shared_ptr&lt; const <a class="el" href="classstir_1_1ExamInfo.html">ExamInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ExamData.html#ad79c2d7818f982ac85b2e94ceba830c5">get_exam_info_sptr</a> () const</td></tr>
<tr class="memdesc:ad79c2d7818f982ac85b2e94ceba830c5 inherit pub_methods_classstir_1_1ExamData"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get shared pointer to exam info. <br /></td></tr>
<tr class="separator:ad79c2d7818f982ac85b2e94ceba830c5 inherit pub_methods_classstir_1_1ExamData"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1a74a047cf4164f76f4ec2f1a49d0a9 inherit pub_methods_classstir_1_1ExamData"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ExamData.html#ab1a74a047cf4164f76f4ec2f1a49d0a9">set_exam_info</a> (<a class="el" href="classstir_1_1ExamInfo.html">ExamInfo</a> const &amp;)</td></tr>
<tr class="memdesc:ab1a74a047cf4164f76f4ec2f1a49d0a9 inherit pub_methods_classstir_1_1ExamData"><td class="mdescLeft">&#160;</td><td class="mdescRight">change exam info  <a href="classstir_1_1ExamData.html#ab1a74a047cf4164f76f4ec2f1a49d0a9">More...</a><br /></td></tr>
<tr class="separator:ab1a74a047cf4164f76f4ec2f1a49d0a9 inherit pub_methods_classstir_1_1ExamData"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a051771db16aa4cf1a166268e38fc0214 inherit pub_methods_classstir_1_1ExamData"><td class="memItemLeft" align="right" valign="top"><a id="a051771db16aa4cf1a166268e38fc0214"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>set_exam_info_sptr</b> (shared_ptr&lt; const <a class="el" href="classstir_1_1ExamInfo.html">ExamInfo</a> &gt; new_exam_info_sptr)</td></tr>
<tr class="separator:a051771db16aa4cf1a166268e38fc0214 inherit pub_methods_classstir_1_1ExamData"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aa0f4278ba6699a2f1e6531fe20d8c5e6"><td class="memItemLeft" align="right" valign="top"><a id="aa0f4278ba6699a2f1e6531fe20d8c5e6"></a>
virtual shared_ptr&lt; <a class="el" href="classstir_1_1ListRecord.html">ListRecord</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>get_empty_record_helper_sptr</b> () const =0</td></tr>
<tr class="separator:aa0f4278ba6699a2f1e6531fe20d8c5e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1796dd6d397a20ea6b21e6bcb3510604"><td class="memItemLeft" align="right" valign="top"><a id="a1796dd6d397a20ea6b21e6bcb3510604"></a>
virtual <a class="el" href="classstir_1_1Succeeded.html">Succeeded</a>&#160;</td><td class="memItemRight" valign="bottom"><b>get_next</b> (<a class="el" href="classstir_1_1ListRecord.html">ListRecord</a> &amp;event) const =0</td></tr>
<tr class="separator:a1796dd6d397a20ea6b21e6bcb3510604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a976c01086a0da148a9a035405d0fbd19"><td class="memItemLeft" align="right" valign="top"><a id="a976c01086a0da148a9a035405d0fbd19"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>set_proj_data_info_sptr</b> (shared_ptr&lt; const <a class="el" href="classstir_1_1ProjDataInfo.html">ProjDataInfo</a> &gt;)</td></tr>
<tr class="separator:a976c01086a0da148a9a035405d0fbd19"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:acee37d4d167bbe3bf4f1fc78947f3ad9"><td class="memItemLeft" align="right" valign="top">shared_ptr&lt; const <a class="el" href="classstir_1_1ProjDataInfo.html">ProjDataInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1ListModeData.html#acee37d4d167bbe3bf4f1fc78947f3ad9">proj_data_info_sptr</a></td></tr>
<tr class="memdesc:acee37d4d167bbe3bf4f1fc78947f3ad9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Has to be set by the derived class.  <a href="#acee37d4d167bbe3bf4f1fc78947f3ad9">More...</a><br /></td></tr>
<tr class="separator:acee37d4d167bbe3bf4f1fc78947f3ad9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classstir_1_1ExamData"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classstir_1_1ExamData')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classstir_1_1ExamData.html">stir::ExamData</a></td></tr>
<tr class="memitem:acdfba46635e65118247f05146f562bfd inherit pro_attribs_classstir_1_1ExamData"><td class="memItemLeft" align="right" valign="top"><a id="acdfba46635e65118247f05146f562bfd"></a>
shared_ptr&lt; const <a class="el" href="classstir_1_1ExamInfo.html">ExamInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>exam_info_sptr</b></td></tr>
<tr class="separator:acdfba46635e65118247f05146f562bfd inherit pro_attribs_classstir_1_1ExamData"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The base class for reading list mode data. </p>
<dl class="section user"><dt>What is list mode data?</dt><dd></dd></dl>
<p>List mode data is a format for storing detected counts as a list, as opposed to a histogram. For each count, a list mode event contains all the properties that the scanner can give you. Hence, the list mode data gives you all the information about your acquisition that you can possibly get. Which information this is obviously depends on the scanner.</p>
<p>For most (all?) scanners, events are stored in chronological order. In addition to events, time flags are inserted into the list mode data. So, generally list mode data is a list of 'records', which can be of different types. In STIR, this concept of a 'record' corresponds to the <a class="el" href="classstir_1_1ListRecord.html" title="A class for a general element of a list mode file. ">ListRecord</a> class and its relatives (see the documentation for <a class="el" href="classstir_1_1ListRecord.html" title="A class for a general element of a list mode file. ">ListRecord</a>).</p>
<dl class="section user"><dt>Usage</dt><dd></dd></dl>
<p>For most applications, i.e. when one just wants to go through the list of all events, the code would be as follows:</p>
<div class="fragment"><div class="line">shared_ptr&lt;ListModeData&gt;</div><div class="line">  lm_data_sptr(read_from_file&lt;ListModeData&gt;(filename));</div><div class="line"></div><div class="line"><span class="comment">// get a pointer to a &#39;template&#39; record that will work for the scanner</span></div><div class="line"><span class="comment">// from which we&#39;re reading data</span></div><div class="line">shared_ptr &lt;ListRecord&gt; record_sptr =</div><div class="line">  lm_data_ptr-&gt;get_empty_record_sptr();</div><div class="line"><span class="comment">// give the record a simple name to avoid cluttering the code below</span></div><div class="line">ListRecord&amp; record = *record_sptr;</div><div class="line"></div><div class="line"><span class="keywordtype">double</span> current_time = 0;</div><div class="line"><span class="keywordflow">while</span> (lm_data_sptr-&gt;get_next_record(record) == Succeeded::yes)</div><div class="line">  {</div><div class="line">    <span class="keywordflow">if</span> (record.is_time())</div><div class="line">    {</div><div class="line">  current_time= record.time().get_time_in_secs();</div><div class="line">    }</div><div class="line">    <span class="keywordflow">if</span> (record.is_event())</div><div class="line">    {</div><div class="line">      <span class="keywordflow">if</span> (record.event().is_prompt())</div><div class="line">  { <span class="comment">// do something</span></div><div class="line">      }</div><div class="line">      <span class="comment">// ...</span></div><div class="line">    }</div><div class="line">  }</div></div><!-- fragment --><p>In addition, there is a facility to 'remember' positions in the list, and go back to one of these positions. This could be useful to mark time frames. This goes as follows.</p>
<div class="fragment"><div class="line"><span class="comment">// somehow I found out this is the start of the frame, so save it</span></div><div class="line"><a class="code" href="classstir_1_1ListModeData.html#a51893647e70d643932778121c68c7c67">ListModeData::SavedPosition</a> start_of_this_frame =</div><div class="line">   lm_data_sptr-&gt;save_get_position();</div><div class="line"></div><div class="line"><span class="comment">// now do something with this frame</span></div><div class="line"></div><div class="line"><span class="comment">// now get back to the start of the frame</span></div><div class="line"><span class="keywordflow">if</span> ( lm_data_sptr-&gt;set_get_position(start_of_this_frame)</div><div class="line">   != Succeeded::yes)</div><div class="line">  <a class="code" href="group__buildblock.html#ga19b3ad285f04d613640a497f868b385f">error</a>(<span class="stringliteral">&quot;Help!&quot;</span>);</div></div><!-- fragment --><p>Currently, this class (and <a class="el" href="classstir_1_1ListRecord.html" title="A class for a general element of a list mode file. ">ListRecord</a>) is generic for emission modalities such as PET and SPECT.</p>
<dl class="section user"><dt>Notes for developers</dt><dd></dd></dl>
<p>If you want to add a new type of list mode data, you have to make corresponding derived classes of <a class="el" href="classstir_1_1ListModeData.html" title="The base class for reading list mode data. ">ListModeData</a>, <a class="el" href="classstir_1_1ListRecord.html" title="A class for a general element of a list mode file. ">ListRecord</a> etc. You also have to modify make sure that read_from_file&lt;ListModeData&gt; recognises your data. This normally involves creating a new <a class="el" href="classstir_1_1InputFileFormat.html" title="Base-class for file-formats for reading. ">InputFileFormat</a> class. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a7bf8b22663fdd55c06d7a23ffd348fc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bf8b22663fdd55c06d7a23ffd348fc3">&#9670;&nbsp;</a></span>get_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::string stir::ListModeData::get_name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the name of the list mode data. </p>
<p>This name is not necessarily unique, and might be empty. However, it is expected (but not guaranteed) that <code>ListModeData::read_from_file(lm_data_ptr-&gt;<a class="el" href="classstir_1_1ListModeData.html#a7bf8b22663fdd55c06d7a23ffd348fc3" title="Returns the name of the list mode data. ">get_name()</a>)</code> would read the same list mode data.</p>
<p>The reason this cannot be guaranteed is largely in case the list mode data is not really on disk, but the object corresponds for instance to a Monte Carlo simulator. </p>

<p>Implemented in <a class="el" href="classstir_1_1CListModeDataROOT.html#a4a507769a8a9164b2037d2293b6516a9">stir::CListModeDataROOT</a>, <a class="el" href="classstir_1_1CListModeDataSAFIR.html#ae3f9f04047b681e8471178017d466f27">stir::CListModeDataSAFIR&lt; CListRecordT &gt;</a>, <a class="el" href="classstir_1_1ecat_1_1ecat7_1_1CListModeDataECAT.html#ac2ee2b87c8889238f881527aa0dd4c9a">stir::ecat::ecat7::CListModeDataECAT&lt; CListRecordT &gt;</a>, <a class="el" href="classstir_1_1ListModeData__dummy.html#a286269bbf1b66de773089793c12dcfac">stir::ListModeData_dummy</a>, <a class="el" href="classstir_1_1ecat_1_1CListModeDataECAT8__32bit.html#ad11a5601ff92ecccafa15c860db77401">stir::ecat::CListModeDataECAT8_32bit</a>, <a class="el" href="classstir_1_1GE_1_1RDF__HDF5_1_1CListModeDataGEHDF5.html#adbb3e9886294b51d781756827f83ddbf">stir::GE::RDF_HDF5::CListModeDataGEHDF5</a>, and <a class="el" href="classstir_1_1CListModeDataPENN.html#a6230367cf0246cc84bb34d78a496eb0a">stir::CListModeDataPENN</a>.</p>

</div>
</div>
<a id="aed2037a03c08a8f9607326985e4da7f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed2037a03c08a8f9607326985e4da7f4">&#9670;&nbsp;</a></span>get_empty_record_sptr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">shared_ptr&lt;<a class="el" href="classstir_1_1ListRecord.html">ListRecord</a>&gt; stir::ListModeData::get_empty_record_sptr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a pointer to an empty record. </p>
<dl class="section warning"><dt>Warning</dt><dd>Use with care. If you modify the object pointer to by a shared ptr, all objects using the same shared pointer will be affected.</dd></dl>
<p>This is mainly/only useful to get a record of the correct type, that can then be passed to <a class="el" href="classstir_1_1ListModeData.html#a92b09ee7866da5bfa4964fe2d118132f" title="Gets the next record in the listmode sequence. ">get_next_record()</a>. </p>

</div>
</div>
<a id="a5a521b628dfecaa18368b631ad453e1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a521b628dfecaa18368b631ad453e1d">&#9670;&nbsp;</a></span>save_get_position()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classstir_1_1ListModeData.html#a51893647e70d643932778121c68c7c67">SavedPosition</a> stir::ListModeData::save_get_position </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Save the current reading position. </p>
<p>Note that the return value is not related to the number of events already read. In particular, you cannot do any arithmetic on it to skip a few events. This is different from e.g. std::streampos.</p>
<dl class="section warning"><dt>Warning</dt><dd>There is a maximum number of times this function can be called. This is determined by the SavedPosition type. Once you save more positions, the first positions will be overwritten. There is currently no way of finding out after how many times this will happen (but it's a large number...).</dd>
<dd>
These saved positions are only valid for the lifetime of the <a class="el" href="classstir_1_1ListModeData.html" title="The base class for reading list mode data. ">ListModeData</a> object.</dd>
<dd>
A derived class might disable this facility. It will/should then always return Succeeded::no when calling <a class="el" href="classstir_1_1ListModeData.html#a45957d9977897c212481e222f3f304bd" title="Set the position for reading to a previously saved point. ">set_get_position()</a>. </dd></dl>

<p>Implemented in <a class="el" href="classstir_1_1CListModeDataROOT.html#ae5275bd3411dd4f7f4b8f1f794cbbb12">stir::CListModeDataROOT</a>, <a class="el" href="classstir_1_1CListModeDataSAFIR.html#a2f8cc64d0cf840b0396e1c9a6fd6ae9d">stir::CListModeDataSAFIR&lt; CListRecordT &gt;</a>, <a class="el" href="classstir_1_1ecat_1_1ecat7_1_1CListModeDataECAT.html#a5fc40c3b3ed60aca566d032c44cd0e37">stir::ecat::ecat7::CListModeDataECAT&lt; CListRecordT &gt;</a>, <a class="el" href="classstir_1_1ListModeData__dummy.html#a329b8df6f5d8b8fc4342c0da9c71531a">stir::ListModeData_dummy</a>, <a class="el" href="classstir_1_1ecat_1_1CListModeDataECAT8__32bit.html#a5b3c18689138957f69cb462212488741">stir::ecat::CListModeDataECAT8_32bit</a>, <a class="el" href="classstir_1_1GE_1_1RDF__HDF5_1_1CListModeDataGEHDF5.html#acfdf291f2c8b1d3f379920bfbcaced48">stir::GE::RDF_HDF5::CListModeDataGEHDF5</a>, <a class="el" href="classstir_1_1CListModeDataLMF.html#a1a63150ace4ae2565f7aa12931ad4187">stir::CListModeDataLMF</a>, and <a class="el" href="classstir_1_1CListModeDataPENN.html#a81b4dcccfafe8c2e985ffaed70467c5b">stir::CListModeDataPENN</a>.</p>

</div>
</div>
<a id="a34479a772d959b5076e13d8b2ce48548"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34479a772d959b5076e13d8b2ce48548">&#9670;&nbsp;</a></span>get_scanner()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classstir_1_1Scanner.html">Scanner</a> &amp; stir::ListModeData::get_scanner </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get reference to scanner. </p>
<p>Returns a reference to a scanner object that is appropriate for the list mode data that is being read. </p>

</div>
</div>
<a id="a9cf6b87145336be3c563401063e1cbd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cf6b87145336be3c563401063e1cbd6">&#9670;&nbsp;</a></span>get_total_number_of_events()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual unsigned long int stir::ListModeData::get_total_number_of_events </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the total number of events in the listmode file. </p>
<dl class="section warning"><dt>Warning</dt><dd>This function currently works only with ROOT input files. By default it will throw an error. </dd></dl>

<p>Reimplemented in <a class="el" href="classstir_1_1CListModeDataROOT.html#a78bfb3df95c86fdb189cef137b2dd572">stir::CListModeDataROOT</a>, and <a class="el" href="classstir_1_1CListModeDataPENN.html#a8cf78ce7d944cadb717da41f7df5f62e">stir::CListModeDataPENN</a>.</p>

<p class="reference">References <a class="el" href="group__buildblock.html#ga19b3ad285f04d613640a497f868b385f">stir::error()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="acee37d4d167bbe3bf4f1fc78947f3ad9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acee37d4d167bbe3bf4f1fc78947f3ad9">&#9670;&nbsp;</a></span>proj_data_info_sptr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">shared_ptr&lt;const <a class="el" href="classstir_1_1ProjDataInfo.html">ProjDataInfo</a>&gt; stir::ListModeData::proj_data_info_sptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Has to be set by the derived class. </p>
<p>Has to be initialised by the derived class </p>

<p class="reference">Referenced by <a class="el" href="classstir_1_1CListModeDataPENN.html#a19fb1b7a546986062a2f20035e3ef3ad">stir::CListModeDataPENN::CListModeDataPENN()</a>, <a class="el" href="classstir_1_1CListModeDataROOT.html#a8baf41a636d8db8d42a028d41cbde356">stir::CListModeDataROOT::CListModeDataROOT()</a>, and <a class="el" href="classstir_1_1CListModeDataSAFIR.html#aa30210ec3c370689df34b2227c7813da">stir::CListModeDataSAFIR&lt; CListRecordT &gt;::CListModeDataSAFIR()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/sirfuser/devel/STIRdistrib/STIR/src/include/stir/listmode/<a class="el" href="ListModeData_8h_source.html">ListModeData.h</a></li>
<li>/home/sirfuser/devel/STIRdistrib/STIR/src/listmode_buildblock/<a class="el" href="ListModeData_8cxx.html">ListModeData.cxx</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Feb 7 2024 08:24:38 for STIR by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
