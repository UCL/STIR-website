<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STIR: stir::GE::RDF_HDF5::InputStreamWithRecordsFromHDF5&lt; RecordT &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">STIR
   &#160;<span id="projectnumber">6.3.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacestir.html">stir</a></li><li class="navelem"><a class="el" href="namespacestir_1_1GE.html">GE</a></li><li class="navelem"><b>RDF_HDF5</b></li><li class="navelem"><a class="el" href="classstir_1_1GE_1_1RDF__HDF5_1_1InputStreamWithRecordsFromHDF5.html">InputStreamWithRecordsFromHDF5</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classstir_1_1GE_1_1RDF__HDF5_1_1InputStreamWithRecordsFromHDF5-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">stir::GE::RDF_HDF5::InputStreamWithRecordsFromHDF5&lt; RecordT &gt; Class Template Reference<div class="ingroups"><a class="el" href="group__STIR.html">STIR</a> &raquo; <a class="el" href="group__STIR__library.html">STIR library</a> &raquo; <a class="el" href="group__IO.html">Input/Output Library</a><a class="el" href="group__STIR.html">STIR</a> &raquo; <a class="el" href="group__STIR__library.html">STIR library</a> &raquo; <a class="el" href="group__IO.html">Input/Output Library</a> &raquo;  &#124; <a class="el" href="group__GE.html">support for GE data</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>A helper class to read data from a hdf5 file.  
 <a href="classstir_1_1GE_1_1RDF__HDF5_1_1InputStreamWithRecordsFromHDF5.html#details">More...</a></p>

<p><code>#include &quot;<a class="el" href="InputStreamWithRecordsFromHDF5_8h_source.html">stir/IO/InputStreamWithRecordsFromHDF5.h</a>&quot;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ae28b91e2dd012a8ed891d0d6d5b6eff1"><td class="memItemLeft" align="right" valign="top"><a id="ae28b91e2dd012a8ed891d0d6d5b6eff1"></a>
typedef std::vector&lt; std::streampos &gt;::size_type&#160;</td><td class="memItemRight" valign="bottom"><b>SavedPosition</b></td></tr>
<tr class="separator:ae28b91e2dd012a8ed891d0d6d5b6eff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5e0082ce0c01d241241e559f6458adda"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1GE_1_1RDF__HDF5_1_1InputStreamWithRecordsFromHDF5.html#a5e0082ce0c01d241241e559f6458adda">InputStreamWithRecordsFromHDF5</a> (const std::string &amp;filename, const std::size_t size_of_record_signature, const std::size_t max_size_of_record)</td></tr>
<tr class="memdesc:a5e0082ce0c01d241241e559f6458adda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor taking a stream.  <a href="#a5e0082ce0c01d241241e559f6458adda">More...</a><br /></td></tr>
<tr class="separator:a5e0082ce0c01d241241e559f6458adda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20e3928ba98ca3380d3c06125da3df75"><td class="memItemLeft" align="right" valign="top"><a id="a20e3928ba98ca3380d3c06125da3df75"></a>
virtual <a class="el" href="classstir_1_1Succeeded.html">Succeeded</a>&#160;</td><td class="memItemRight" valign="bottom"><b>get_next_record</b> (RecordT &amp;record)</td></tr>
<tr class="separator:a20e3928ba98ca3380d3c06125da3df75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7c1d73daecfac506e83dc79c7b50464"><td class="memItemLeft" align="right" valign="top"><a id="ac7c1d73daecfac506e83dc79c7b50464"></a>
virtual <a class="el" href="classstir_1_1Succeeded.html">Succeeded</a>&#160;</td><td class="memItemRight" valign="bottom"><b>set_up</b> ()</td></tr>
<tr class="separator:ac7c1d73daecfac506e83dc79c7b50464"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70b367940fc752209676a31365c1bed7"><td class="memItemLeft" align="right" valign="top"><a id="a70b367940fc752209676a31365c1bed7"></a>
<a class="el" href="classstir_1_1Succeeded.html">Succeeded</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1GE_1_1RDF__HDF5_1_1InputStreamWithRecordsFromHDF5.html#a70b367940fc752209676a31365c1bed7">reset</a> ()</td></tr>
<tr class="memdesc:a70b367940fc752209676a31365c1bed7"><td class="mdescLeft">&#160;</td><td class="mdescRight">go back to starting position <br /></td></tr>
<tr class="separator:a70b367940fc752209676a31365c1bed7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad279e6c7c34ca09a5f626d3a749ba2af"><td class="memItemLeft" align="right" valign="top">SavedPosition&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1GE_1_1RDF__HDF5_1_1InputStreamWithRecordsFromHDF5.html#ad279e6c7c34ca09a5f626d3a749ba2af">save_get_position</a> ()</td></tr>
<tr class="memdesc:ad279e6c7c34ca09a5f626d3a749ba2af"><td class="mdescLeft">&#160;</td><td class="mdescRight">save current "get" position in an internal array  <a href="#ad279e6c7c34ca09a5f626d3a749ba2af">More...</a><br /></td></tr>
<tr class="separator:ad279e6c7c34ca09a5f626d3a749ba2af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36e8a4a9cf00411168fdb3d9e6463a58"><td class="memItemLeft" align="right" valign="top"><a id="a36e8a4a9cf00411168fdb3d9e6463a58"></a>
<a class="el" href="classstir_1_1Succeeded.html">Succeeded</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1GE_1_1RDF__HDF5_1_1InputStreamWithRecordsFromHDF5.html#a36e8a4a9cf00411168fdb3d9e6463a58">set_get_position</a> (const SavedPosition &amp;)</td></tr>
<tr class="memdesc:a36e8a4a9cf00411168fdb3d9e6463a58"><td class="mdescLeft">&#160;</td><td class="mdescRight">set current "get" position to previously saved value <br /></td></tr>
<tr class="separator:a36e8a4a9cf00411168fdb3d9e6463a58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a038bf77f4727d445a29cdcac6dde8d47"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::streampos &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1GE_1_1RDF__HDF5_1_1InputStreamWithRecordsFromHDF5.html#a038bf77f4727d445a29cdcac6dde8d47">get_saved_get_positions</a> () const</td></tr>
<tr class="memdesc:a038bf77f4727d445a29cdcac6dde8d47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that enables the user to store the saved get_positions.  <a href="#a038bf77f4727d445a29cdcac6dde8d47">More...</a><br /></td></tr>
<tr class="separator:a038bf77f4727d445a29cdcac6dde8d47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa79d94d45fcda21e970a384a88df099f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstir_1_1GE_1_1RDF__HDF5_1_1InputStreamWithRecordsFromHDF5.html#aa79d94d45fcda21e970a384a88df099f">set_saved_get_positions</a> (const std::vector&lt; std::streampos &gt; &amp;)</td></tr>
<tr class="memdesc:aa79d94d45fcda21e970a384a88df099f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function that sets the saved get_positions.  <a href="#aa79d94d45fcda21e970a384a88df099f">More...</a><br /></td></tr>
<tr class="separator:aa79d94d45fcda21e970a384a88df099f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class RecordT&gt;<br />
class stir::GE::RDF_HDF5::InputStreamWithRecordsFromHDF5&lt; RecordT &gt;</h3>

<p>A helper class to read data from a hdf5 file. </p>
<p>This class is really a helper class for reading different records from a stream. It is useful when all types of records have some kind of signature to allow the function to find out what the size of the record is. In that case, all IO handling is completely generic and is implemented in this class.</p>
<p>Current implementation needs a <code>max_size_of_record</code> to allocate enough memory (on the stack) before reading. This is efficient in many cases, but impractical in others.</p>
<dl class="section user"><dt>Requirements</dt><dd><code>RecordT</code> needs to have the following member functions <div class="fragment"><div class="line">std::size_t</div><div class="line">  size_of_record_at_ptr(<span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> buffer, <span class="keyword">const</span> std::size_t size_available_in_buffer,</div><div class="line">                        <span class="keyword">const</span> OptionsT options) <span class="keyword">const</span>;</div><div class="line"></div><div class="line">Succeeded</div><div class="line">  init_from_data_ptr(<span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> buffer,</div><div class="line">                     <span class="keyword">const</span> std::size_t size_of_record,</div><div class="line">                     <span class="keyword">const</span> OptionsT options);</div></div><!-- fragment --></dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000055">Todo:</a></b></dt><dd>Allow choosing between allocation with <code>new</code> or on the stack. </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a5e0082ce0c01d241241e559f6458adda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e0082ce0c01d241241e559f6458adda">&#9670;&nbsp;</a></span>InputStreamWithRecordsFromHDF5()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class RecordT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstir_1_1GE_1_1RDF__HDF5_1_1InputStreamWithRecordsFromHDF5.html">stir::GE::RDF_HDF5::InputStreamWithRecordsFromHDF5</a>&lt; RecordT &gt;::<a class="el" href="classstir_1_1GE_1_1RDF__HDF5_1_1InputStreamWithRecordsFromHDF5.html">InputStreamWithRecordsFromHDF5</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::size_t&#160;</td>
          <td class="paramname"><em>size_of_record_signature</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::size_t&#160;</td>
          <td class="paramname"><em>max_size_of_record</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor taking a stream. </p>
<p>Data will be assumed to start at the start of the DataSet. If <a class="el" href="classstir_1_1GE_1_1RDF__HDF5_1_1InputStreamWithRecordsFromHDF5.html#a70b367940fc752209676a31365c1bed7" title="go back to starting position ">reset()</a> is used, it will go back to this starting position. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad279e6c7c34ca09a5f626d3a749ba2af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad279e6c7c34ca09a5f626d3a749ba2af">&#9670;&nbsp;</a></span>save_get_position()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class RecordT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classstir_1_1GE_1_1RDF__HDF5_1_1InputStreamWithRecordsFromHDF5.html">InputStreamWithRecordsFromHDF5</a>&lt; RecordT &gt;::SavedPosition <a class="el" href="classstir_1_1GE_1_1RDF__HDF5_1_1InputStreamWithRecordsFromHDF5.html">stir::GE::RDF_HDF5::InputStreamWithRecordsFromHDF5</a>&lt; RecordT &gt;::save_get_position </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>save current "get" position in an internal array </p>
<dl class="section return"><dt>Returns</dt><dd>an "index" into the array that allows you to go back. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classstir_1_1GE_1_1RDF__HDF5_1_1InputStreamWithRecordsFromHDF5.html#a36e8a4a9cf00411168fdb3d9e6463a58" title="set current &quot;get&quot; position to previously saved value ">set_get_position</a> </dd></dl>

</div>
</div>
<a id="a038bf77f4727d445a29cdcac6dde8d47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a038bf77f4727d445a29cdcac6dde8d47">&#9670;&nbsp;</a></span>get_saved_get_positions()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class RecordT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::streampos &gt; <a class="el" href="classstir_1_1GE_1_1RDF__HDF5_1_1InputStreamWithRecordsFromHDF5.html">stir::GE::RDF_HDF5::InputStreamWithRecordsFromHDF5</a>&lt; RecordT &gt;::get_saved_get_positions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function that enables the user to store the saved get_positions. </p>
<p>Together with <a class="el" href="classstir_1_1GE_1_1RDF__HDF5_1_1InputStreamWithRecordsFromHDF5.html#aa79d94d45fcda21e970a384a88df099f" title="Function that sets the saved get_positions. ">set_saved_get_positions()</a>, this allows reinstating the saved get_positions when reopening the same stream. </p>

</div>
</div>
<a id="aa79d94d45fcda21e970a384a88df099f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa79d94d45fcda21e970a384a88df099f">&#9670;&nbsp;</a></span>set_saved_get_positions()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class RecordT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classstir_1_1GE_1_1RDF__HDF5_1_1InputStreamWithRecordsFromHDF5.html">stir::GE::RDF_HDF5::InputStreamWithRecordsFromHDF5</a>&lt; RecordT &gt;::set_saved_get_positions </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::streampos &gt; &amp;&#160;</td>
          <td class="paramname"><em>poss</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function that sets the saved get_positions. </p>
<p>Normally, the argument results from a call to <a class="el" href="classstir_1_1GE_1_1RDF__HDF5_1_1InputStreamWithRecordsFromHDF5.html#a038bf77f4727d445a29cdcac6dde8d47" title="Function that enables the user to store the saved get_positions. ">get_saved_get_positions()</a> on the same stream. </p><dl class="section warning"><dt>Warning</dt><dd>There is no check if the argument actually makes sense for the current stream. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/sirfuser/devel/STIRdistrib/STIR/src/include/stir/IO/<a class="el" href="InputStreamWithRecordsFromHDF5_8h_source.html">InputStreamWithRecordsFromHDF5.h</a></li>
<li>/home/sirfuser/devel/STIRdistrib/STIR/src/include/stir/IO/<a class="el" href="InputStreamWithRecordsFromHDF5_8inl.html">InputStreamWithRecordsFromHDF5.inl</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Oct 31 2025 13:54:52 for STIR by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
